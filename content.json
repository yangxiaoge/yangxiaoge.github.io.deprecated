{"meta":{"title":"ç ç ã®Blog","subtitle":"Just do it!","description":"èƒŒç€é”®ç›˜çš„ç¼–ç¨‹ä¾ å®¢!","author":"Bruce Yang","url":"https://yangxiaoge.github.io"},"pages":[{"title":"","date":"2017-09-20T01:41:45.592Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"404.html","permalink":"https://yangxiaoge.github.io/404.html","excerpt":"","text":""},{"title":"About","date":"2017-09-20T01:41:45.604Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"about/index.html","permalink":"https://yangxiaoge.github.io/about/index.html","excerpt":"","text":"çˆ±æŠ€æœ¯ã€çˆ±ç”Ÿæ´»ã€‚ Heyï¼Œæˆ‘æ˜¯ Bruce Yangï¼ŒAndroid å¼€å‘è€… &amp; ç‹¬ç«‹å¼€å‘è€…ï¼Œå—äº¬ä¿¡æ¯å·¥ç¨‹å¤§å­¦ Â· è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ 2015 å¹´æ¯•ä¸šã€‚ ä¸ªäººå±¥å† æ±Ÿè‹åŒ—å¼“æ™ºèƒ½ 2017.04 - è‡³ä»ŠZTEsoft ä¸­å…´è½¯åˆ› 2015.04 - 2017.04 æŠ€æœ¯æ–¹é¢ æ“…é•¿ Android å¼€å‘ï¼Œä½†æ˜¯ Android ä¹‹å¤–ï¼Œå¯¹å‰åç«¯æŠ€æœ¯å‡æœ‰çˆ±å¥½ã€‚ä¸€äº›ä½œå“å’Œå¼€æºé¡¹ç›®ï¼ŒğŸ‘‰ æˆ³ Mumuxi ä¸ Githubã€‚ å…´è¶£çˆ±å¥½ å–œæ¬¢å¬æ­Œï¼Œå–œæ¬¢çš„æ­Œæ‰‹æœ‰ é™ˆå¥•è¿… æ—å®¥å˜‰ å‘¨æ°ä¼¦ï¼Œæˆ‘çš„ç½‘æ˜“äº‘éŸ³ä¹ã€‚å–œæ¬¢è¿åŠ¨ï¼Œä¹Ÿå–œæ¬¢æˆ·å¤–ï¼Œç™»å±±ç­‰ç­‰ã€‚ å¤–åŒ…å‹¿æ‰°ï¼ŒçŒå¤´å‹¿æ‰°ã€‚æˆ‘çš„ç®€å†"},{"title":"Archives","date":"2017-09-20T01:41:45.604Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"archives/index.html","permalink":"https://yangxiaoge.github.io/archives/index.html","excerpt":"","text":""},{"title":"Friends","date":"2017-09-20T01:41:45.608Z","updated":"2017-09-20T01:41:45.608Z","comments":true,"path":"friends/index.html","permalink":"https://yangxiaoge.github.io/friends/index.html","excerpt":"","text":""},{"title":"gallery","date":"2017-09-20T01:41:45.608Z","updated":"2017-09-20T01:41:45.608Z","comments":true,"path":"gallery/index.html","permalink":"https://yangxiaoge.github.io/gallery/index.html","excerpt":"","text":""},{"title":"","date":"2017-09-20T01:41:46.196Z","updated":"2017-09-20T01:41:46.196Z","comments":true,"path":"img/æˆ‘çš„æ¼”è¯´.html","permalink":"https://yangxiaoge.github.io/img/æˆ‘çš„æ¼”è¯´.html","excerpt":"","text":"æˆ‘çš„æ¼”è¯´ - @æ¼”è¯´.io var link = document.createElement( 'link' ); link.rel = 'stylesheet'; link.type = 'text/css'; link.href = window.location.search.match( /print-pdf/gi ) ? 'https://yanshuo.io/assets/player//css/print/pdf.css' : ''; document.getElementsByTagName( 'head' )[0].appendChild( link ); Helloï¼ŒCPU@yangjiananGithubä¸­å›½è¯ç§‘å¤§å­¦æ ¡å›­&nbsp;&nbsp;æµ‹è¯•markdown here! private boolean isMM900() { // 41401, \"MM 900\", \"MM\", \"ç¼…ç”¸\" // å½“å‰ç½‘ç»œæä¾›å•†å¿…é¡»æ˜¯MPTå¹¶ä¸”æ‰‹æœºå¡ä¹Ÿæ˜¯MPTçš„! //if (DeviceInfo.getMCCMNC().equals(Constants.MPT_MCC_MNC) &amp;&amp; DeviceInfo.getIMSI().startsWith(Constants.MPT_MCC_MNC)) { if (true) { // æ–°çš„è‡ªåŠ¨ç™»å½• 4.1.9 Auto Login æ¥å£ï¼› æ³¨æ„ï¼šä½¿ç”¨çš„åè®®ä¸º HTTPï¼Œ // Http Header ä¸­æ”¾å…¥ç™»é™†çš„ä¸Šä¸‹æ–‡ä¿¡æ¯: MEID, terminal-type, } Making the world a better place.END.è‡ªè±ªçš„é‡‡ç”¨ @æ¼”è¯´.io.at-block{ position:absolute } Reveal.initialize({ controls: true, history: true, center: false, transition: 'fade', backgroundTransition: 'default', transitionSpeed: 'default', // no marked.js // no markdown.js // no highlight.js dependencies: [ { src: 'https://yanshuo.io/assets/player/lib/js/classList.js', condition: function() { return !document.body.classList; } }, { src: 'https://yanshuo.io/assets/player/plugin/zoom-js/zoom.js', async: true }, { src: 'https://yanshuo.io/assets/player/plugin/notes/notes.js', async: true } ] });"},{"title":"Links","date":"2017-03-09T07:03:51.000Z","updated":"2017-09-20T01:41:46.260Z","comments":true,"path":"links/index.html","permalink":"https://yangxiaoge.github.io/links/index.html","excerpt":"","text":"å¼€æºé¡¹ç›®æ”¶é›† ğŸ‘†ğŸ‘†ğŸ‘† æ¯æ—¥å¿…çœ‹ é“¾æ¥ ç®€ä»‹ é¸¿æ´‹ å›½å†… Android å¼€å‘å¤§ç‰› éƒ­éœ– å›½å†… Android å¼€å‘å¤§ç‰›ï¼Œé¸¿æ´‹æ…åŸº Gank å¹²è´§é›†ä¸­è¥ æ¸©æ•…è€ŒçŸ¥æ–° é“¾æ¥ ç®€ä»‹ AndroidInterview-Q-A é¡¶å°–çš„äº’è”ç½‘å…¬å¸ Androidé¢è¯•é—®é¢˜å’Œç­”æ¡ˆ AndroidNote Android åŸºç¡€,è¿›é˜¶,View,é¢è¯• java-design-patterns Java è®¾è®¡æ¨¡å¼è¯¦ç»† Demo Java åŸºç¡€å›é¡¾ Java åŸºç¡€å›é¡¾ è‡ªå®šä¹‰ View è‡ªå®šä¹‰ View æ•™ç¨‹ç›®å½• HenCoder View æŠ›ç‰©çº¿çš„è‡ªå®šä¹‰ View å¼€å‘è¿›é˜¶ Hensen_ çš„å…¨æ ˆå¼å¯¼èˆª ä»åŸºç¡€åˆ°è¿›é˜¶å¤ä¹  é‚£äº›å¹´ Android é»‘ç§‘æŠ€ï¼ŒDevNote - é¦™è„†çš„å¤§é¸¡æ’ Android é»‘ç§‘æŠ€â‘ â‘¡â‘¢ ï¼Œå€¼å¾—ä¸€çœ‹ï¼ ç´§è·Ÿæ—¶ä»£ é“¾æ¥ ç®€ä»‹ AndroidChromium è°·æ­Œæµè§ˆå™¨å®‰å“ç‰ˆæºç é¡¹ç›®ï¼Œä¸–ç•Œçº§çš„å®‰å“æ¶æ„ Android Google ARCore å°é²œè®°å½• AR å°é²œ - D_clock çˆ±åƒè‘±èŠ± 360Â° å…¨æ™¯å›¾ç‰‡ã€å…¨æ™¯è§†é¢‘å·¥ç¨‹ VR Android ä¸‰ç§å§¿åŠ¿å¸¦ä½ ç©è½¬ 360 åº¦å…¨æ™¯å›¾åŠŸèƒ½ VRï¼Œé¸¿æ´‹å…¬ä¼—å·æ¨è è½»æ¾å…¥é—¨ Android ç›´æ’­ç›¸å…³æŠ€æœ¯ ä» 0 æ­å»ºç›´æ’­ç³»ç»Ÿ é¸¿æ´‹å¤§ç‰›çš„ç›´æ’­å…¥é—¨æ•™ç¨‹ï¼Œæˆ‘å·²ç»è¯•è¿‡ï¼Œå¹¶è®°å½•äº†æˆªå›¾ æ·±åº¦å­¦ä¹ å·¥ç¨‹å¸ˆ-ç½‘æ˜“äº‘ å´æ©è¾¾ç»™ä½ çš„äººå·¥æ™ºèƒ½ç¬¬ä¸€è¯¾ æ•™å­¦ç±» é“¾æ¥ ç®€ä»‹ å­¦ä¹ æ­£åˆ™çš„å¼€æºé¡¹ç›® å¸…æ¯”å¼ ã€Œstormzhangã€æ¨è Kotlin Gitbook Kotlin gitbook Kotlin ç³»ç»Ÿå…¥é—¨ä¸è¿›é˜¶ Â¥ 99.00 æ…•è¯¾ç½‘æ•™å­¦ MIUI ç³»ç»Ÿå·¥ç¨‹å¸ˆ Gityuan åŸºäºAndroid 6.0çš„æºç ï¼Œä¸“æ³¨äºåˆ†äº«Androidç³»ç»ŸåŸç†ã€æ¶æ„åˆ†æçš„åŸåˆ›æ–‡ç«  å»–é›ªå³°Pythonæ•™ç¨‹ Pythonæ•™ç¨‹è®²è§£çš„æµ…æ˜¾æ˜“æ‡‚é€‚åˆåˆå­¦è€… å·¥å…·é›† é“¾æ¥ ç®€ä»‹ VIP è§†é¢‘ ä½ æ‡‚å¾— æå®¢å¯¼èˆª ç¨‹åºå‘˜è‡ªå·±çš„å¯¼èˆª åœ¨çº¿å·¥å…· å¸¸ç”¨çš„åœ¨çº¿å·¥å…· èœé¸Ÿå·¥å…· ç¼–è¯‘ä»¥åŠå‰ç«¯å·¥å…· æ¼”è¯´ éšæ—¶éšåœ°çš„åœ¨çº¿å±•ç¤ºæ–‡ç¨¿ ä½¿ç”¨ Jenkins å®ç°æŒç»­é›†æˆ (Android) æŒç»­é›†æˆ easy_mock_api NodeJS ç¼–å†™çš„ï¼Œç»™å®¢æˆ·ç«¯ï¼ˆAndroid iOSï¼‰åŒå­¦æœ¬åœ°æ¨¡æ‹Ÿ json æ¥å£çš„å°å·¥å…· easy-mock åœ¨çº¿ mock RxTools æ”¯ä»˜ï¼Œè´­ç‰©è½¦æ§ä»¶ï¼Œåˆ†äº«ï¼Œåœ†å›¾ï¼ŒäºŒç»´ç ï¼Œå‹ç¼©ï¼Œwebviewï¼Œæ»‘åŠ¨éªŒè¯ï¼Œlocationï¼Œç”µå½±ç¥¨é€‰åº§ï¼Œè”ç³»äººï¼Œè·‘é©¬ç¯ï¼ŒToastï¼Œç™»å½• ç­‰ç­‰ Android å·¥å…·é›† å›Šæ‹¬æ‰€æœ‰ä½ èƒ½æƒ³åˆ°çš„utilsï¼Œä¸ç”¨è‡ªå·±å»å†™å·¥å…·äº†ã€‚ å¿«é€Ÿå¼€å‘å·¥å…·ç±»æ”¶é›† é“¶è¡Œå¡ç®¡ç†ï¼Œspï¼Œappinfoï¼Œcacheï¼Œphoneinfoï¼Œviewutilsç­‰ è½»æ¾ä¸€åˆ» å°å½¤èŠ±å›­"},{"title":"å¼€æºé¡¹ç›®æ”¶é›†","date":"2016-09-14T03:39:56.000Z","updated":"2017-09-20T01:41:46.260Z","comments":true,"path":"project_collection/index.html","permalink":"https://yangxiaoge.github.io/project_collection/index.html","excerpt":"å¦‚ä½•æŒæ¡ Android - 21 ä¸ªåº”ç”¨ç¨‹åº AndroidTVLauncher çŒ«æ¡Œé¢ - ä¸­å›½é¦–ä½ 00 å CEO å…¬ç„¶æŠ„è¢­ã€å¤åˆ¶æˆ‘çš„å¼€æºä½œå“, åŸä½œè€…çš„é¡¹ç›®éƒ½å¾ˆæ£’ï¼åšå†³æŠµåˆ¶è¿™ç§ç‚’ä½œæŠ„è¢­è¡Œä¸ºï¼ Androidæœ€æ–°æºç æ±‡æ€» Arsenal Trinea wanandroid_é¸¿æ´‹ç»´æŠ¤ æå®¢å¯¼èˆª osplus QQä¸Šæ‹‰å¼¹å‡ºé”®ç›˜ AndroidKeyboardListener å„ç§ä¸‹æ‹‰æ•ˆæœSpringView(ç¾å›¾,QQç½‘é¡µä¸‹æ‹‰ç­‰ç­‰) ç­‰ç­‰â€¦","text":"å¦‚ä½•æŒæ¡ Android - 21 ä¸ªåº”ç”¨ç¨‹åº AndroidTVLauncher çŒ«æ¡Œé¢ - ä¸­å›½é¦–ä½ 00 å CEO å…¬ç„¶æŠ„è¢­ã€å¤åˆ¶æˆ‘çš„å¼€æºä½œå“, åŸä½œè€…çš„é¡¹ç›®éƒ½å¾ˆæ£’ï¼åšå†³æŠµåˆ¶è¿™ç§ç‚’ä½œæŠ„è¢­è¡Œä¸ºï¼ Androidæœ€æ–°æºç æ±‡æ€» Arsenal Trinea wanandroid_é¸¿æ´‹ç»´æŠ¤ æå®¢å¯¼èˆª osplus QQä¸Šæ‹‰å¼¹å‡ºé”®ç›˜ AndroidKeyboardListener å„ç§ä¸‹æ‹‰æ•ˆæœSpringView(ç¾å›¾,QQç½‘é¡µä¸‹æ‹‰ç­‰ç­‰) ç­‰ç­‰â€¦ å°è±¡ç¬”è®°(ç›®å‰ä¸å¯¹å¤–å…¬å¸ƒ) æ”¶é›†ä¸­(é¸¿æ´‹,éƒ­éœ–å¾®ä¿¡åšå®¢éƒ½å¯ä»¥å…³æ³¨ä¸‹)â€¦ æ»´æ»´æ»´~~~æ¥ä¸åŠè§£é‡Šäº†! å¿«ä¸Šè½¦! ä¸é”™çš„åšå®¢å’Œå·¥å…·ç½‘ç«™ ä»¿QQ6.0ä¾§æ»‘æ•ˆæœ AndroidåŠ¨æ€ç”ŸæˆéªŒè¯ç VerificationCode View Androidå¼€å‘äººå‘˜ä¸å¾—ä¸æ”¶é›†çš„ä»£ç (æŒç»­æ›´æ–°ä¸­) æ¸…æ™°çµæ´»ç®€å•æ˜“ç”¨çš„åº”ç”¨æ›´æ–°åº“ å¤šè¯­è¨€åˆ‡æ¢åº“ mpté¡¹ç›®ä½¿ç”¨ä¸­ calligraphy(é«˜æ•ˆåŠ è½½å­—ä½“åº“) mpté¡¹ç›®ä½¿ç”¨ä¸­ material-dialogs QuickDevLib TakePhoto StatusBarUtilçŠ¶æ€æ å·¥å…·ç±» å¾®ç¬‘ä¸‹æ‹‰åˆ·æ–° å„ç§å¸ƒå±€ä¸‹æ‹‰åˆ·æ–°æ•ˆæœ å¤šFragmentåµŒå¥—åº“, ä»¿çŸ¥ä¹ç­‰ ä»¿ç…§ç½‘æ˜“äº‘éŸ³ä¹(2.9.0)ç•Œé¢çš„ç»ƒä¹ é¡¹ç›® æ‰‹åŠ¿å¼•å¯¼ é«˜ä»¿QQé™„è¿‘çš„äººé›·è¾¾æ‰«æå›¾ SwipeMenuListView é«˜ä»¿WeChat ã€ŠAndroidå¼€å‘è‰ºæœ¯æ¢ç´¢ã€‹ä¹¦ä¸­æºä»£ç  é¸¿æ´‹okhttpçš„å°è£…ç±» appæŒ‡å‘æ€§åŠŸèƒ½é«˜äº®çš„åº“_é¸¿æ´‹å†™çš„ Material Design Bottom çŸ¥ä¹ Android å®¢æˆ·ç«¯å¯åŠ¨é¡µåŠ¨ç”»æ•ˆæœå®ç° ä»¿flymeæ‚¬æµ®çƒ wuchangfeng/one åå°ç”¨pythonæŠ“æ•°æ®å­˜å‚¨åœ¨LeanCloud - å¯¹åº”çš„åç«¯ åˆç†çš„è¿›ç¨‹ä¿æ´» æ‰“ä¸æ­»çš„å°å¼º,æ°¸ä¸crashçš„Android Fragmentationä¸€ä¸ªå¼ºå¤§çš„Android Fragmentç®¡ç†åº“,apkä¸‹è½½ - 2017å¹´2æœˆ20æ—¥09:54:56 Android ç›´æ’­æ’­æ”¾å™¨+å¼¹å¹•ä½¿ç”¨æ€»ç»“ - 2017å¹´2æœˆ16æ—¥16:02:06 ã€Šäº‘é˜…ã€‹ä¸€ä¸ªä»¿ç½‘æ˜“äº‘éŸ³ä¹UIï¼Œä½¿ç”¨Gank.IoåŠè±†ç“£Apiå¼€å‘çš„å¼€æºé¡¹ç›® é«˜ä»¿å¾®ä¿¡6.3.31 androidå„ç§æµç¨‹æºç è§£æ AndroidStudioâ€”â€”Freelineçš„ä½¿ç”¨â€”éƒ­éœ–å…¬ä¼—å· Androidè·¯ç”±æ¡†æ¶ æ¯•ä¸šè®¾è®¡â€”â€”okHttpå°è£…+php+xampp+retrofitå°è£…+rx+mvc+æ–‡æ¡£çš„æˆå“app RapidFloatingActionButton sealtalk-androidï¼šåŸºäºèäº‘å¼€å‘çš„ Android ç‰ˆå³æ—¶é€šè®¯ï¼ˆIMï¼‰åº”ç”¨ç¨‹åº - å—¨è±¹ - é¸¿æ´‹å¾®ä¿¡æ¨è DropDownMenuå¼€æºåº“ SmartRefreshLayout - Android æ™ºèƒ½ä¸‹æ‹‰åˆ·æ–°æ¡†æ¶-SmartRefreshLayout easy_mock_api - ç»™å®¢æˆ·ç«¯ï¼ˆAndroid iOSï¼‰åŒå­¦çš„æ¨¡æ‹Ÿjsonæ¥å£çš„å°å·¥å…· ç”¨nodejsï¼ˆexpress+reactï¼‰æ­å»ºçš„æç®€çš„æœåŠ¡å™¨ï¼Œç»™å®šä¸€ä¸ªurlå°±è¿”å›ä¸€ä¸ªç‰¹å®šçš„Jsonæ•°æ®ï¼Œæä¾›ç»™å®¢æˆ·ç«¯å¼€å‘åŒå­¦ç”¨çš„æ¨¡æ‹ŸJsonæœåŠ¡å™¨æ¥å£çš„é¡¹ç›®ï¼Œé¡¹ç›®å°½å¯èƒ½çš„ç®€å•ï¼Œæ ¸å¿ƒä»£ç åªæœ‰100å¤šè¡Œï¼Œç®€å•è€Œå®ç”¨ï¼Œæ–¹ä¾¿æ‰©å±•ã€‚ Spotlight-æ”¯æŒå¼•å¯¼è·¯å¾„é«˜äº®çš„æ–¹æ¡ˆã€‚ Matisse - çŸ¥ä¹å›¾ç‰‡é€‰æ‹©47.TelegramGallery - æŠ½å– Telegram ç›¸å†ŒåŠŸèƒ½ ä»¿å…¨æ°‘TV é«˜ä»¿å…¨æ°‘ç›´æ’­ï¼ˆå…¨æ°‘TVï¼‰ é«˜ä»¿iOS æ»šè½®å®ç° çœå¸‚åŒº åŸå¸‚é€‰æ‹©ä¸‰çº§è”åŠ¨ å²ä¸Šæœ€ç®€å•ä¾§æ»‘èœå•52.GankMM â€“ å¹²è´§è¥ - åŒ…å« æ³¡ç½‘ï¼Œå¤©æ°”ï¼Œå¸¸ç”¨å·¥å…·ï¼Œæ¢è‚¤ç­‰52.Android å½•éŸ³åŠŸèƒ½ç›´æ¥æ‹¿å»ç”¨ - codeå°ç”Ÿ53.Android å®ç° dialog çš„ 3D ç¿»è½¬54.360Â° å…¨æ™¯å›¾ç‰‡ã€å…¨æ™¯è§†é¢‘å·¥ç¨‹55.Android-SVProgressHUD ç²¾ä»¿ iOS çš„æç¤ºåº“56.AndroidCustomView - å„ç§è‡ªå®šä¹‰ View æ•ˆæœ 2017-9-18 10:16:4557.SuperTextView - 2017-9-18 10:16:3958.AndroidAllDemos - ç»§æ‰¿å½“ä¸‹ä¸»æµæ¡†æ¶ï¼Œå®ç°å¿«é€Ÿå¼€å‘ 2017-9-18 10:23:0359.Amaze æ–‡ä»¶ç®¡ç†å™¨ - æ–‡ä»¶ç®¡ç†å™¨"},{"title":"Tags","date":"2017-09-20T01:41:46.260Z","updated":"2017-09-20T01:41:46.260Z","comments":true,"path":"tags/index.html","permalink":"https://yangxiaoge.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ä» 0 æ­å»ºç›´æ’­ç³»ç»Ÿ","slug":"2017-09-12-ä»-0-æ­å»ºç›´æ’­ç³»ç»Ÿ","date":"2017-09-12T07:45:18.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2017/09/12/2017-09-12-ä»-0-æ­å»ºç›´æ’­ç³»ç»Ÿ/","link":"","permalink":"https://yangxiaoge.github.io/2017/09/12/2017-09-12-ä»-0-æ­å»ºç›´æ’­ç³»ç»Ÿ/","excerpt":"","text":"ä¸€ç›´æƒ³æä¸ªç›´æ’­çš„ Demoï¼Œä»Šå¤©æ­£å¥½çœ‹åˆ°é¸¿æ´‹å…¬ä¼—å·ï¼šè½»æ¾å…¥é—¨ Android ç›´æ’­ç›¸å…³æŠ€æœ¯ ä» 0 æ­å»ºç›´æ’­ç³»ç»Ÿï¼Œç´¢æ€§å°±æŠŠæˆ‘è‡ªå·±çš„æ­(æŠ˜)å»º(è…¾)è¿‡ç¨‹åšä¸€ä¸ªè®°å½•ã€‚ æ­å»ºæµç¨‹ï¼š æœåŠ¡å™¨ç³»ç»Ÿï¼šUbuntu 16.10 ç³»ç»Ÿæ¨æµï¼Œæ‹‰æµç³»ç»Ÿï¼šWin 7, Android ä¸€ä¸ªç®€æ˜“çš„ç›´æ’­ç³»ç»Ÿï¼Œå¤§è‡´å¯ä»¥ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼ˆè¯¦æƒ…è§é¸¿æ´‹åšå®¢ï¼‰ï¼š æ­å»ºä¸€ä¸ª rtmp åª’ä½“æœåŠ¡å™¨ï¼šè¿™é‡Œä½¿ç”¨ srs æ¨æµç«¯ï¼šè¿™é‡Œä½¿ç”¨ obs æ‹‰æµç«¯ï¼šè¿™é‡Œä½¿ç”¨æ’­æ”¾å™¨ vlc ä½¿ç”¨ç¬¬ä¸‰æ–¹ SDK æ¨æµè¿™é‡Œä»¥ç™¾åº¦äº‘çš„ç›´æ’­ SDK ä¸ºä¾‹ï¼Œä¸‹è½½åœ°å€ï¼šhttps://cloud.baidu.com/doc/Downloadcenter/Push.html#.E7.89.88.E6.9C.AC.E6.9B.B4.E6.96.B0.E8.AF.B4.E6.98.8E ä¿®æ”¹æ¨æµåœ°å€ä¹‹åä¸Šä¼ åˆ°äº†æˆ‘çš„ PushFlowLive apk ä¸‹è½½ ä½¿ç”¨å¼€æºé¡¹ç›®æ¨æµä½¿ç”¨ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼š https://github.com/begeekmyfriend/yasea apk ä¸‹è½½ åˆ©ç”¨ ffmpeg æ¨æµ è¯¦æƒ…è§é¸¿æ´‹åšå®¢ å¤§å®¶å¯ä»¥è‡ªå·±ä¸‹è½½ ffmepg çš„æºç ï¼Œç„¶åæŒ‰ç…§ç½‘ä¸Šçš„æ–¹å¼å»ç¼–æˆ soï¼Œç®€å•çš„ä¸€ç‚¹è€Œä¸”æ¯”è¾ƒå®ç”¨çš„ï¼Œå°±æ˜¯ç¼–å‡ºå¯ä»¥æ‰§è¡Œ ffmpeg å‘½ä»¤çš„ soï¼Œè¿™æ ·å°±èƒ½å¹²å¾ˆå¤šäº‹æƒ…äº†ã€‚ è¿™é‡Œï¼Œç”±äºç¯‡å¹…ï¼Œæˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨åˆ«äººç¼–å¥½çš„é¡¹ç›®äº†ã€‚ https://github.com/WritingMinds/ffmpeg-android-java æ­å»ºè¿‡ç¨‹æˆªå›¾ï¼š å°é¢å°é»„äººåŠ¨å›¾æ¥è‡ª giphy","categories":[],"tags":[{"name":"ç›´æ’­","slug":"ç›´æ’­","permalink":"https://yangxiaoge.github.io/tags/ç›´æ’­/"}]},{"title":"æˆ‘çœ¼ä¸­çš„ Android Framework","slug":"2017-09-05-æˆ‘çœ¼ä¸­çš„-Android-Framework","date":"2017-09-05T06:16:37.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2017/09/05/2017-09-05-æˆ‘çœ¼ä¸­çš„-Android-Framework/","link":"","permalink":"https://yangxiaoge.github.io/2017/09/05/2017-09-05-æˆ‘çœ¼ä¸­çš„-Android-Framework/","excerpt":"","text":"åœ¨å¼€å‘ä¸­æˆ‘ä»¬ä¼šé‡åˆ°å„ç§å„æ ·çš„éå¸¸å¥‡æ€ªçš„é—®é¢˜ï¼Œæœ‰äº›é—®é¢˜æ˜¯ç™¾æ€ä¸å¾—éª‘å§ã€‚å…¶å®è¿™äº›é—®é¢˜å¤§éƒ½æ˜¯å› ä¸ºæˆ‘ä»¬ä¸äº†è§£å®‰å“å†…éƒ¨è¿è¡ŒåŸç†ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶æ‰æ˜¯æˆ‘ä»¬çš„ç›®çš„ã€‚â€” å‰è¨€ æœ¬æ–‡è½¬è‡ª å¢¨é•œçŒ«ï¼Œé€šä¿—æœ‰è¶£çš„æ–‡ç¬” ä»»ä½•æ§åˆ¶ç±»ç¨‹åºéƒ½æœ‰ä¸€ä¸ªå…¥å£ï¼Œå®‰å“åº”ç”¨ç¨‹åºè‚¯å®šä¹Ÿæ˜¯æœ‰æ»´ã€‚Android framework åŒ…å«ä¸‰ä¸ªå°ä¼™ä¼´ï¼šæœåŠ¡ç«¯ã€å®¢æˆ·ç«¯ã€linux é©±åŠ¨ã€‚ æœåŠ¡ç«¯æœåŠ¡ç«¯ä¸»è¦åŒ…å«ä¸¤ä¸ªç‹ é‡è¦çš„ç±»ï¼šWindowManagerServiceï¼ˆWMSï¼‰å’Œ ActivityManagerServiceï¼ˆAMSï¼‰ å®¢æˆ·ç«¯å®¢æˆ·ç«¯åŒ…å«ä»¥ä¸‹ç±»ï¼š ActivityThreadï¼šæ˜¯å®‰å“åº”ç”¨ç¨‹åºçš„ä¸»çº¿ç¨‹ç±»ï¼Œè¿™ä¸ªå°ä¼™ä¼´æ‰€åœ¨çš„çº¿ç¨‹å°±æ˜¯ UI çº¿ç¨‹æˆ–è€…ç§°ä¸ºä¸»çº¿ç¨‹ã€‚ Activityï¼šActivityThread ä¼šæ ¹æ®ç”¨æˆ·çš„æ“ä½œé€‰æ‹©è®©å“ªä¸ª Activity å¯¹è±¡ä¸Šå®ƒçš„èˆ¹ã€‚ PhoneWindowï¼šå¯ŒäºŒä»£ï¼Œç»§æ‰¿äºç‰›æ°”çš„ Window ç±»ï¼Œè‡ªå·±å±‹é‡Œä½ç€ä¸€ä¸ª DecorView å¯¹è±¡ï¼Œåƒå®ƒè€çˆ¸å–œæ¬¢åˆ¶å®šè§„åˆ™æä¾›äº†ä¸€äº›é€šç”¨çª—å£æ“ä½œ APIã€‚ Windowï¼šå¯Œä¸€ä»£ï¼Œé•¿å¾—æ¯”è¾ƒæŠ½è±¡ï¼Œå–œæ¬¢åˆ¶å®šè§„åˆ™æä¾›äº†ä¸€äº›é€šç”¨çš„çª—å£æ“ä½œ APIã€‚å®ƒä¸å–œæ¬¢è¢«äººç®¡æ‰€ä»¥å‘¢ï¼Œæ³¨æ„ï¼šWindowManagerService ç®¡ç†çš„çª—å£ä¸æ˜¯ Window ç±»ï¼Œå…¶å®æ˜¯ View å’Œ ViewGroupã€‚ DecorViewï¼šå¾ˆèƒ½å¹²çš„å®¶ä¼™ï¼Œå®¶äº§æ¥è‡ª FrameLayoutï¼Œæ¯”è¾ƒæ³¨é‡å¤–åœ¨å–œæ¬¢æ‰“æ‰®ï¼ŒDecorView æ˜¯å¯¹ FrameLayout è¿›è¡Œäº†ä¸€äº›ä¿®é¥°ï¼Œä»åå­—å°±å¯ä»¥çœ‹å‡ºæ¥ã€‚ ViewRootï¼šå°ç®¡å®¶ç»§æ‰¿äº Handlerï¼Œä¸»è¦ä½œç”¨æ˜¯æŠŠ WMS çš„ IPC è°ƒç”¨è½¬æ¢ä¸ºæœ¬åœ°çš„ä¸€ä¸ªå¼‚æ­¥è°ƒç”¨ã€‚ W ç±»ï¼šViewRoot å°åŠ©æ‰‹ï¼Œç»§æ‰¿äº binderï¼Œæ˜¯ ViewRoot å†…éƒ¨ç±»ã€‚ä¸»è¦å¸®åŠ© ViewRoot å®ç°æŠŠ WMS çš„ IPC è°ƒç”¨è½¬æ¢ä¸ºæœ¬åœ°çš„ä¸€ä¸ªå¼‚æ­¥è°ƒç”¨ã€‚ WindowManagerï¼šå®¢æˆ·ç«¯å¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªçª—å£å¾—å…ˆå‘Šè¯‰ WindowManager ä¸€å£°ï¼Œç„¶åå®ƒå†å’Œ WindowManagerService äº¤æµä¸€ä¸‹çœ‹çœ‹èƒ½ä¸èƒ½åˆ›å»ºï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥å’Œ WMS äº¤äº’ã€‚ Linux é©±åŠ¨Linux é©±åŠ¨å’Œ Framework ç›¸å…³çš„ä¸»è¦æ˜¯ä¸¤ä¸ªéƒ¨åˆ†ï¼šç”»å®¶ SurfaceFlingger å’Œå¿«é€’å‘˜ Binderã€‚ æ¯ä¸€ä¸ªçª—å£éƒ½å¯¹åº”ä¸€ä¸ªç”» Surfaceï¼ŒSF ä¸»è¦æ˜¯æŠŠå„ä¸ª Surface æ˜¾ç¤ºåˆ°åŒä¸€å±å¹•ä¸Šã€‚Binder æ˜¯æä¾›è·¨è¿›ç¨‹çš„æ¶ˆæ¯ä¼ é€’ã€‚ ä» apk ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹å»çœ‹çœ‹ä¸Šé¢å„ä¸ªç»„ä»¶åœ¨å•¥æ—¶å€™å¹²å•¥æ´»çš„ActivityThread ä» main() å‡½æ•°ä¸­å°±å¼€å§‹åŠ¨èµ·æ¥ï¼Œç„¶åè°ƒç”¨ prepareMainLooper() ä¸º UI çº¿ç¨‹åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯å¿«é€’é€šé“å³ MessageQueueã€‚ æ¥ç€åˆ›å»º ActivityThread å¯¹è±¡ï¼Œåˆ›å»ºè¿‡ç¨‹ä¼šåˆ›å»ºä¸€ä¸ªæ¶ˆæ¯è£…å¸å·¥ Handler å¯¹è±¡å’Œä¸€ä¸ªå¿«é€’å‘˜ Binder å¯¹è±¡ï¼Œå…¶ä¸­ Binder è´Ÿè´£æ¥æ”¶è¿œç¨‹ Ams çš„ IPC è°ƒç”¨ï¼Œæ¥æ”¶åˆ°è°ƒç”¨åè®© Handler æŠŠæ¶ˆæ¯è£…åˆ°æ¶ˆæ¯å¿«é€’é˜Ÿåˆ—ï¼ŒUI çº¿ç¨‹å¾ˆå¿™çš„éƒ½æ˜¯å¼‚æ­¥çš„ä»æ¶ˆæ¯å¿«é€’é˜Ÿåˆ—ä¸­å–å‡ºæ¶ˆæ¯å¹¶æ‰§è¡Œç›¸åº”æ“ä½œï¼Œæ¯”å¦‚ startã€stopã€pauseã€‚ ç„¶å UI çº¿ç¨‹è®©é˜Ÿåˆ—è°ƒç”¨ Looper.loop() æ–¹æ³•è¿›å…¥æ¶ˆæ¯å¾ªç¯ä½“ï¼Œè¿›å…¥åå°±ä¼šä¸æ–­åœ°ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–å¹¶å¤„ç†æ¶ˆæ¯ã€‚ å½“ ActivityThread æ¥æ”¶åˆ° Ams å‘é€ start æŸä¸ª Activity çš„å¿«é€’åå°±ä¼šåˆ›å»ºæŒ‡å®šçš„ Activity å¯¹è±¡ã€‚Activity ä¼šå…ˆæŒ‰çª—æˆ·å†å»æŒ‰ç»ç’ƒå’Œè´´çª—èŠ±ï¼Œæ‰€ä»¥å…ˆåˆ›å»º PhoneWindow-&gt;DecorView-&gt; åˆ›å»ºç›¸åº”çš„ View æˆ– ViewGroupã€‚åˆ›å»ºå®Œæˆåå°±å¯ä»¥è®©å¤§å®¶æ¬£èµäº†ï¼Œè°ƒç”¨ WindowManager æŠŠç•Œé¢æ˜¾ç¤ºåˆ°å±å¹•ä¸Šï¼Œç„¶ååˆ›å»º ViewRootï¼Œç„¶åè°ƒç”¨ Wms æä¾›çš„è¿œç¨‹æ¥å£æ·»åŠ ä¸€ä¸ªçª—å£å¹¶æ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚ æ¥ä¸‹æ¥å°±æ˜¯ç”¨æˆ·çš„æ“ä½œï¼Œäº‹ä»¶çº¿ç¨‹ä¸æ–­çš„æŠŠæ¶ˆæ¯å¿«é€’å‘åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­å»ï¼Œç„¶åäº‹ä»¶åˆ†å‘çº¿ç¨‹ç§˜ä¹¦é€ä¸ªå–å‡ºæ¶ˆæ¯ï¼Œç„¶åè°ƒç”¨ Wms ä¸­çš„ç›¸åº”å‡½æ•°å¤„ç†è¯¥æ¶ˆæ¯ã€‚ å¾ˆå¤šçº¿ç¨‹æ˜¯ä¸æ˜¯å¾ˆæ™•ï¼Ÿ å®‰å“ç¨‹åºä¸­éƒ½æœ‰å“ªäº›çº¿ç¨‹ï¼Ÿ å®¢æˆ·ç«¯å°ä¼™ä¼´è‡³å°‘åŒ…å«ä¸‰ä¸ªçº¿ç¨‹å°å¼Ÿï¼ŒActivity å¯åŠ¨åä¼šåˆ›å»ºä¸€ä¸ª ViewRoot.W å¯¹è±¡ï¼ŒåŒæ—¶ ActivityThread ä¼šåˆ›å»ºä¸€ä¸ª ApplicationThread å¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡ç»§æ‰¿æ¶ˆæ¯æ€»ç®¡ Binderï¼Œæ¯ä¸ª Binder å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼Œè´Ÿè´£æ¥æ”¶ Linux Binder é©±åŠ¨å‘é€çš„ IPC è°ƒç”¨ã€‚è¿˜æœ‰ä¸€ä¸ªæ˜¯ UI çº¿ç¨‹å‘—ã€‚ UI çº¿ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ ä¸€ç›´åœ¨å€¾å¬ç”¨æˆ·çš„å¿ƒå£°ï¼Œæ‰€æœ‰çš„å¤„ç†ç”¨æˆ·æ¶ˆæ¯ï¼Œä»¥åŠç»˜åˆ¶é¡µé¢çš„å·¥ä½œéƒ½åœ¨è¯¥çº¿ç¨‹ä¸­å®Œæˆã€‚ è‡ªå®šä¹‰çš„çº¿ç¨‹å’Œ UI çº¿ç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ UI çº¿ç¨‹æ˜¯ä» ActivityThread è¿è¡Œçš„ï¼Œåœ¨è¯¥ç±»çš„ main() æ–¹æ³•ä¸­å·²ç»ä½¿ç”¨äº† Looper.prepareMainLooper() ä¸ºè¯¥çº¿ç¨‹æ·»åŠ äº† Looper å¯¹è±¡ï¼Œå·²ç»ä¸ºè¯¥çº¿ç¨‹åˆ›å»ºäº†æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ˜¯è‡ªå¸¦ç§˜ä¹¦å…‰ç¯çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ‰å¯ä»¥åœ¨ Activity ä¸­å»å®šä¹‰ Handler å¯¹è±¡ï¼Œå› ä¸ºåˆ›å»º Handler å¯¹è±¡æ—¶å…¶çº¿ç¨‹å¿…é¡»å·²ç»åˆ›å»ºäº†æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè£…å¸å·¥å¾—é…è¿è¾“å¸¦è¦ä¸ç„¶æ²¡æ³•å¹²æ´»ã€‚è€Œæ™®é€šçš„ Thread åˆ™æ²¡æœ‰é»˜è®¤åˆ›å»ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥åœ¨ Thread ä¸­ç›´æ¥å®šä¹‰ Handlerï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬ä¸æ‡‚ç¨‹åºè¿è¡ŒåŸç†å¯¼è‡´çš„å›°æƒ‘ã€‚","categories":[],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"Framework","slug":"Framework","permalink":"https://yangxiaoge.github.io/tags/Framework/"}]},{"title":"å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯ï¼Ÿ","slug":"2017-08-29-å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯ï¼Ÿ","date":"2017-08-29T06:36:51.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2017/08/29/2017-08-29-å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯ï¼Ÿ/","link":"","permalink":"https://yangxiaoge.github.io/2017/08/29/2017-08-29-å¦‚ä½•é€‰æ‹©å¼€æºè®¸å¯è¯ï¼Ÿ/","excerpt":"","text":"ä½œä¸ºä¸€åå¼€å‘äººå‘˜ï¼Œåº”å½“ç§‰æ‰¿å¼€æºç²¾ç¥ï¼Œéµå®ˆå¼€æºåè®®ï¼Œè¿™æ˜¯å¿…å¤‡çš„é“å¾·ä¿®å…»å’Œç´ è´¨ã€‚ æœ¬æ–‡è½¬è‡ª é˜®ä¸€å³° å¤§å¤§ å¦‚ä½•ä¸ºä»£ç é€‰æ‹©å¼€æºè®¸å¯è¯ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ä¸–ç•Œä¸Šçš„å¼€æºè®¸å¯è¯ï¼Œå¤§æ¦‚æœ‰ä¸Šç™¾ç§ã€‚å¾ˆå°‘æœ‰äººæå¾—æ¸…æ¥šå®ƒä»¬çš„åŒºåˆ«ã€‚å³ä½¿åœ¨æœ€æµè¡Œçš„å…­ç§â€”â€“ GPLã€BSDã€MITã€Mozillaã€Apache å’Œ LGPLâ€”-ä¹‹ä¸­åšé€‰æ‹©ï¼Œä¹Ÿå¾ˆå¤æ‚ã€‚ä¹Œå…‹å…°ç¨‹åºå‘˜ Paul Bagwell ï¼Œç”»äº†ä¸€å¼ åˆ†æå›¾ï¼Œè¯´æ˜åº”è¯¥æ€ä¹ˆé€‰æ‹©ã€‚è¿™æ˜¯æˆ‘è§è¿‡çš„æœ€ç®€å•çš„è®²è§£ï¼Œåªç”¨ä¸¤åˆ†é’Ÿï¼Œä½ å°±èƒ½ææ¸…æ¥šè¿™å…­ç§è®¸å¯è¯ä¹‹é—´çš„æœ€å¤§åŒºåˆ«ã€‚ä¸‹é¢æ˜¯æˆ‘åˆ¶ä½œçš„ä¸­æ–‡ç‰ˆï¼Œè¯·çœ‹å¤§å›¾ã€‚ æœ‰å…´è¶£è¯¦ç»†äº†è§£å¼€æºåè®®çš„å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼šç¨‹åºå‘˜ä¸å¯ä¸çŸ¥çš„ç‰ˆæƒåè®®","categories":[],"tags":[{"name":"é—²è°ˆ","slug":"é—²è°ˆ","permalink":"https://yangxiaoge.github.io/tags/é—²è°ˆ/"}]},{"title":"Binderæºç åˆ†æ","slug":"Binderæºç åˆ†æ","date":"2017-07-06T02:00:05.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2017/07/06/Binderæºç åˆ†æ/","link":"","permalink":"https://yangxiaoge.github.io/2017/07/06/Binderæºç åˆ†æ/","excerpt":"","text":"forked from xdtianyu/SourceAnalysis æœ¬æ–‡æ˜¯åŸºäº Android 6.0.0 å’Œ kernel 3.4 æºç  åŠ Android SDK 23 å±•å¼€çš„ã€‚ ç›®å½• 1. ç®€ä»‹ 2. Binder ä¸ AIDL 2.1 AIDL å®¢æˆ·ç«¯ 2.2 AIDL æœåŠ¡ç«¯ 2.3 è¿œç¨‹æœåŠ¡çš„è·å–ä¸ä½¿ç”¨ 3. Binder æ¡†æ¶åŠ Native å±‚ 3.1 Binder Native çš„å…¥å£ 3.2 Binder æœ¬åœ°å±‚çš„æ•´ä¸ªå‡½æ•°/æ–¹æ³•è°ƒç”¨è¿‡ç¨‹ 3.3 Binder è®¾å¤‡æ–‡ä»¶çš„æ‰“å¼€å’Œè¯»å†™ 4. Binder é©±åŠ¨ 4.1 binder è®¾å¤‡çš„åˆ›å»º 4.2 binder åè®®å’Œæ•°æ®ç»“æ„ 4.3 binder é©±åŠ¨æ–‡ä»¶æ“ä½œ 5. Binder ä¸ç³»ç»ŸæœåŠ¡ 5.1 Context.getSystemService() 5.2 Context.getSystemService() æºç åˆ†æ 6. ç»“è®º 7. å‚è€ƒ 1. ç®€ä»‹Binder æ˜¯ä¸€ç§ Android è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼Œæä¾›è¿œç¨‹è¿‡ç¨‹è°ƒç”¨(Remote Procedure Call)åŠŸèƒ½ã€‚æˆ‘ä»¬æœ€ç›´æ¥çš„ä½¿ç”¨æ˜¯è°ƒç”¨ Context.getSystemService() æ¥è·å–ç³»ç»ŸæœåŠ¡ï¼Œæˆ–ç›´æ¥ä½¿ç”¨ AIDL æ¥å®ç°å¤šä¸ªç¨‹åº(APP)é—´æ•°æ®äº¤äº’ã€‚ Binder æ˜¯éå¸¸é‡è¦çš„ Android åŸºç¡€ç»„ä»¶ï¼Œå‡ ä¹æ‰€æœ‰çš„è¿›ç¨‹é—´é€šä¿¡éƒ½æ˜¯ä½¿ç”¨ Binder æœºåˆ¶å®ç°çš„ã€‚æœ¬æ–‡å°†ç»“åˆæºç å±•å¼€è®²è¿° Binder ï¼ŒåŒæ—¶å¯¹ä¸€äº›é‡è¦çŸ¥è¯†ç‚¹æä¾›æ‰©å±•é˜…è¯»çš„å‚è€ƒã€‚ ä¸ç®¡æ˜¯ Android ç³»ç»ŸæœåŠ¡(System services)è¿˜æ˜¯ç”¨æˆ·çš„åº”ç”¨è¿›ç¨‹(User apps)ï¼Œæœ€ç»ˆéƒ½ä¼šé€šè¿‡ binder æ¥å®ç°è¿›ç¨‹é—´é€šä¿¡ã€‚ä¸Šå±‚åº”ç”¨é¦–å…ˆé€šè¿‡ IBinder çš„ transcate æ–¹æ³•å‘é€å‘½ä»¤ç»™ libbinderï¼Œ libbinder å†é€šè¿‡ç³»ç»Ÿè°ƒç”¨(ioctl) å‘é€å‘½ä»¤åˆ°å†…æ ¸ä¸­çš„ binder é©±åŠ¨ï¼Œä¹‹åå†ç”±é©±åŠ¨å®Œæˆè¿›ç¨‹é—´æ•°æ®çš„äº¤äº’ã€‚ æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ Intentï¼ŒMessager æ•°æ®ä¼ é€’ä¹Ÿæ˜¯å¯¹ Binder æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡å’Œå°è£…ï¼Œæœ€ç»ˆè¿˜æ˜¯ä¼šç”±å†…æ ¸ä¸­çš„ binder é©±åŠ¨å®Œæˆæ•°æ®çš„ä¼ é€’ã€‚ 2. Binder ä¸ AIDLAIDL (Android Interface definition language) æ˜¯æ¥å£æè¿°è¯­è¨€ï¼Œç”¨äºç”Ÿæˆåœ¨ä¸¤ä¸ªè¿›ç¨‹é—´è¿›è¡Œé€šä¿¡çš„ä»£ç ã€‚å…ˆçœ‹ AIDL æ¦‚å¿µå›¾ Stub.Proxy å’Œ Stub ä»£ç ç”± Android Sdk è‡ªåŠ¨ç”Ÿæˆï¼Œå®¢æˆ·ç«¯é€šè¿‡ Stub.Proxy ä¸è¿œç¨‹æœåŠ¡äº¤äº’ã€‚ Stub åŒ…å«å¯¹ IBinder å¯¹è±¡æ“ä½œçš„å°è£…ï¼Œéœ€è¦è¿œç¨‹æœåŠ¡å®ç°å…·ä½“åŠŸèƒ½ã€‚ æ¥ä¸‹æ¥å†çœ‹å…·ä½“å®ç°ï¼Œ å®Œæ•´æºä»£ç è§ AidlExampleã€‚åœ¨è¿™ä¸ªå·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ–°å»ºäº†ä¸¤ä¸ªåº”ç”¨ï¼Œ app æ˜¯å®¢æˆ·ç«¯ä»£ç ï¼Œ remoteservice åˆ™æ˜¯æœåŠ¡ç«¯ä»£ç ã€‚ 2.1 AIDL å®¢æˆ·ç«¯åœ¨ Android Studio é¡¹ç›®ä¸Šå³é”®ï¼Œ New -&gt; AIDL -&gt; AIDL File è¾“å…¥æ–‡ä»¶ååå¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ª AIDL çš„ä»£ç ç»“æ„ã€‚ä¾‹å¦‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ª IRemoteService.aidl æ–‡ä»¶ 12345678// IRemoteService.aidlpackage com.android.aidltest;interface IRemoteService &#123; void basicTypes(int anInt, long aLong, boolean aBoolean, float aFloat, double aDouble, String aString);&#125; ä»ç”Ÿæˆçš„ç¤ºä¾‹ä»£ç å¯ä»¥çœ‹å‡ºï¼ŒAIDL çš„è¯­æ³•ç±»ä¼¼ Javaï¼Œ basicTypes() æ–¹æ³•ä¼ é€’çš„å‚æ•°åªæ˜¯åŸºæœ¬ç±»å‹ã€‚ å¦‚æœè¦ä¼ é€’è‡ªå®šä¹‰ç±»å‹å¦‚ Userï¼Œåˆ™éœ€è¦å®ç° Parcelable æ¥å£ã€‚Parcelable æ˜¯ä¸€ä¸ªä¸ Java Serializable ç±»ä¼¼çš„åºåˆ—åŒ–æ¥å£ã€‚ è¿™æ ·ç±» User çš„å®ä¾‹å°±å¯ä»¥å‚¨å­˜åˆ° Parcel ä¸­ï¼Œè€Œ Parcel åˆ™æ˜¯ä¸€ä¸ªå¯ä»¥é€šè¿‡ IBinder å‘é€æ•°æ®æˆ–å¯¹è±¡å¼•ç”¨çš„å®¹å™¨ã€‚ 1234567891011121314151617181920212223242526272829303132// User.javapublic class User implements Parcelable &#123; private int uid; private String name; // ä» Parcel ä¸­è¯»å–æ•°æ®ï¼Œé¡ºåºéœ€è¦å’Œå†™å…¥ä¿æŒä¸€è‡´ protected User(Parcel in) &#123; uid = in.readInt(); name = in.readString(); &#125; // å¿…é¡»å®ç°ï¼Œç”¨äºä» Parcel å¯¹è±¡ä¸­ç”Ÿæˆç±»å®ä¾‹ public static final Creator&lt;User&gt; CREATOR = new Creator&lt;User&gt;() &#123; @Override public User createFromParcel(Parcel in) &#123; return new User(in); &#125; @Override public User[] newArray(int size) &#123; return new User[size]; &#125; &#125;; // å°†æ•°æ®å†™å…¥åˆ° Parcel ä¸­ï¼Œ é¡ºåºéœ€è¦ä¸è¯»å–ä¿æŒä¸€è‡´ @Override public void writeToParcel(Parcel dest, int flags) &#123; dest.writeInt(uid); dest.writeString(name); &#125;&#125; å†å‘ IRemoteService.aidl ä¸­æ·»åŠ ä¸€ä¸ª addUser() æ–¹æ³•ï¼ŒåŒæ—¶æ–°å»ºä¸€ä¸ª User.aidl æ–‡ä»¶ã€‚ 1234567891011121314151617// IRemoteService.aidlpackage com.android.aidltest;import com.android.aidltest.User;interface IRemoteService &#123; void basicTypes(int anInt, long aLong, boolean aBoolean, float aFloat, double aDouble, String aString); // in è¡¨ç¤ºä¼ å…¥æ•°æ®ï¼Œ out è¡¨ç¤ºä¼ å‡ºæ•°æ®ï¼Œ inout è¡¨ç¤ºåŒå‘ä¼ é€’ã€‚æ³¨æ„å«æœ‰ out æ—¶ User ç±»éœ€è¦å®ç° readFromParcel() æ–¹æ³• void addUser(in User user);&#125;// User.aidlpackage com.android.aidltest;parcelable User; è¿è¡Œç¼–è¯‘åï¼Œä¼šåœ¨ generated æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆä¸€ä¸ª IRemoteService.java æ¥å£æ–‡ä»¶ã€‚è¿™ä¸ªæ¥å£ä¸­æœ‰ä¸¤ä¸ªå†…éƒ¨ç±» Stub å’Œ Stub.Proxyã€‚æ³¨æ„å®¢æˆ·ç«¯ç”Ÿæˆçš„IRemoteService.java æ–‡ä»¶å’Œåœ¨åæ–‡æœåŠ¡ç«¯ç”Ÿæˆçš„æ–‡ä»¶å†…å®¹æ˜¯ç›¸åŒçš„ã€‚ å®¢æˆ·ç«¯ä¼šä» Stub.asInterface() å¾—åˆ° IRemoteService (Stub.Proxy) çš„å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹å°±æ˜¯ä¸€ä¸ªé€šè¿‡ Binder ä¼ é€’å›æ¥çš„ è¿œç¨‹å¯¹è±¡ çš„åŒ…è£…ã€‚è€ŒæœåŠ¡ç«¯åˆ™éœ€è¦å®ç° IRemoteService.addUser() æ–¹æ³•ã€‚ 1234567891011// IRemoteService.javapublic static org.xdty.remoteservice.IRemoteService asInterface(android.os.IBinder obj) &#123; if ((obj == null)) &#123; return null; &#125; android.os.IInterface iin = obj.queryLocalInterface(DESCRIPTOR); if (((iin != null) &amp;&amp; (iin instanceof org.xdty.remoteservice.IRemoteService))) &#123; return ((org.xdty.remoteservice.IRemoteService) iin); &#125; return new org.xdty.remoteservice.IRemoteService.Stub.Proxy(obj);&#125; 2.2 AIDL æœåŠ¡ç«¯ä¸ºäº†æ¼”ç¤ºè¿›ç¨‹é—´é€šä¿¡ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ¨¡å—ï¼ˆåº”ç”¨ï¼‰ RemoteService æ¥å®ç°åŠŸèƒ½ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯ç»‘å®šæœåŠ¡ã€‚ æŒ‰å®¢æˆ·ç«¯çš„ç»“æ„æ–°å»º IRemoteService.aidl User.aidl User.java æ–‡ä»¶ï¼Œå¹¶æ‹·è´å†…å®¹ï¼Œæ³¨æ„å¦‚æœéœ€è¦è¯·ä¿®æ”¹åŒ…åã€‚ æ–°å»ºæœåŠ¡ RemoteService ï¼Œè¦†ç›–(Override) onBind() æ–¹æ³•å¹¶è¿”å› IRemoteService.Stub å®ä¾‹ mBinderï¼š 123456789101112131415161718192021// RemoteService.javapublic class RemoteService extends Service &#123; private static final String TAG = RemoteService.class.getSimpleName(); private IBinder mBinder = new IRemoteService.Stub() &#123; @Override public void basicTypes(int anInt, long aLong, boolean aBoolean, float aFloat, double aDouble, String aString) throws RemoteException &#123; Log.d(TAG, \"basicTypes: \"); &#125; @Override public void addUser(User user) throws RemoteException &#123; Log.d(TAG, \"addUser: \" + user.name); &#125; &#125;; @Override public IBinder onBind(Intent intent) &#123; return mBinder; &#125;&#125; è¿™æ ·æœåŠ¡ç«¯å°±å®ç°äº† addUser() æ–¹æ³•ï¼Œå½“å®¢æˆ·ç«¯é€šè¿‡è¿œç¨‹å¯¹è±¡è°ƒç”¨ IRemoteService.Stub.Proxy.addUser() æ—¶ï¼Œè¿œç¨‹å¯¹è±¡ mRemote å°±ä¼šé€šè¿‡ transact() å‘é€å‘½ä»¤ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°å‘½ä»¤ååœ¨ Stub.onTransact() ä¸­è¯»å–æ•°æ®å¹¶æ‰§è¡Œ addUser() æ–¹æ³•ã€‚æ›´å¤šç»†èŠ‚æˆ‘ä»¬å°†åœ¨ 3. Binder æ¡†æ¶åŠ Native å±‚ å°èŠ‚è®²è¿°ã€‚ 123456789101112131415161718192021// IRemoteService.java@Overridepublic boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) throws android.os.RemoteException &#123; switch (code) &#123; ... case TRANSACTION_addUser: &#123; data.enforceInterface(DESCRIPTOR); org.xdty.remoteservice.User _arg0; if ((0 != data.readInt())) &#123; _arg0 = org.xdty.remoteservice.User.CREATOR.createFromParcel(data); &#125; else &#123; _arg0 = null; &#125; this.addUser(_arg0); reply.writeNoException(); return true; &#125; &#125; return super.onTransact(code, data, reply, flags);&#125; 2.3 è¿œç¨‹æœåŠ¡çš„è·å–ä¸ä½¿ç”¨å®¢æˆ·ç«¯è¦ä½¿ç”¨è¿œç¨‹æœåŠ¡ï¼Œéœ€è¦ç»‘å®šæœåŠ¡ (bindService) å¹¶å»ºç«‹æœåŠ¡è¿æ¥ (ServiceConnection)ã€‚ 123456789101112131415161718192021222324// MainActivity.javapublic class MainActivity extends AppCompatActivity &#123; private ServiceConnection mConnection = new ServiceConnection() &#123; @Override public void onServiceConnected(ComponentName name, IBinder service) &#123; IRemoteService remoteService = IRemoteService.Stub.asInterface(service); try &#123; remoteService.addUser(new User(1, \"neo\")); &#125; catch (RemoteException e) &#123; e.printStackTrace(); &#125; &#125; ... &#125;; ... @Override protected void onCreate(Bundle savedInstanceState) &#123; ... Intent intent = new Intent().setComponent(new ComponentName( \"org.xdty.remoteservice\", \"org.xdty.remoteservice.RemoteService\")); bindService(intent, mConnection, Context.BIND_AUTO_CREATE); &#125;&#125; æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå®¢æˆ·ç«¯é€šè¿‡ binderService() æ–¹æ³•ï¼Œè·å–è¿œç¨‹æœåŠ¡å¹¶åœ¨æœåŠ¡è¿æ¥ ServiceConnection ä¸­ onServiceConnected() å›è°ƒä¸­å¾—åˆ°äº† IBinder service å®ä¾‹ï¼Œ æœ€åé€šè¿‡ä¸Šæ–‡æåˆ°çš„ IRemoteService.Stub.asInterface(service) æ–¹æ³•å¾—åˆ°è¿œç¨‹æœåŠ¡ IRemoteService çš„å®ä¾‹ã€‚é€šè¿‡ IRemoteService.addUser() æ–¹æ³•æˆ‘ä»¬å¯ä»¥åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·è°ƒç”¨è¿œç¨‹æ–¹æ³•ã€‚åœ¨æ¥çœ‹ IRemoteService.addUser() çš„å®ç°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839// IRemoteService.javapublic static org.xdty.remoteservice.IRemoteService asInterface(android.os.IBinder obj) &#123; ... return new org.xdty.remoteservice.IRemoteService.Stub.Proxy(obj);&#125;private static class Proxy implements org.xdty.remoteservice.IRemoteService &#123; private android.os.IBinder mRemote; Proxy(android.os.IBinder remote) &#123; mRemote = remote; &#125; @Override public android.os.IBinder asBinder() &#123; return mRemote; &#125; ... @Override public void addUser(org.xdty.remoteservice.User user) throws android.os.RemoteException &#123; android.os.Parcel _data = android.os.Parcel.obtain(); android.os.Parcel _reply = android.os.Parcel.obtain(); try &#123; _data.writeInterfaceToken(DESCRIPTOR); if ((user != null)) &#123; _data.writeInt(1); user.writeToParcel(_data, 0); &#125; else &#123; _data.writeInt(0); &#125; mRemote.transact(Stub.TRANSACTION_addUser, _data, _reply, 0); _reply.readException(); &#125; finally &#123; _reply.recycle(); _data.recycle(); &#125; &#125;&#125; å¯ä»¥çœ‹åˆ°å®¢æˆ·ç«¯è°ƒç”¨ remoteService.addUser(new User(1, â€œneoâ€)) æ–¹æ³•å®é™…ä¸Šæ˜¯é€šè¿‡ IBinder service å®ä¾‹çš„ transact() æ–¹æ³•ï¼Œå‘é€äº†ä¸æœåŠ¡ç«¯çº¦å®šå¥½çš„å‘½ä»¤ Stub.TRANSACTION_addUserï¼Œå¹¶å°†å‚æ•°æŒ‰æ ¼å¼æ‰“åŒ…è¿› Parcel å¯¹è±¡ã€‚ æœåŠ¡ç«¯åˆ™åœ¨ onTransact() æ–¹æ³•ä¸­æ”¶åˆ°å‘½ä»¤åä¼šå¯¹å‘½ä»¤å’Œå‚æ•°é‡æ–°è§£æï¼š 1234567891011121314151617181920// IRemoteService.javapublic boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) throws android.os.RemoteException &#123; switch (code) &#123; ... case TRANSACTION_addUser: &#123; data.enforceInterface(DESCRIPTOR); org.xdty.remoteservice.User _arg0; if ((0 != data.readInt())) &#123; _arg0 = org.xdty.remoteservice.User.CREATOR.createFromParcel(data); &#125; else &#123; _arg0 = null; &#125; this.addUser(_arg0); reply.writeNoException(); return true; &#125; &#125; return super.onTransact(code, data, reply, flags);&#125; å¯ä»¥çœ‹åˆ°åœ¨ onTransact() ä¸­ï¼Œæœ€ç»ˆ this.addUser(_arg0) è°ƒç”¨äº†ä¸Šæ–‡æåˆ°çš„æœåŠ¡ç«¯çš„å®ç° IRemoteService.Stub.addUser() ã€‚ è¿œç¨‹ Binder å¯¹è±¡ mRemote æ˜¯ç”±å®¢æˆ·ç«¯ç»‘å®šæœåŠ¡æ—¶ onServiceConnected() è¿”å›çš„ã€‚ç»§ç»­è¿½è¸ª bindService() 1234567// ContextImpl.java@Overridepublic boolean bindService(Intent service, ServiceConnection conn, int flags) &#123; warnIfCallingFromSystemProcess(); return bindServiceCommon(service, conn, flags, Process.myUserHandle());&#125; å¯ä»¥çœ‹åˆ°æœ€åæ˜¯é€šè¿‡ ActivityManagerNative.getDefault().bindService() æ¥ç»‘å®šæœåŠ¡ 12345678910111213141516// bindServiceCommon()int res = ActivityManagerNative.getDefault().bindService( mMainThread.getApplicationThread(), getActivityToken(), service, service.resolveTypeIfNeeded(getContentResolver()), sd, flags, getOpPackageName(), user.getIdentifier());// ActivityManagerNative.getDefault().bindService()public int bindService(IApplicationThread caller, IBinder token, Intent service, String resolvedType, IServiceConnection connection, int flags, String callingPackage, int userId) throws RemoteException &#123; ... data.writeStrongBinder(connection.asBinder()); ... mRemote.transact(BIND_SERVICE_TRANSACTION, data, reply, 0); ...&#125; è¿½è¸ªåˆ° ActivityManagerNative.getDefault().bindService() ï¼Œå¯ä»¥å‘ç° ActivityManager å’Œ IServiceConnectionä¹Ÿæ˜¯ä¸€ä¸ª AIDL å®ç°ã€‚é€šè¿‡å®ƒçš„ ActivityManagerProxy.bindService() å°†ç»‘å®šè¯·æ±‚å‘é€ç»™æœ¬åœ°å±‚ã€‚ å†ä» onServiceConnected() å›è°ƒè¿½è¸ªï¼Œ onServiceConnected() æ˜¯ç”± LoadedApk.ServiceDispatcher.doConnected() å›è°ƒçš„ã€‚ å…³äºæ›´å¤šçš„ bindService() è¿œç¨‹æœåŠ¡åˆ›å»ºåŠ ServiceConnection å›è°ƒï¼Œ è¯·å‚è€ƒ Androidåº”ç”¨ç¨‹åºç»‘å®šæœåŠ¡ï¼ˆbindServiceï¼‰çš„è¿‡ç¨‹æºä»£ç åˆ†æ åˆ©ç”¨è¿›ç¨‹é—´é€šä¿¡ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç®€å•çš„åº”ç”¨æ’ä»¶åŠŸèƒ½ã€‚å…³äº AIDL åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ï¼Œå¯ä»¥å‚è€ƒ CallerInfo Plugin çš„å®ç° ä»ä¸Šé¢åˆ†æå¯ä»¥çœ‹å‡ºï¼Œ AIDL çš„æœ¬è´¨æ˜¯å¯¹ Binder çš„åˆä¸€æ¬¡æŠ½è±¡å’Œå°è£…ï¼Œå®é™…çš„è¿›ç¨‹é—´é€šä¿¡ä»æ˜¯ç”± Binder å®Œæˆçš„ã€‚ 3. Binder æ¡†æ¶åŠ Native å±‚Binderæœºåˆ¶ä½¿æœ¬åœ°å¯¹è±¡å¯ä»¥åƒæ“ä½œå½“å‰å¯¹è±¡ä¸€æ ·è°ƒç”¨è¿œç¨‹å¯¹è±¡ï¼Œå¯ä»¥ä½¿ä¸åŒçš„è¿›ç¨‹é—´äº’ç›¸é€šä¿¡ã€‚Binder ä½¿ç”¨ Client/Server æ¶æ„ï¼Œå®¢æˆ·ç«¯é€šè¿‡æœåŠ¡ç«¯ä»£ç†ï¼Œç»è¿‡ Binder é©±åŠ¨ä¸æœåŠ¡ç«¯äº¤äº’ã€‚ Binder æœºåˆ¶å®ç°è¿›ç¨‹é—´é€šä¿¡çš„å¥¥ç§˜åœ¨äº kernel ä¸­çš„ Binder é©±åŠ¨ï¼Œå°†åœ¨ 4. Binder é©±åŠ¨ å°èŠ‚è¯¦ç»†è®²è¿°ã€‚ JNI çš„ä»£ç ä½äº frameworks/base/core/jni ç›®å½•ä¸‹ï¼Œä¸»è¦æ˜¯ android_util_Binder.cpp æ–‡ä»¶å’Œå¤´æ–‡ä»¶ android_util_Binder.h Binder JNI ä»£ç æ˜¯ Binder Java å±‚æ“ä½œåˆ° Binder Native å±‚çš„æ¥å£å°è£…ï¼Œæœ€åä¼šè¢«ç¼–è¯‘è¿› libandroid_runtime.so ç³»ç»Ÿåº“ã€‚ Binder æœ¬åœ°å±‚çš„ä»£ç åœ¨ frameworks/native/libs/binder ç›®å½•ä¸‹ï¼Œ æ­¤ç›®å½•åœ¨ Android ç³»ç»Ÿç¼–è¯‘åä¼šç”Ÿæˆ libbinder.so æ–‡ä»¶ï¼Œä¾› JNI è°ƒç”¨ã€‚libbinder å°è£…äº†æ‰€æœ‰å¯¹ binder é©±åŠ¨çš„æ“ä½œï¼Œæ˜¯ä¸Šå±‚åº”ç”¨ä¸é©±åŠ¨äº¤äº’çš„æ¡¥æ¢ã€‚å¤´æ–‡ä»¶åˆ™åœ¨ frameworks/native/include/binder ç›®å½•ä¸‹ã€‚ 3.1 Binder Native çš„å…¥å£IInterface.cpp æ˜¯ Binder æœ¬åœ°å±‚å…¥å£ï¼Œä¸ java å±‚çš„ android.os.IInterface å¯¹åº”ï¼Œæä¾› asBinder() çš„å®ç°ï¼Œè¿”å› IBinder å¯¹è±¡ã€‚ åœ¨å¤´æ–‡ä»¶ä¸­æœ‰ä¸¤ä¸ªç±» BnInterface (Binder Native Interface) å’Œ BpInterface (Binder Proxy Interface), å¯¹åº”äº java å±‚çš„ Stub å’Œ Proxy 12345sp&lt;IBinder&gt; IInterface::asBinder(const IInterface* iface)&#123; if (iface == NULL) return NULL; return const_cast&lt;IInterface*&gt;(iface)-&gt;onAsBinder();&#125; 12345678910111213141516171819202122template&lt;typename INTERFACE&gt;class BnInterface : public INTERFACE, public BBinder&#123;public: virtual sp&lt;IInterface&gt; queryLocalInterface(const String16&amp; _descriptor); virtual const String16&amp; getInterfaceDescriptor() const;protected: virtual IBinder* onAsBinder();&#125;;// ----------------------------------------------------------------------template&lt;typename INTERFACE&gt;class BpInterface : public INTERFACE, public BpRefBase&#123;public: BpInterface(const sp&lt;IBinder&gt;&amp; remote);protected: virtual IBinder* onAsBinder();&#125;; å…¶ä¸­ BnInterface æ˜¯å®ç°StubåŠŸèƒ½çš„æ¨¡æ¿ï¼Œæ‰©å±•BBinderçš„onTransact()æ–¹æ³•å®ç°Binderå‘½ä»¤çš„è§£æå’Œæ‰§è¡Œã€‚BpInterface æ˜¯å®ç°ProxyåŠŸèƒ½çš„æ¨¡æ¿ï¼ŒBpRefBaseé‡Œæœ‰ä¸ªmRemoteå¯¹è±¡æŒ‡å‘ä¸€ä¸ªBpBinderå¯¹è±¡ã€‚ 3.2 Binder æœ¬åœ°å±‚çš„æ•´ä¸ªå‡½æ•°/æ–¹æ³•è°ƒç”¨è¿‡ç¨‹ 1. Java å±‚ IRemoteService.Stub.Proxy è°ƒç”¨ android.os.IBinder (å®ç°åœ¨ android.os.Binder.BinderProxy) çš„ transact() å‘é€ Stub.TRANSACTION_addUser å‘½ä»¤ã€‚ 2. ç”± BinderProxy.transact() è¿›å…¥ native å±‚ã€‚ 3. ç”± jni è½¬åˆ° android_os_BinderProxy_transact() å‡½æ•°ã€‚ 4. è°ƒç”¨ IBinder-&gt;transact å‡½æ•°ã€‚ 1234567static jboolean android_os_BinderProxy_transact(JNIEnv* env, jobject obj, jint code, jobject dataObj, jobject replyObj, jint flags) // throws RemoteException&#123; IBinder* target = (IBinder*) env-&gt;GetLongField(obj, gBinderProxyOffsets.mObject); status_t err = target-&gt;transact(code, *data, reply, flags);&#125; è€Œ gBinderProxyOffsets.mObject åˆ™æ˜¯åœ¨ java å±‚è°ƒç”¨ IBinder.getContextObject() æ—¶åœ¨ javaObjectForIBinder å‡½æ•°ä¸­è®¾ç½®çš„ 123456789101112131415static jobject android_os_BinderInternal_getContextObject(JNIEnv* env, jobject clazz)&#123; sp&lt;IBinder&gt; b = ProcessState::self()-&gt;getContextObject(NULL); return javaObjectForIBinder(env, b);&#125;jobject javaObjectForIBinder(JNIEnv* env, const sp&lt;IBinder&gt;&amp; val)&#123; ... LOGDEATH(\"objectForBinder %p: created new proxy %p !\\n\", val.get(), object); // The proxy holds a reference to the native object. env-&gt;SetLongField(object, gBinderProxyOffsets.mObject, (jlong)val.get()); val-&gt;incStrong((void*)javaObjectForIBinder); ...&#125; ç»è¿‡ ProcessState::getContextObject() å’Œ ProcessState::getStrongProxyForHandle() 1234567891011121314sp&lt;IBinder&gt; ProcessState::getContextObject(const sp&lt;IBinder&gt;&amp; /*caller*/)&#123; return getStrongProxyForHandle(0);&#125;sp&lt;IBinder&gt; ProcessState::getStrongProxyForHandle(int32_t handle)&#123; sp&lt;IBinder&gt; result; ... b = new BpBinder(handle); result = b; ... return result;&#125; å¯è§ android_os_BinderProxy_transact() å‡½æ•°å®é™…ä¸Šè°ƒç”¨çš„æ˜¯ BpBinder::transact() å‡½æ•°ã€‚ 5. BpBinder::transact() åˆ™åˆè°ƒç”¨äº† IPCThreadState::self()-&gt;transact() å‡½æ•°ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243status_t IPCThreadState::transact(int32_t handle, uint32_t code, const Parcel&amp; data, Parcel* reply, uint32_t flags)&#123; status_t err = data.errorCheck(); flags |= TF_ACCEPT_FDS; if (err == NO_ERROR) &#123; LOG_ONEWAY(\"&gt;&gt;&gt;&gt; SEND from pid %d uid %d %s\", getpid(), getuid(), (flags &amp; TF_ONE_WAY) == 0 ? \"READ REPLY\" : \"ONE WAY\"); err = writeTransactionData(BC_TRANSACTION, flags, handle, code, data, NULL); &#125; if ((flags &amp; TF_ONE_WAY) == 0) &#123; if (reply) &#123; err = waitForResponse(reply); &#125; else &#123; Parcel fakeReply; err = waitForResponse(&amp;fakeReply); &#125; &#125; else &#123; err = waitForResponse(NULL, NULL); &#125; return err;&#125;status_t IPCThreadState::writeTransactionData(int32_t cmd, uint32_t binderFlags, int32_t handle, uint32_t code, const Parcel&amp; data, status_t* statusBuffer)&#123; binder_transaction_data tr; tr.target.ptr = 0; /* Don't pass uninitialized stack data to a remote process */ tr.target.handle = handle; tr.code = code; ... mOut.writeInt32(cmd); mOut.write(&amp;tr, sizeof(tr)); return NO_ERROR;&#125; ç”±å‡½æ•°å†…å®¹å¯ä»¥çœ‹å‡ºï¼Œ æ•°æ®å†ä¸€æ¬¡é€šè¿‡ writeTransactionData() ä¼ é€’ç»™ mOut è¿›è¡Œå†™å…¥æ“ä½œã€‚ mOut æ˜¯ä¸€ä¸ª Parcel å¯¹è±¡ï¼Œ å£°æ˜åœ¨ IPCThreadState.h æ–‡ä»¶ä¸­ã€‚ä¹‹ååˆ™è°ƒç”¨ waitForResponse() å‡½æ•°ã€‚ 6. IPCThreadState::waitForResponse() åœ¨ä¸€ä¸ª while å¾ªç¯é‡Œä¸æ–­çš„è°ƒç”¨ talkWithDriver() å¹¶æ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®è¿”å›ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758status_t IPCThreadState::waitForResponse(Parcel *reply, status_t *acquireResult)&#123; uint32_t cmd; int32_t err; while (1) &#123; if ((err=talkWithDriver()) &lt; NO_ERROR) break; ... cmd = (uint32_t)mIn.readInt32(); switch (cmd) &#123; case BR_TRANSACTION_COMPLETE: ... case BR_REPLY: &#123; binder_transaction_data tr; err = mIn.read(&amp;tr, sizeof(tr)); ALOG_ASSERT(err == NO_ERROR, \"Not enough command data for brREPLY\"); if (err != NO_ERROR) goto finish; if (reply) &#123; if ((tr.flags &amp; TF_STATUS_CODE) == 0) &#123; reply-&gt;ipcSetDataReference( reinterpret_cast&lt;const uint8_t*&gt;(tr.data.ptr.buffer), tr.data_size, reinterpret_cast&lt;const binder_size_t*&gt;(tr.data.ptr.offsets), tr.offsets_size/sizeof(binder_size_t), freeBuffer, this); &#125; else &#123; err = *reinterpret_cast&lt;const status_t*&gt;(tr.data.ptr.buffer); freeBuffer(NULL, reinterpret_cast&lt;const uint8_t*&gt;(tr.data.ptr.buffer), tr.data_size, reinterpret_cast&lt;const binder_size_t*&gt;(tr.data.ptr.offsets), tr.offsets_size/sizeof(binder_size_t), this); &#125; &#125; else &#123; freeBuffer(NULL, reinterpret_cast&lt;const uint8_t*&gt;(tr.data.ptr.buffer), tr.data_size, reinterpret_cast&lt;const binder_size_t*&gt;(tr.data.ptr.offsets), tr.offsets_size/sizeof(binder_size_t), this); continue; &#125; &#125; goto finish; &#125; default: err = executeCommand(cmd); if (err != NO_ERROR) goto finish; break; &#125; &#125; ...&#125; 7. IPCThreadState::talkWithDriver() å‡½æ•°æ˜¯çœŸæ­£ä¸ binder é©±åŠ¨äº¤äº’çš„å®ç°ã€‚ioctl(mProcess-&gt;mDriverFD, BINDER_WRITE_READ, &amp;bwr) å°±æ˜¯ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨å‡½æ•° ioctl å‘ binder è®¾å¤‡æ–‡ä»¶ /dev/binder å‘é€ BINDER_WRITE_READ å‘½ä»¤ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667status_t IPCThreadState::talkWithDriver(bool doReceive)&#123; if (mProcess-&gt;mDriverFD &lt;= 0) &#123; return -EBADF; &#125; binder_write_read bwr; // Is the read buffer empty? const bool needRead = mIn.dataPosition() &gt;= mIn.dataSize(); // We don't want to write anything if we are still reading // from data left in the input buffer and the caller // has requested to read the next data. const size_t outAvail = (!doReceive || needRead) ? mOut.dataSize() : 0; bwr.write_size = outAvail; bwr.write_buffer = (uintptr_t)mOut.data(); // This is what we'll read. if (doReceive &amp;&amp; needRead) &#123; bwr.read_size = mIn.dataCapacity(); bwr.read_buffer = (uintptr_t)mIn.data(); &#125; else &#123; bwr.read_size = 0; bwr.read_buffer = 0; &#125; // Return immediately if there is nothing to do. if ((bwr.write_size == 0) &amp;&amp; (bwr.read_size == 0)) return NO_ERROR; bwr.write_consumed = 0; bwr.read_consumed = 0; status_t err; #if defined(HAVE_ANDROID_OS) // ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨ ioctl å‘ /dev/binder å‘é€ BINDER_WRITE_READ å‘½ä»¤ if (ioctl(mProcess-&gt;mDriverFD, BINDER_WRITE_READ, &amp;bwr) &gt;= 0) err = NO_ERROR; else err = -errno;#else err = INVALID_OPERATION;#endif do &#123; if (mProcess-&gt;mDriverFD &lt;= 0) &#123; err = -EBADF; &#125; &#125; while (err == -EINTR); if (err &gt;= NO_ERROR) &#123; if (bwr.write_consumed &gt; 0) &#123; if (bwr.write_consumed &lt; mOut.dataSize()) mOut.remove(0, bwr.write_consumed); else mOut.setDataSize(0); &#125; if (bwr.read_consumed &gt; 0) &#123; mIn.setDataSize(bwr.read_consumed); mIn.setDataPosition(0); &#125; return NO_ERROR; &#125; return err;&#125; ç»è¿‡ IPCThreadState::talkWithDriver() ,å°±å°†æ•°æ®å‘é€ç»™äº† Binder é©±åŠ¨ã€‚ ç»§ç»­è¿½è¸ª IPCThreadState::waitForResponse() ï¼Œå¯ä»¥ä» ç¬¬6æ­¥ å‘ç° IPCThreadState ä¸æ–­çš„å¾ªç¯è¯»å– Binder é©±åŠ¨è¿”å›ï¼Œè·å–åˆ°è¿”å›å‘½ä»¤åæ‰§è¡Œäº† executeCommand(cmd) å‡½æ•°ã€‚ 8. IPCThreadState::executeCommand() å¤„ç† Binder é©±åŠ¨è¿”å›å‘½ä»¤ 123456789101112131415161718192021222324252627282930313233343536status_t IPCThreadState::executeCommand(int32_t cmd)&#123; BBinder* obj; RefBase::weakref_type* refs; status_t result = NO_ERROR; switch ((uint32_t)cmd) &#123; ... case BR_TRANSACTION: &#123; binder_transaction_data tr; result = mIn.read(&amp;tr, sizeof(tr)); ... Parcel buffer; buffer.ipcSetDataReference( reinterpret_cast&lt;const uint8_t*&gt;(tr.data.ptr.buffer), tr.data_size, reinterpret_cast&lt;const binder_size_t*&gt;(tr.data.ptr.offsets), tr.offsets_size/sizeof(binder_size_t), freeBuffer, this); ... Parcel reply; status_t error; if (tr.target.ptr) &#123; sp&lt;BBinder&gt; b((BBinder*)tr.cookie); error = b-&gt;transact(tr.code, buffer, &amp;reply, tr.flags); &#125; else &#123; error = the_context_object-&gt;transact(tr.code, buffer, &amp;reply, tr.flags); &#125; ... &#125; break; ...&#125; 9. å¯ä»¥çœ‹å‡ºå…¶è°ƒç”¨äº† BBinder::transact() å‡½æ•°ï¼Œå°†æ•°æ®è¿”å›ç»™ä¸Šå±‚ã€‚ 123456789101112131415161718192021status_t BBinder::transact( uint32_t code, const Parcel&amp; data, Parcel* reply, uint32_t flags)&#123; data.setDataPosition(0); status_t err = NO_ERROR; switch (code) &#123; case PING_TRANSACTION: reply-&gt;writeInt32(pingBinder()); break; default: err = onTransact(code, data, reply, flags); break; &#125; if (reply != NULL) &#123; reply-&gt;setDataPosition(0); &#125; return err;&#125; 10. è€Œè¿™é‡Œçš„ b-&gt;transact(tr.code, buffer, &amp;reply, tr.flags) ä¸­çš„ b (BBinder) æ˜¯ JavaBBinder çš„å®ä¾‹ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨ JavaBBinder::onTransact() å‡½æ•° 12345678910111213141516// frameworks/base/core/jni/android_util_Binder.cppvirtual status_t onTransact( uint32_t code, const Parcel&amp; data, Parcel* reply, uint32_t flags = 0) &#123; JNIEnv* env = javavm_to_jnienv(mVM); ... jboolean res = env-&gt;CallBooleanMethod(mObject, gBinderOffsets.mExecTransact, code, reinterpret_cast&lt;jlong&gt;(&amp;data), reinterpret_cast&lt;jlong&gt;(reply), flags); &#125; static int int_register_android_os_Binder(JNIEnv* env)&#123; ... gBinderOffsets.mExecTransact = GetMethodIDOrDie(env, clazz, \"execTransact\", \"(IJJI)Z\"); ...&#125; 11. å¯è§ JNI é€šè¿‡ gBinderOffsets.mExecTransact æœ€åæ‰§è¡Œäº† android.os.Binder çš„ execTransact() æ–¹æ³•ã€‚ execTransact() æ–¹æ³•æ˜¯ jni å›è°ƒçš„å…¥å£ã€‚ 1234567891011// Entry point from android_util_Binder.cpp's onTransact private boolean execTransact(int code, long dataObj, long replyObj, int flags) &#123; Parcel data = Parcel.obtain(dataObj); Parcel reply = Parcel.obtain(replyObj); ... try &#123; res = onTransact(code, data, reply, flags); &#125; ... &#125; 12. è€Œæˆ‘ä»¬åˆ™åœ¨æœåŠ¡ç«¯ IRemoteService.Stub é‡è½½äº† onTransact() æ–¹æ³•ï¼Œæ‰€ä»¥æ•°æ®æœ€åä¼šå›åˆ°æˆ‘ä»¬çš„æœåŠ¡ç«¯å¹¶æ‰§è¡ŒæœåŠ¡ç«¯å®ç°çš„ addUser() æ–¹æ³•ã€‚ 12345678910111213141516171819202122232425262728293031public static abstract class Stub extends android.os.Binder implements org.xdty.remoteservice.IRemoteService &#123; ... @Override public boolean onTransact(int code, android.os.Parcel data, android.os.Parcel reply, int flags) throws android.os.RemoteException &#123; switch (code) &#123; case INTERFACE_TRANSACTION: &#123; reply.writeString(DESCRIPTOR); return true; &#125; case TRANSACTION_basicTypes: &#123; ... return true; &#125; case TRANSACTION_addUser: &#123; data.enforceInterface(DESCRIPTOR); org.xdty.remoteservice.User _arg0; if ((0 != data.readInt())) &#123; _arg0 = org.xdty.remoteservice.User.CREATOR.createFromParcel(data); &#125; else &#123; _arg0 = null; &#125; this.addUser(_arg0); reply.writeNoException(); return true; &#125; &#125; return super.onTransact(code, data, reply, flags); &#125;&#125; ä¸Šè¿°è¿‡ç¨‹å°±æ˜¯æ‰€æœ‰çš„ Native å±‚å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„è°ƒç”¨è¿‡ç¨‹ï¼Œæ€»ç»“ä¸‹æ¥å°±æ˜¯ å®¢æˆ·ç«¯è¿›ç¨‹å‘é€ BC_TRANSACTION åˆ° Binder é©±åŠ¨ï¼ŒæœåŠ¡ç«¯è¿›ç¨‹ç›‘å¬è¿”å›çš„ BR_TRANSACTION å‘½ä»¤å¹¶å¤„ç†ã€‚å¦‚æœæ˜¯æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯è¿”å›æ•°æ®ï¼Œç±»ä¼¼çš„æ˜¯æœåŠ¡ç«¯å‘é€ BC_REPLY å‘½ä»¤ï¼Œ å®¢æˆ·ç«¯ç›‘å¬ BR_REPLY å‘½ä»¤ã€‚ 3.3 Binder è®¾å¤‡æ–‡ä»¶çš„æ‰“å¼€å’Œè¯»å†™1. è®¾å¤‡çš„æ‰“å¼€ åœ¨ä¸Šä¸€å°èŠ‚ä¸­æˆ‘ä»¬çœ‹åˆ° JNI è¿‡ç¨‹ä¸­è°ƒç”¨äº† ProcessState::getContextObject() å‡½æ•°ï¼Œ åœ¨ ProcessState åˆå§‹åŒ–æ—¶ä¼šæ‰“å¼€ binder è®¾å¤‡ 1234567// ProcessState.cppProcessState::ProcessState() : mDriverFD(open_driver()) ...&#123; ...&#125; open_driver() å‡½æ•°å†…å®¹å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132// ProcessState.cppstatic int open_driver()&#123; // æ‰“å¼€è®¾å¤‡æ–‡ä»¶ int fd = open(\"/dev/binder\", O_RDWR); if (fd &gt;= 0) &#123; fcntl(fd, F_SETFD, FD_CLOEXEC); int vers = 0; // è·å–é©±åŠ¨ç‰ˆæœ¬ status_t result = ioctl(fd, BINDER_VERSION, &amp;vers); if (result == -1) &#123; ALOGE(\"Binder ioctl to obtain version failed: %s\", strerror(errno)); close(fd); fd = -1; &#125; // æ£€æŸ¥é©±åŠ¨ç‰ˆæœ¬æ˜¯å¦ä¸€è‡´ if (result != 0 || vers != BINDER_CURRENT_PROTOCOL_VERSION) &#123; ALOGE(\"Binder driver protocol does not match user space protocol!\"); close(fd); fd = -1; &#125; // è®¾ç½®æœ€å¤š 15 ä¸ª binder çº¿ç¨‹ size_t maxThreads = DEFAULT_MAX_BINDER_THREADS; result = ioctl(fd, BINDER_SET_MAX_THREADS, &amp;maxThreads); if (result == -1) &#123; ALOGE(\"Binder ioctl to set max threads failed: %s\", strerror(errno)); &#125; &#125; else &#123; ALOGW(\"Opening '/dev/binder' failed: %s\\n\", strerror(errno)); &#125; return fd;&#125; 2. è®¾å¤‡çš„è¯»å†™ æ‰“å¼€è®¾å¤‡æ–‡ä»¶åï¼Œæ–‡ä»¶æè¿°ç¬¦è¢«ä¿å­˜åœ¨ mDriverFDï¼Œ é€šè¿‡ç³»ç»Ÿè°ƒç”¨ ioctl å‡½æ•°æ“ä½œ mDriverFD å°±å¯ä»¥å®ç°å’Œ binder é©±åŠ¨çš„äº¤äº’ã€‚ å¯¹ Binder è®¾å¤‡æ–‡ä»¶çš„æ‰€æœ‰è¯»å†™åŠå…³é—­æ“ä½œåˆ™éƒ½åœ¨ IPCThreadState ä¸­ï¼Œå¦‚ä¸Šä¸€å°èŠ‚æåŠåˆ°çš„ IPCThreadState::talkWithDriver å‡½æ•° talkWithDriver() å‡½æ•°å°è£…äº† BINDER_WRITE_READ å‘½ä»¤ï¼Œä¼šä» binder é©±åŠ¨è¯»å–æˆ–å†™å…¥å°è£…åœ¨ binder_write_read ç»“æ„ä½“ä¸­çš„æœ¬åœ°æˆ–è¿œç¨‹å¯¹è±¡ã€‚ 12345678910111213141516171819202122232425// IPCThreadState.cppstatus_t IPCThreadState::talkWithDriver(bool doReceive)&#123; binder_write_read bwr; const bool needRead = mIn.dataPosition() &gt;= mIn.dataSize(); const size_t outAvail = (!doReceive || needRead) ? mOut.dataSize() : 0; // å†™å…¥æ•°æ® bwr.write_size = outAvail; bwr.write_buffer = (uintptr_t)mOut.data(); // è¯»å–æ•°æ® if (doReceive &amp;&amp; needRead) &#123; bwr.read_size = mIn.dataCapacity(); bwr.read_buffer = (uintptr_t)mIn.data(); &#125; else &#123; bwr.read_size = 0; bwr.read_buffer = 0; &#125; ... // ä½¿ç”¨ ioctl ç³»ç»Ÿè°ƒç”¨å‘é€ BINDER_WRITE_READ å‘½ä»¤åˆ° biner é©±åŠ¨ if (ioctl(mProcess-&gt;mDriverFD, BINDER_WRITE_READ, &amp;bwr) &gt;= 0) err = NO_ERROR; ...&#125; å¯ä»¥çœ‹å‡ºï¼Œæœ¬åœ°å±‚æ˜¯å¯¹åº”ç”¨ä¸ binder é©±åŠ¨äº¤äº’çš„ç›´æ¥å°è£…ä¸å®ç°ï¼Œæœ€ç»ˆçš„æ•°æ®ä¼ è¾“ä»æ˜¯ç”±é©±åŠ¨æ¥å®Œæˆçš„ã€‚æœ¬åœ°å±‚å¯¹åº•å±‚é©±åŠ¨è¿›è¡Œäº†å®Œæ•´çš„å°è£…ï¼Œä¸Šå±‚åº”ç”¨åªå…³å¿ƒ transact() å’Œ onTransact() å›è°ƒï¼Œå¯Ÿè§‰ä¸åˆ° binder é©±åŠ¨çš„å­˜åœ¨ï¼Œå‡è½»äº†ä¸Šå±‚åº”ç”¨è¿›ç¨‹é—´é€šä¿¡å¼€å‘çš„å¤æ‚åº¦ã€‚ 4. Binder é©±åŠ¨å…³äº binder é©±åŠ¨å»ºè®®å‚è€ƒå¦ä¸€ç¯‡æ–‡ç«  æ·±å…¥åˆ†æAndroid Binder é©±åŠ¨ åŸæ–‡ï¼Œæœ¬å°èŠ‚ä»éœ€è¦å®Œå–„ã€‚ Binder é©±åŠ¨æ˜¯ Binder çš„æœ€ç»ˆå®ç°ï¼Œ ServiceManager å’Œ Client/Service è¿›ç¨‹é—´é€šä¿¡æœ€ç»ˆéƒ½æ˜¯ç”± Binder é©±åŠ¨æŠ•é€’çš„ã€‚ Binder é©±åŠ¨çš„ä»£ç ä½äº kernel ä»£ç çš„ drivers/staging/android ç›®å½•ä¸‹ã€‚ä¸»æ–‡ä»¶æ˜¯ binder.h å’Œ binder.c è¿›ç¨‹é—´ä¼ è¾“çš„æ•°æ®è¢«ç§°ä¸º Binder å¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ä¸ª flat_binder_objectï¼Œç»“æ„å¦‚ä¸‹ 1234567891011121314struct flat_binder_object &#123; /* 8 bytes for large_flat_header. */ unsigned long type; unsigned long flags; /* 8 bytes of data. */ union &#123; void *binder; /* local object */ signed long handle; /* remote object */ &#125;; /* extra data associated with local object */ void *cookie;&#125;; å…¶ä¸­ ç±»å‹ type æè¿°äº† Binder å¯¹è±¡çš„ç±»å‹ï¼ŒåŒ…å« BINDER(æœ¬åœ°å¯¹è±¡)ã€HANDLE(è¿œç¨‹å¯¹è±¡)ã€ FD ä¸‰å¤§ç±»(äº”ç§) 1234567enum &#123; BINDER_TYPE_BINDER = B_PACK_CHARS('s', 'b', '*', B_TYPE_LARGE), BINDER_TYPE_WEAK_BINDER = B_PACK_CHARS('w', 'b', '*', B_TYPE_LARGE), BINDER_TYPE_HANDLE = B_PACK_CHARS('s', 'h', '*', B_TYPE_LARGE), BINDER_TYPE_WEAK_HANDLE = B_PACK_CHARS('w', 'h', '*', B_TYPE_LARGE), BINDER_TYPE_FD = B_PACK_CHARS('f', 'd', '*', B_TYPE_LARGE),&#125;; flags åˆ™è¡¨è¿°äº†ä¼ è¾“æ–¹å¼ï¼Œå¦‚å¼‚æ­¥ã€æ— è¿”å›ç­‰ 123456enum transaction_flags &#123; TF_ONE_WAY = 0x01, /* this is a one-way call: async, no return */ TF_ROOT_OBJECT = 0x04, /* contents are the component's root object */ TF_STATUS_CODE = 0x08, /* contents are a 32-bit status code */ TF_ACCEPT_FDS = 0x10, /* allow replies with file descriptors */&#125;; è€Œ flat_binder_object ä¸­çš„ union è”åˆä½“ å°±æ˜¯è¦ä¼ è¾“çš„æ•°æ®ï¼Œå½“ç±»å‹ä¸º BINDER æ—¶ï¼Œ æ•°æ®å°±æ˜¯ä¸€ä¸ªæœ¬åœ°å¯¹è±¡ *binderï¼Œè€Œç±»å‹ä¸º HANDLE æ—¶ï¼Œæ•°æ®åˆ™æ˜¯ä¸€ä¸ªè¿œç¨‹å¯¹è±¡ handleã€‚ å½“ flat_binder_object åœ¨è¿›ç¨‹é—´ä¼ é€’æ—¶ï¼Œ Binder é©±åŠ¨ä¼šä¿®æ”¹å®ƒçš„ç±»å‹å’Œæ•°æ®ï¼Œäº¤æ¢çš„ä»£ç å‚è€ƒ binder_transaction çš„å®ç°ã€‚ è¯¥å¦‚ä½•ç†è§£æœ¬åœ° BINDER å¯¹è±¡å’Œè¿œç¨‹ HANDLE å¯¹è±¡å‘¢ï¼Ÿå…¶å®å®ƒä»¬éƒ½ä»£è¡¨åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¸è¿‡æ˜¯ä»ä¸åŒçš„è§’åº¦æ¥çœ‹ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå‡å¦‚è¿›ç¨‹ RemoteService æœ‰ä¸ªå¯¹è±¡ mBinderï¼Œå¯¹äº RemoteService æ¥è¯´ï¼ŒmBinder å°±æ˜¯ä¸€ä¸ªæœ¬åœ°çš„ BINDER å¯¹è±¡ï¼›å¦‚æœè¿›ç¨‹ app é€šè¿‡ Binder é©±åŠ¨è®¿é—® RemoteService çš„ mBinder å¯¹è±¡ï¼Œå¯¹äº app æ¥è¯´ï¼Œ mBinder å°±æ˜¯ä¸€ä¸ª HANDLEã€‚å› æ­¤ï¼Œä»æ ¹æœ¬ä¸Šæ¥è¯´ handle å’Œ binder éƒ½æŒ‡å‘ RemoteService çš„ mBinderã€‚æœ¬åœ°å¯¹è±¡è¿˜å¯ä»¥å¸¦æœ‰é¢å¤–çš„æ•°æ®ï¼Œä¿å­˜åœ¨ cookie ä¸­ã€‚ Binder é©±åŠ¨ç›´æ¥æ“ä½œçš„æœ€å¤–å±‚æ•°æ®ç»“æ„æ˜¯ binder_transaction_dataï¼Œ Binder å¯¹è±¡ flat_binder_object è¢«å°è£…åœ¨ binder_transaction_data ç»“æ„ä½“ä¸­ã€‚ binder_transaction_data æ•°æ®ç»“æ„æ‰æ˜¯çœŸæ­£ä¼ è¾“çš„æ•°æ®ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ 1234567891011121314151617181920212223242526272829303132struct binder_transaction_data &#123; /* The first two are only used for bcTRANSACTION and brTRANSACTION, * identifying the target and contents of the transaction. */ union &#123; size_t handle; /* target descriptor of command transaction */ void *ptr; /* target descriptor of return transaction */ &#125; target; void *cookie; /* target object cookie */ unsigned int code; /* transaction command */ /* General information about the transaction. */ unsigned int flags; pid_t sender_pid; uid_t sender_euid; size_t data_size; /* number of bytes of data */ size_t offsets_size; /* number of bytes of offsets */ /* If this transaction is inline, the data immediately * follows here; otherwise, it ends with a pointer to * the data buffer. */ union &#123; struct &#123; /* transaction data */ const void *buffer; /* offsets from buffer to flat_binder_object structs */ const void *offsets; &#125; ptr; uint8_t buf[8]; &#125; data;&#125;; flat_binder_object å°±è¢«å°è£…åœ¨ *bufferä¸­ï¼Œå…¶ä¸­çš„ unsigned int code; åˆ™æ˜¯ä¼ è¾“å‘½ä»¤ï¼Œæè¿°äº† Binder å¯¹è±¡æ‰§è¡Œçš„æ“ä½œã€‚ 4.1 binder è®¾å¤‡çš„åˆ›å»ºdevice_initcall() å‡½æ•°æ˜¯å†…æ ¸åŠ è½½é©±åŠ¨çš„å…¥å£å‡½æ•°ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ã€‚ 12345678910111213141516171819202122232425262728static struct miscdevice binder_miscdev = &#123; .minor = MISC_DYNAMIC_MINOR, // è®¾å¤‡æ–‡ä»¶ /dev/binder .name = \"binder\", // è®¾å¤‡æ–‡ä»¶æ“ä½œ .fops = &amp;binder_fops&#125;;static int __init binder_init(void)&#123; int ret; ... // æ³¨å†Œå­—ç¬¦è®¾å¤‡ ret = misc_register(&amp;binder_miscdev); ... // è°ƒè¯•æ–‡ä»¶ï¼Œ åœ¨ /sys/kernel/debug/binder ç›®å½•ä¸‹ if (binder_debugfs_dir_entry_root) &#123; debugfs_create_file(\"state\", S_IRUGO, binder_debugfs_dir_entry_root, NULL, &amp;binder_state_fops); ... &#125; return ret;&#125;device_initcall(binder_init); å¯ä»¥çœ‹å‡º binder_init() ä½¿ç”¨ misc_register() å‡½æ•°åˆ›å»ºäº† binder è®¾å¤‡ã€‚ä» misc_register(&amp;binder_miscdev); åŠ .name = â€œbinderâ€ å¯ä»¥çœ‹å‡ºï¼Œ binder å‘ kernel æ³¨å†Œäº†ä¸€ä¸ª /dev/binder çš„å­—ç¬¦è®¾å¤‡ï¼Œè€Œæ–‡ä»¶æ“ä½œéƒ½åœ¨ binder_fops ç»“æ„ä½“ä¸­å®šä¹‰ã€‚ 123456789static const struct file_operations binder_fops = &#123; .owner = THIS_MODULE, .poll = binder_poll, .unlocked_ioctl = binder_ioctl, .mmap = binder_mmap, .open = binder_open, .flush = binder_flush, .release = binder_release,&#125;; ä»ä¸Šé¢ binder_fops ç»“æ„ä½“å¯ä»¥çœ‹å‡ºï¼Œä¸»è¦çš„æ“ä½œæ˜¯ binder_ioctl() binder_mmap() binder_open() ç­‰å‡½æ•°å®ç°çš„ã€‚ 4.2 binder åè®®å’Œæ•°æ®ç»“æ„binder.h æ–‡ä»¶ä¸­å®šä¹‰äº† binder åè®®å’Œé‡è¦çš„æ•°æ®ç»“æ„ã€‚ é¦–å…ˆåœ¨ enum ä¸­å®šä¹‰äº† binder å¤„ç†çš„ç±»å‹ï¼Œå¼•ç”¨æˆ–æ˜¯å¥æŸ„ 1234567enum &#123; BINDER_TYPE_BINDER = B_PACK_CHARS('s', 'b', '*', B_TYPE_LARGE), BINDER_TYPE_WEAK_BINDER = B_PACK_CHARS('w', 'b', '*', B_TYPE_LARGE), BINDER_TYPE_HANDLE = B_PACK_CHARS('s', 'h', '*', B_TYPE_LARGE), BINDER_TYPE_WEAK_HANDLE = B_PACK_CHARS('w', 'h', '*', B_TYPE_LARGE), BINDER_TYPE_FD = B_PACK_CHARS('f', 'd', '*', B_TYPE_LARGE),&#125;; ä¸‹é¢è¿™æ®µå®å®šä¹‰åˆ™æ˜¯åœ¨ ioctl å‡½æ•°è°ƒç”¨æ—¶å¯ç”¨çš„å…·ä½“å‘½ä»¤ã€‚ 1234567#define BINDER_WRITE_READ _IOWR('b', 1, struct binder_write_read)#define BINDER_SET_IDLE_TIMEOUT _IOW('b', 3, int64_t)#define BINDER_SET_MAX_THREADS _IOW('b', 5, size_t)#define BINDER_SET_IDLE_PRIORITY _IOW('b', 6, int)#define BINDER_SET_CONTEXT_MGR _IOW('b', 7, int)#define BINDER_THREAD_EXIT _IOW('b', 8, int)#define BINDER_VERSION _IOWR('b', 9, struct binder_version) åœ¨ BinderDriverReturnProtocol å’Œ BinderDriverCommandProtocol ä¸­ åˆ™åˆ†åˆ«å®šä¹‰äº† å®¢æˆ·ç«¯è°ƒç”¨ å’Œ æœåŠ¡ç«¯ è¿”å›çš„å‘½ä»¤ã€‚ 4.3 binder é©±åŠ¨æ–‡ä»¶æ“ä½œä¸Šæ–‡å·²ç»æåˆ°ï¼Œæ‰€æœ‰çš„æ“ä½œå®šä¹‰åœ¨ binder_fops ç»“æ„ä½“ä¸­ï¼Œä¸‹é¢è®²è¿°è¿™äº›æ“ä½œã€‚ è®¾å¤‡çš„æ‰“å¼€ - binder_open() å‡½æ•° ç”¨æˆ·ç©ºé—´åœ¨æ‰“å¼€ /dev/binder è®¾å¤‡æ—¶ï¼Œé©±åŠ¨ä¼šå‡ºå‘ binder_open() å‡½æ•°çš„å“åº”ã€‚ 123456789101112131415161718192021222324252627282930313233static int binder_open(struct inode *nodp, struct file *filp)&#123; struct binder_proc *proc; // åˆ†é… binder_proc æ•°æ®ç»“æ„å†…å­˜ proc = kzalloc(sizeof(*proc), GFP_KERNEL); if (proc == NULL) return -ENOMEM; // å¢åŠ å½“å‰çº¿ç¨‹/è¿›ç¨‹çš„å¼•ç”¨è®¡æ•°å¹¶èµ‹å€¼ç»™tsk get_task_struct(current); proc-&gt;tsk = current; // åˆå§‹åŒ–é˜Ÿåˆ— INIT_LIST_HEAD(&amp;proc-&gt;todo); init_waitqueue_head(&amp;proc-&gt;wait); proc-&gt;default_priority = task_nice(current); binder_lock(__func__); // å¢åŠ BINDER_STAT_PROCçš„å¯¹è±¡è®¡æ•° binder_stats_created(BINDER_STAT_PROC); // æ·»åŠ  proc_node åˆ° binder_procs å…¨å±€åˆ—è¡¨ä¸­ï¼Œè¿™æ ·ä»»ä½•è¿›ç¨‹å°±å¯ä»¥è®¿é—®åˆ°å…¶ä»–è¿›ç¨‹çš„ binder_proc å¯¹è±¡äº† hlist_add_head(&amp;proc-&gt;proc_node, &amp;binder_procs); // ä¿å­˜è¿›ç¨‹ id proc-&gt;pid = current-&gt;group_leader-&gt;pid; INIT_LIST_HEAD(&amp;proc-&gt;delivered_death); // é©±åŠ¨æ–‡ä»¶ private_data æŒ‡å‘ proc filp-&gt;private_data = proc; binder_unlock(__func__); return 0;&#125; é©±åŠ¨æ–‡ä»¶é‡Šæ”¾ - binder_release() å‡½æ•° åœ¨ç”¨æˆ·ç©ºé—´å…³é—­é©±åŠ¨è®¾å¤‡æ–‡ä»¶æ—¶ï¼Œä¼šè°ƒç”¨ binder_release() å‡½æ•°ï¼Œæ¸…ç† binder_proc å¯¹è±¡ï¼Œé‡Šæ”¾å ç”¨çš„å†…å­˜ã€‚ 123456789101112131415161718192021static int binder_release(struct inode *nodp, struct file *filp)&#123; struct binder_proc *proc = filp-&gt;private_data; binder_defer_work(proc, BINDER_DEFERRED_RELEASE); return 0;&#125;static voidbinder_defer_work(struct binder_proc *proc, enum binder_deferred_state defer)&#123; mutex_lock(&amp;binder_deferred_lock); proc-&gt;deferred_work |= defer; if (hlist_unhashed(&amp;proc-&gt;deferred_work_node)) &#123; // æ·»åŠ åˆ°é‡Šæ”¾é˜Ÿåˆ—ä¸­ hlist_add_head(&amp;proc-&gt;deferred_work_node, &amp;binder_deferred_list); queue_work(binder_deferred_workqueue, &amp;binder_deferred_work); &#125; mutex_unlock(&amp;binder_deferred_lock);&#125; å†…å­˜æ˜ å°„ - binder_mmap() å‡½æ•° binder_mmap() å‡½æ•°æŠŠè®¾å¤‡å†…å­˜æ˜ å°„åˆ°ç”¨æˆ·è¿›ç¨‹åœ°å€ç©ºé—´ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥åƒæ“ä½œç”¨æˆ·å†…å­˜é‚£æ ·æ“ä½œè®¾å¤‡å†…å­˜ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475static int binder_mmap(struct file *filp, struct vm_area_struct *vma)&#123; int ret; struct vm_struct *area; // è·å¾— binder_proc å¯¹è±¡ struct binder_proc *proc = filp-&gt;private_data; const char *failure_string; struct binder_buffer *buffer; // æœ€å¤šåªåˆ†é… 4M çš„å†…å­˜ if ((vma-&gt;vm_end - vma-&gt;vm_start) &gt; SZ_4M) vma-&gt;vm_end = vma-&gt;vm_start + SZ_4M; // æ£€æŸ¥ flags if (vma-&gt;vm_flags &amp; FORBIDDEN_MMAP_FLAGS) &#123; ret = -EPERM; failure_string = \"bad vm_flags\"; goto err_bad_arg; &#125; vma-&gt;vm_flags = (vma-&gt;vm_flags | VM_DONTCOPY) &amp; ~VM_MAYWRITE; mutex_lock(&amp;binder_mmap_lock); // æ£€æŸ¥æ˜¯å¦å·²ç»æ˜ å°„ if (proc-&gt;buffer) &#123; ret = -EBUSY; failure_string = \"already mapped\"; goto err_already_mapped; &#125; // ç”³è¯·å†…æ ¸è™šæ‹Ÿå†…å­˜ç©ºé—´ area = get_vm_area(vma-&gt;vm_end - vma-&gt;vm_start, VM_IOREMAP); if (area == NULL) &#123; ret = -ENOMEM; failure_string = \"get_vm_area\"; goto err_get_vm_area_failed; &#125; // å°†ç”³è¯·åˆ°çš„å†…å­˜åœ°å€ä¿å­˜åˆ° binder_proc å¯¹è±¡ä¸­ proc-&gt;buffer = area-&gt;addr; proc-&gt;user_buffer_offset = vma-&gt;vm_start - (uintptr_t)proc-&gt;buffer; mutex_unlock(&amp;binder_mmap_lock); // æ ¹æ®è¯·æ±‚åˆ°çš„å†…å­˜ç©ºé—´å¤§å°ï¼Œåˆ†é…ç»™ binder_proc å¯¹è±¡çš„ pagesï¼Œ ç”¨äºä¿å­˜æŒ‡å‘ç‰©ç†é¡µçš„æŒ‡é’ˆ proc-&gt;pages = kzalloc(sizeof(proc-&gt;pages[0]) * ((vma-&gt;vm_end - vma-&gt;vm_start) / PAGE_SIZE), GFP_KERNEL); if (proc-&gt;pages == NULL) &#123; ret = -ENOMEM; failure_string = \"alloc page array\"; goto err_alloc_pages_failed; &#125; proc-&gt;buffer_size = vma-&gt;vm_end - vma-&gt;vm_start; vma-&gt;vm_ops = &amp;binder_vm_ops; vma-&gt;vm_private_data = proc; // åˆ†é…ä¸€ä¸ªé¡µçš„ç‰©ç†å†…å­˜ if (binder_update_page_range(proc, 1, proc-&gt;buffer, proc-&gt;buffer + PAGE_SIZE, vma)) &#123; ret = -ENOMEM; failure_string = \"alloc small buf\"; goto err_alloc_small_buf_failed; &#125; // å†…å­˜æä¾›ç»™ binder_buffer buffer = proc-&gt;buffer; // åˆå§‹åŒ– proc-&gt;buffers é“¾è¡¨ INIT_LIST_HEAD(&amp;proc-&gt;buffers); // å°† binder_buffer å¯¹è±¡æ”¾å…¥åˆ° proc-&gt;buffers é“¾è¡¨ä¸­ list_add(&amp;buffer-&gt;entry, &amp;proc-&gt;buffers); buffer-&gt;free = 1; binder_insert_free_buffer(proc, buffer); proc-&gt;free_async_space = proc-&gt;buffer_size / 2; barrier(); proc-&gt;files = get_files_struct(proc-&gt;tsk); proc-&gt;vma = vma; proc-&gt;vma_vm_mm = vma-&gt;vm_mm; return 0;&#125; é©±åŠ¨å‘½ä»¤æ¥å£ - binder_ioctl() å‡½æ•° ç”¨æˆ·æ€ç¨‹åºè°ƒç”¨ ioctl ç³»ç»Ÿå‡½æ•°å‘ /dev/binder è®¾å¤‡å‘é€æ•°æ®æ—¶ï¼Œä¼šè§¦å‘ binder_ioctl() å‡½æ•°å“åº”ã€‚ ä¸Šæ–‡æ•°æ®ç»“æ„ä¸­å·²ç»æåˆ°äº† binder_ioctl å¯ä»¥å¤„ç†çš„ å‘½ä»¤ 12345678910// æ ¸å¿ƒå‘½ä»¤ï¼Œæ•°æ®çš„è¯»å†™#define BINDER_WRITE_READ _IOWR('b', 1, struct binder_write_read)// è®¾ç½®æœ€å¤§çº¿ç¨‹æ•°#define BINDER_SET_MAX_THREADS _IOW('b', 5, size_t)// è®¾ç½® context manager#define BINDER_SET_CONTEXT_MGR _IOW('b', 7, int)// çº¿ç¨‹é€€å‡ºå‘½ä»¤#define BINDER_THREAD_EXIT _IOW('b', 8, int)// binder é©±åŠ¨çš„ç‰ˆæœ¬#define BINDER_VERSION _IOWR('b', 9, struct binder_version) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117static long binder_ioctl(struct file *filp, unsigned int cmd, unsigned long arg)&#123; int ret; struct binder_proc *proc = filp-&gt;private_data; struct binder_thread *thread; unsigned int size = _IOC_SIZE(cmd); void __user *ubuf = (void __user *)arg; // æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯ ret = wait_event_interruptible(binder_user_error_wait, binder_stop_on_user_error &lt; 2); if (ret) goto err_unlocked; binder_lock(__func__); // è·å– binder_thread å¯¹è±¡ thread = binder_get_thread(proc); if (thread == NULL) &#123; ret = -ENOMEM; goto err; &#125; switch (cmd) &#123; case BINDER_WRITE_READ: &#123; struct binder_write_read bwr; if (size != sizeof(struct binder_write_read)) &#123; ret = -EINVAL; goto err; &#125; // ä»ç”¨æˆ·ç©ºé—´æ‹·è´ binder_write_read åˆ° binder é©±åŠ¨ï¼Œå‚¨å­˜åœ¨ bwr if (copy_from_user(&amp;bwr, ubuf, sizeof(bwr))) &#123; ret = -EFAULT; goto err; &#125; if (bwr.write_size &gt; 0) &#123; // æ‰§è¡Œå†™å…¥æ“ä½œ ret = binder_thread_write(proc, thread, (void __user *)bwr.write_buffer, bwr.write_size, &amp;bwr.write_consumed); if (ret &lt; 0) &#123; bwr.read_consumed = 0; if (copy_to_user(ubuf, &amp;bwr, sizeof(bwr))) ret = -EFAULT; goto err; &#125; &#125; if (bwr.read_size &gt; 0) &#123; // æ‰§è¡Œè¯»å–æ“ä½œ ret = binder_thread_read(proc, thread, (void __user *)bwr.read_buffer, bwr.read_size, &amp;bwr.read_consumed, filp-&gt;f_flags &amp; O_NONBLOCK); if (!list_empty(&amp;proc-&gt;todo)) wake_up_interruptible(&amp;proc-&gt;wait); if (ret &lt; 0) &#123; if (copy_to_user(ubuf, &amp;bwr, sizeof(bwr))) ret = -EFAULT; goto err; &#125; &#125; // æ“ä½œå®Œæˆåå°†æ•°æ®è¿”å›ç»™ç”¨æˆ·ç©ºé—´ if (copy_to_user(ubuf, &amp;bwr, sizeof(bwr))) &#123; ret = -EFAULT; goto err; &#125; break; &#125; case BINDER_SET_MAX_THREADS: // è®¾ç½®æœ€å¤§çº¿ç¨‹ï¼Œä»ç”¨æˆ·ç©ºé—´æ‹·è´æ•°æ®åˆ° proc-&gt;max_threads if (copy_from_user(&amp;proc-&gt;max_threads, ubuf, sizeof(proc-&gt;max_threads))) &#123; ret = -EINVAL; goto err; &#125; break; case BINDER_SET_CONTEXT_MGR: // æ£€æŸ¥æ˜¯å¦å·²ç»è®¾ç½® if (binder_context_mgr_node != NULL) &#123; ret = -EBUSY; goto err; &#125; // è®¾ç½® context manager ret = security_binder_set_context_mgr(proc-&gt;tsk); if (ret &lt; 0) goto err; if (binder_context_mgr_uid != -1) &#123; if (binder_context_mgr_uid != current-&gt;cred-&gt;euid) &#123; ret = -EPERM; goto err; &#125; &#125; else binder_context_mgr_uid = current-&gt;cred-&gt;euid; // åˆ›å»º binder_context_mgr_node èŠ‚ç‚¹ binder_context_mgr_node = binder_new_node(proc, NULL, NULL); if (binder_context_mgr_node == NULL) &#123; ret = -ENOMEM; goto err; &#125; // åˆå§‹åŒ–èŠ‚ç‚¹æ•°æ® binder_context_mgr_node-&gt;local_weak_refs++; binder_context_mgr_node-&gt;local_strong_refs++; binder_context_mgr_node-&gt;has_strong_ref = 1; binder_context_mgr_node-&gt;has_weak_ref = 1; break; case BINDER_THREAD_EXIT: // çº¿ç¨‹é€€å‡ºï¼Œé‡Šæ”¾èµ„æº binder_free_thread(proc, thread); thread = NULL; break; case BINDER_VERSION: // å°† binder é©±åŠ¨ç‰ˆæœ¬å·å†™å…¥åˆ°ç”¨æˆ·ç©ºé—´ ubuf-&gt;protocol_version ä¸­ if (put_user(BINDER_CURRENT_PROTOCOL_VERSION, &amp;((struct binder_version *)ubuf)-&gt;protocol_version)) &#123; ret = -EINVAL; goto err; &#125; break; default: ret = -EINVAL; goto err; &#125; ret = 0;...&#125; 123456789101112131415161718192021222324252627282930313233343536373839static struct binder_node *binder_new_node(struct binder_proc *proc, void __user *ptr, void __user *cookie)&#123; struct rb_node **p = &amp;proc-&gt;nodes.rb_node; struct rb_node *parent = NULL; struct binder_node *node; // æŸ¥æ‰¾è¦æ’å…¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ while (*p) &#123; parent = *p; node = rb_entry(parent, struct binder_node, rb_node); if (ptr &lt; node-&gt;ptr) p = &amp;(*p)-&gt;rb_left; else if (ptr &gt; node-&gt;ptr) p = &amp;(*p)-&gt;rb_right; else return NULL; &#125; // ä¸ºè¦æ’å…¥èŠ‚ç‚¹åˆ†é…å†…å­˜ç©ºé—´ node = kzalloc(sizeof(*node), GFP_KERNEL); if (node == NULL) return NULL; binder_stats_created(BINDER_STAT_NODE); // æ’å…¥èŠ‚ç‚¹ rb_link_node(&amp;node-&gt;rb_node, parent, p); rb_insert_color(&amp;node-&gt;rb_node, &amp;proc-&gt;nodes); // åˆå§‹åŒ– node-&gt;debug_id = ++binder_last_id; node-&gt;proc = proc; node-&gt;ptr = ptr; node-&gt;cookie = cookie; node-&gt;work.type = BINDER_WORK_NODE; INIT_LIST_HEAD(&amp;node-&gt;work.entry); INIT_LIST_HEAD(&amp;node-&gt;async_todo); return node;&#125; BINDER_WRITE_READ å¤„ç†è¿‡ç¨‹ åœ¨ binder æœ¬åœ°å±‚ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°åœ¨ IPCThreadState::talkWithDriver() å‡½æ•°ä¸­ï¼Œ binder æœ¬åœ°å±‚é€šè¿‡ ioctl()(mProcess-&gt;mDriverFD, BINDER_WRITE_READ, &amp;bwr) å‘½ä»¤çš„å½¢å¼ï¼Œä¸ binder é©±åŠ¨äº¤äº’ã€‚ å¯ä»¥çœ‹å‡º ioctl() çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª binder_write_read ç»“æ„ä½“ binder.h å¤´æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸¤ä¸ªæ•°æ®ç±»å‹, ä¸€ä¸ªæ˜¯ binder_write_read 12345678struct binder_write_read &#123; signed long write_size; /* bytes to write */ signed long write_consumed; /* bytes consumed by driver */ unsigned long write_buffer; signed long read_size; /* bytes to read */ signed long read_consumed; /* bytes consumed by driver */ unsigned long read_buffer;&#125;; å…¶ä¸­ write_size å’Œ read_size è¡¨ç¤ºéœ€è¦è¢«è¯»å†™çš„å­—èŠ‚æ•°ï¼Œ write_consumed å’Œ read_consumed è¡¨ç¤ºå·²ç»è¢« binder é©±åŠ¨è¯»å†™çš„å­—èŠ‚æ•°ï¼Œ write_buffer å’Œ read_buffer åˆ™æ˜¯æŒ‡å‘è¢«è¯»å†™æ•°æ®çš„æŒ‡é’ˆã€‚ å…·ä½“çš„è¯»å†™æ“ä½œè¢« binder_thread_write å’Œ binder_thread_read å®ç°ã€‚ æ•°æ®å†™å…¥ - binder_thread_write() å‡½æ•° å°†ç”¨æˆ·ç©ºé—´æ•°æ®å†™å…¥åˆ° binder é©±åŠ¨ï¼Œä»é©±åŠ¨è§’åº¦æ¥çœ‹æ˜¯è¯»å–çš„æ“ä½œã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353int binder_thread_write(struct binder_proc *proc, struct binder_thread *thread, void __user *buffer, int size, signed long *consumed)&#123; uint32_t cmd; // ç”¨æˆ·ç©ºé—´æ•°æ®ï¼Œèµ·å§‹åœ°å€å’Œç»“æŸåœ°å€ void __user *ptr = buffer + *consumed; void __user *end = buffer + size; // å¾ªç¯è¯»å– while (ptr &lt; end &amp;&amp; thread-&gt;return_error == BR_OK) &#123; // ä»ç”¨æˆ·ç©ºé—´è·å–æ“ä½œå‘½ä»¤ if (get_user(cmd, (uint32_t __user *)ptr)) return -EFAULT; ptr += sizeof(uint32_t); if (_IOC_NR(cmd) &lt; ARRAY_SIZE(binder_stats.bc)) &#123; // å¢åŠ å‘½ä»¤è®¡æ•°å™¨ binder_stats.bc[_IOC_NR(cmd)]++; proc-&gt;stats.bc[_IOC_NR(cmd)]++; thread-&gt;stats.bc[_IOC_NR(cmd)]++; &#125; switch (cmd) &#123; // è¿™å››ä¸ªå‘½ä»¤ç”¨æ¥å¢åŠ æˆ–å‡å°‘å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œ æ“ä½œç›®æ ‡ binder_ref case BC_INCREFS: case BC_ACQUIRE: case BC_RELEASE: case BC_DECREFS: &#123; uint32_t target; struct binder_ref *ref; const char *debug_string; // è·å–ç›®æ ‡è¿›ç¨‹èŠ‚ç‚¹æè¿° desc if (get_user(target, (uint32_t __user *)ptr)) return -EFAULT; ptr += sizeof(uint32_t); // ç´¢æè¿°ä¸º 0 è¡¨ç¤º context manager è¿›ç¨‹ if (target == 0 &amp;&amp; binder_context_mgr_node &amp;&amp; (cmd == BC_INCREFS || cmd == BC_ACQUIRE)) &#123; // åœ¨ proc-&gt;refs_by_node.rb_node çº¢é»‘æ ‘ä¸­æŸ¥æ‰¾å¼•ç”¨ ref = binder_get_ref_for_node(proc, binder_context_mgr_node); &#125; else // åœ¨ proc-&gt;refs_by_desc.rb_node çº¢é»‘æ ‘ä¸­æŸ¥æ‰¾å¼•ç”¨ ref = binder_get_ref(proc, target); switch (cmd) &#123; case BC_INCREFS: debug_string = \"IncRefs\"; // å¢åŠ å¼±å¼•ç”¨è®¡æ•° binder_inc_ref(ref, 0, NULL); break; case BC_ACQUIRE: debug_string = \"Acquire\"; // å¢åŠ å¼ºå¼•ç”¨è®¡æ•° binder_inc_ref(ref, 1, NULL); break; case BC_RELEASE: debug_string = \"Release\"; // å‡å°‘å¼ºå¼•ç”¨è®¡æ•° binder_dec_ref(ref, 1); break; case BC_DECREFS: default: debug_string = \"DecRefs\"; // å‡å°‘å¼±å¼•ç”¨è®¡æ•° binder_dec_ref(ref, 0); break; &#125; break; &#125; case BC_INCREFS_DONE: case BC_ACQUIRE_DONE: &#123; void __user *node_ptr; void *cookie; struct binder_node *node; // ä»ç”¨æˆ·ç©ºé—´è¯»å– node_ptr if (get_user(node_ptr, (void * __user *)ptr)) return -EFAULT; ptr += sizeof(void *); // ä»ç”¨æˆ·ç©ºé—´è¯»å– cookie if (get_user(cookie, (void * __user *)ptr)) return -EFAULT; ptr += sizeof(void *); // è·å¾—èŠ‚ç‚¹ node = binder_get_node(proc, node_ptr); // æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å› if (node == NULL) &#123; binder_user_error(\"binder: %d:%d \" \"%s u%p no match\\n\", proc-&gt;pid, thread-&gt;pid, cmd == BC_INCREFS_DONE ? \"BC_INCREFS_DONE\" : \"BC_ACQUIRE_DONE\", node_ptr); break; &#125; // cookie ä¸åŒ¹é…åˆ™è¿”å› if (cookie != node-&gt;cookie) &#123; binder_user_error(\"binder: %d:%d %s u%p node %d\" \" cookie mismatch %p != %p\\n\", proc-&gt;pid, thread-&gt;pid, cmd == BC_INCREFS_DONE ? \"BC_INCREFS_DONE\" : \"BC_ACQUIRE_DONE\", node_ptr, node-&gt;debug_id, cookie, node-&gt;cookie); break; &#125; if (cmd == BC_ACQUIRE_DONE) &#123; node-&gt;pending_strong_ref = 0; &#125; else &#123; node-&gt;pending_weak_ref = 0; &#125; // å‡å°‘èŠ‚ç‚¹ä½¿ç”¨è®¡æ•° binder_dec_node(node, cmd == BC_ACQUIRE_DONE, 0); break; &#125; // é‡Šæ”¾ binder_bffer case BC_FREE_BUFFER: &#123; void __user *data_ptr; struct binder_buffer *buffer; // ä»ç”¨æˆ·ç©ºé—´è·å– data_ptr if (get_user(data_ptr, (void * __user *)ptr)) return -EFAULT; ptr += sizeof(void *); // æŸ¥æ‰¾ binder_buffer buffer = binder_buffer_lookup(proc, data_ptr); // æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å› if (buffer == NULL) &#123; binder_user_error(\"binder: %d:%d \" \"BC_FREE_BUFFER u%p no match\\n\", proc-&gt;pid, thread-&gt;pid, data_ptr); break; &#125; // ä¸å…è®¸ç”¨æˆ·é‡Šæ”¾åˆ™è¿”å› if (!buffer-&gt;allow_user_free) &#123; binder_user_error(\"binder: %d:%d \" \"BC_FREE_BUFFER u%p matched \" \"unreturned buffer\\n\", proc-&gt;pid, thread-&gt;pid, data_ptr); break; &#125; // å°† buffer-&gt;transaction ç½®ç©º if (buffer-&gt;transaction) &#123; buffer-&gt;transaction-&gt;buffer = NULL; buffer-&gt;transaction = NULL; &#125; if (buffer-&gt;async_transaction &amp;&amp; buffer-&gt;target_node) &#123; if (list_empty(&amp;buffer-&gt;target_node-&gt;async_todo)) buffer-&gt;target_node-&gt;has_async_transaction = 0; else list_move_tail(buffer-&gt;target_node-&gt;async_todo.next, &amp;thread-&gt;todo); &#125; // é‡Šæ”¾ binder_buffer å¯¹è±¡ trace_binder_transaction_buffer_release(buffer); binder_transaction_buffer_release(proc, buffer, NULL); binder_free_buf(proc, buffer); break; &#125; // binder æ•°æ®ä¼ é€’å¤„ç† case BC_TRANSACTION: case BC_REPLY: &#123; struct binder_transaction_data tr; // ä»ç”¨æˆ·ç©ºé—´æ‹·è´ binder_transaction_data å¯¹è±¡ if (copy_from_user(&amp;tr, ptr, sizeof(tr))) return -EFAULT; ptr += sizeof(tr); // å®é™…çš„ä¼ è¾“å‡½æ•°ï¼Œåœ¨ä¸‹æ–‡è®²è§£ binder_transaction(proc, thread, &amp;tr, cmd == BC_REPLY); break; &#125; // è®¾ç½® looper ä¸º BINDER_LOOPER_STATE_REGISTERED çŠ¶æ€ case BC_REGISTER_LOOPER: if (thread-&gt;looper &amp; BINDER_LOOPER_STATE_ENTERED) &#123; thread-&gt;looper |= BINDER_LOOPER_STATE_INVALID; binder_user_error(\"binder: %d:%d ERROR:\" \" BC_REGISTER_LOOPER called \" \"after BC_ENTER_LOOPER\\n\", proc-&gt;pid, thread-&gt;pid); &#125; else if (proc-&gt;requested_threads == 0) &#123; thread-&gt;looper |= BINDER_LOOPER_STATE_INVALID; binder_user_error(\"binder: %d:%d ERROR:\" \" BC_REGISTER_LOOPER called \" \"without request\\n\", proc-&gt;pid, thread-&gt;pid); &#125; else &#123; proc-&gt;requested_threads--; proc-&gt;requested_threads_started++; &#125; thread-&gt;looper |= BINDER_LOOPER_STATE_REGISTERED; break; // è®¾ç½® looper ä¸º BINDER_LOOPER_STATE_ENTERED çŠ¶æ€ case BC_ENTER_LOOPER: if (thread-&gt;looper &amp; BINDER_LOOPER_STATE_REGISTERED) &#123; thread-&gt;looper |= BINDER_LOOPER_STATE_INVALID; binder_user_error(\"binder: %d:%d ERROR:\" \" BC_ENTER_LOOPER called after \" \"BC_REGISTER_LOOPER\\n\", proc-&gt;pid, thread-&gt;pid); &#125; thread-&gt;looper |= BINDER_LOOPER_STATE_ENTERED; break; // è®¾ç½® looper ä¸º BINDER_LOOPER_STATE_EXITED çŠ¶æ€ case BC_EXIT_LOOPER: thread-&gt;looper |= BINDER_LOOPER_STATE_EXITED; break; // å‘é€ REQUEST_DEATH æˆ– CLEAR_DEATH é€šçŸ¥ case BC_REQUEST_DEATH_NOTIFICATION: case BC_CLEAR_DEATH_NOTIFICATION: &#123; uint32_t target; void __user *cookie; struct binder_ref *ref; struct binder_ref_death *death; // ä»ç”¨æˆ·ç©ºé—´è·å– binder_ref æè¿° desc if (get_user(target, (uint32_t __user *)ptr)) return -EFAULT; ptr += sizeof(uint32_t); // ä»ç”¨æˆ·ç©ºé—´è·å– cookie if (get_user(cookie, (void __user * __user *)ptr)) return -EFAULT; ptr += sizeof(void *); // è·å– binder_ref å¼•ç”¨ ref = binder_get_ref(proc, target); if (ref == NULL) &#123; binder_user_error(\"binder: %d:%d %s \" \"invalid ref %d\\n\", proc-&gt;pid, thread-&gt;pid, cmd == BC_REQUEST_DEATH_NOTIFICATION ? \"BC_REQUEST_DEATH_NOTIFICATION\" : \"BC_CLEAR_DEATH_NOTIFICATION\", target); break; &#125; if (cmd == BC_REQUEST_DEATH_NOTIFICATION) &#123; if (ref-&gt;death) &#123; binder_user_error(\"binder: %d:%\" \"d BC_REQUEST_DEATH_NOTI\" \"FICATION death notific\" \"ation already set\\n\", proc-&gt;pid, thread-&gt;pid); break; &#125; // ä¸º binder_ref_death å¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´ death = kzalloc(sizeof(*death), GFP_KERNEL); if (death == NULL) &#123; thread-&gt;return_error = BR_ERROR; break; &#125; // åˆå§‹åŒ– binder_ref_death å¯¹è±¡ binder_stats_created(BINDER_STAT_DEATH); INIT_LIST_HEAD(&amp;death-&gt;work.entry); death-&gt;cookie = cookie; ref-&gt;death = death; if (ref-&gt;node-&gt;proc == NULL) &#123; ref-&gt;death-&gt;work.type = BINDER_WORK_DEAD_BINDER; if (thread-&gt;looper &amp; (BINDER_LOOPER_STATE_REGISTERED | BINDER_LOOPER_STATE_ENTERED)) &#123; list_add_tail(&amp;ref-&gt;death-&gt;work.entry, &amp;thread-&gt;todo); &#125; else &#123; list_add_tail(&amp;ref-&gt;death-&gt;work.entry, &amp;proc-&gt;todo); // å”¤é†’ç›®æ ‡è¿›ç¨‹ wake_up_interruptible(&amp;proc-&gt;wait); &#125; &#125; &#125; else &#123; if (ref-&gt;death == NULL) &#123; binder_user_error(\"binder: %d:%\" \"d BC_CLEAR_DEATH_NOTIFI\" \"CATION death notificat\" \"ion not active\\n\", proc-&gt;pid, thread-&gt;pid); break; &#125; death = ref-&gt;death; if (death-&gt;cookie != cookie) &#123; binder_user_error(\"binder: %d:%\" \"d BC_CLEAR_DEATH_NOTIFI\" \"CATION death notificat\" \"ion cookie mismatch \" \"%p != %p\\n\", proc-&gt;pid, thread-&gt;pid, death-&gt;cookie, cookie); break; &#125; // å°† ref-&gt;death ç½®ç©º ref-&gt;death = NULL; if (list_empty(&amp;death-&gt;work.entry)) &#123; death-&gt;work.type = BINDER_WORK_CLEAR_DEATH_NOTIFICATION; if (thread-&gt;looper &amp; (BINDER_LOOPER_STATE_REGISTERED | BINDER_LOOPER_STATE_ENTERED)) &#123; list_add_tail(&amp;death-&gt;work.entry, &amp;thread-&gt;todo); &#125; else &#123; list_add_tail(&amp;death-&gt;work.entry, &amp;proc-&gt;todo); // å”¤é†’ç›®æ ‡è¿›ç¨‹ wake_up_interruptible(&amp;proc-&gt;wait); &#125; &#125; else &#123; BUG_ON(death-&gt;work.type != BINDER_WORK_DEAD_BINDER); death-&gt;work.type = BINDER_WORK_DEAD_BINDER_AND_CLEAR; &#125; &#125; &#125; break; case BC_DEAD_BINDER_DONE: &#123; struct binder_work *w; void __user *cookie; struct binder_ref_death *death = NULL; // ä»ç”¨æˆ·ç©ºé—´è·å– cookie if (get_user(cookie, (void __user * __user *)ptr)) return -EFAULT; ptr += sizeof(void *); list_for_each_entry(w, &amp;proc-&gt;delivered_death, entry) &#123; struct binder_ref_death *tmp_death = container_of(w, struct binder_ref_death, work); if (tmp_death-&gt;cookie == cookie) &#123; death = tmp_death; break; &#125; &#125; if (death == NULL) &#123; binder_user_error(\"binder: %d:%d BC_DEAD\" \"_BINDER_DONE %p not found\\n\", proc-&gt;pid, thread-&gt;pid, cookie); break; &#125; list_del_init(&amp;death-&gt;work.entry); // å¦‚æœ death-&gt;work.t ä¸º BINDER_WORK_DEAD_BINDER_AND_CLEAR åˆ™ä¿®æ”¹ä¸º BINDER_WORK_CLEAR_DEATH_NOTIFICATION if (death-&gt;work.t == BINDER_WORK_DEAD_BINDER_AND_CLEAR ) &#123; death-&gt;work.type = BINDER_WORK_CLEAR_DEATH_NOTIFICATION; if (thread-&gt;looper &amp; (BINDER_LOOPER_STATE_REGISTERED | BINDER_LOOPER_STATE_ENTERED)) &#123; list_add_tail(&amp;death-&gt;work.entry, &amp;thread-&gt;todo); &#125; else &#123; list_add_tail(&amp;death-&gt;work.entry, &amp;proc-&gt;todo); // å”¤é†’ç›®æ ‡è¿›ç¨‹ wake_up_interruptible(&amp;proc-&gt;wait); &#125; &#125; &#125; break; default: return -EINVAL; &#125; *consumed = ptr - buffer; &#125; return 0;&#125; binder_transaction() å‡½æ•° åœ¨ä¸Šæ–‡å¤„ç† BC_TRANSACTION å’Œ BC_REPLY æ—¶ï¼Œè°ƒç”¨äº† binder_transaction() å‡½æ•°ã€‚æˆ‘ä»¬ç»§ç»­è¿½è¸ª 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202static void binder_transaction(struct binder_proc *proc, struct binder_thread *thread, struct binder_transaction_data *tr, int reply)&#123; struct binder_transaction *t; struct binder_work *tcomplete; size_t *offp, *off_end; struct binder_proc *target_proc; struct binder_thread *target_thread = NULL; struct binder_node *target_node = NULL; struct list_head *target_list; wait_queue_head_t *target_wait; struct binder_transaction *in_reply_to = NULL; if (reply) &#123; // BC_REPLY å¤„ç†æµç¨‹ // å¾—åˆ° binder_transaction å¯¹è±¡ in_reply_to = thread-&gt;transaction_stack; if (in_reply_to == NULL) &#123; return_error = BR_FAILED_REPLY; goto err_empty_call_stack; &#125; binder_set_nice(in_reply_to-&gt;saved_priority); thread-&gt;transaction_stack = in_reply_to-&gt;to_parent; // è·å–ç›®æ ‡çº¿ç¨‹ target_thread = in_reply_to-&gt;from; target_proc = target_thread-&gt;proc; &#125; else &#123; // BC_TRANSACTION å¤„ç†æµç¨‹ // æŸ¥æ‰¾ç›®æ ‡èŠ‚ç‚¹ if (tr-&gt;target.handle) &#123; struct binder_ref *ref; // è·å– binder_ref å¯¹è±¡ ref = binder_get_ref(proc, tr-&gt;target.handle); target_node = ref-&gt;node; &#125; else &#123; // ç´¢å¼•ä¸º 0 åˆ™è¿”å› context manager target_node = binder_context_mgr_node; &#125; // å¾—åˆ°ç›®æ ‡è¿›ç¨‹ target_proc = target_node-&gt;proc; if (!(tr-&gt;flags &amp; TF_ONE_WAY) &amp;&amp; thread-&gt;transaction_stack) &#123; struct binder_transaction *tmp; tmp = thread-&gt;transaction_stack; while (tmp) &#123; if (tmp-&gt;from &amp;&amp; tmp-&gt;from-&gt;proc == target_proc) // è·å¾—ç›®æ ‡çº¿ç¨‹ target_thread = tmp-&gt;from; tmp = tmp-&gt;from_parent; &#125; &#125; &#125; // è®¾ç½®è¦å¤„ç†çš„ç›®æ ‡è¿›ç¨‹æˆ–ç›®æ ‡çº¿ç¨‹ä»»åŠ¡ if (target_thread) &#123; target_list = &amp;target_thread-&gt;todo; target_wait = &amp;target_thread-&gt;wait; &#125; else &#123; target_list = &amp;target_proc-&gt;todo; target_wait = &amp;target_proc-&gt;wait; &#125; // ä¸º binder_transaction å¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´ t = kzalloc(sizeof(*t), GFP_KERNEL); binder_stats_created(BINDER_STAT_TRANSACTION); tcomplete = kzalloc(sizeof(*tcomplete), GFP_KERNEL); binder_stats_created(BINDER_STAT_TRANSACTION_COMPLETE); // å¦‚æœæ˜¯åŒæ­¥ä¼ è¾“(åŒå‘)ï¼Œåˆ™å°†å½“å‰çš„ binder_thread å¯¹è±¡ä¿å­˜åœ¨ binder_transaction å¯¹è±¡çš„ from ä¸­ã€‚ if (!reply &amp;&amp; !(tr-&gt;flags &amp; TF_ONE_WAY)) t-&gt;from = thread; else t-&gt;from = NULL; // è®¾ç½® binder_transaction å¯¹è±¡ t-&gt;sender_euid = proc-&gt;tsk-&gt;cred-&gt;euid; t-&gt;to_proc = target_proc; t-&gt;to_thread = target_thread; t-&gt;code = tr-&gt;code; t-&gt;flags = tr-&gt;flags; t-&gt;priority = task_nice(current); // ä¸º binder_buffer åˆ†é…å†…å­˜ç©ºé—´ t-&gt;buffer = binder_alloc_buf(target_proc, tr-&gt;data_size, tr-&gt;offsets_size, !reply &amp;&amp; (t-&gt;flags &amp; TF_ONE_WAY)); // è®¾ç½® binder_buffer t-&gt;buffer-&gt;allow_user_free = 0; t-&gt;buffer-&gt;debug_id = t-&gt;debug_id; t-&gt;buffer-&gt;transaction = t; t-&gt;buffer-&gt;target_node = target_node; if (target_node) binder_inc_node(target_node, 1, 0, NULL); offp = (size_t *)(t-&gt;buffer-&gt;data + ALIGN(tr-&gt;data_size, sizeof(void *))); // ä»ç”¨æˆ·ç©ºé—´æ‹·è´æ•°æ®åˆ° binder_buffer if (copy_from_user(t-&gt;buffer-&gt;data, tr-&gt;data.ptr.buffer, tr-&gt;data_size)) &#123; return_error = BR_FAILED_REPLY; goto err_copy_data_failed; &#125; if (copy_from_user(offp, tr-&gt;data.ptr.offsets, tr-&gt;offsets_size)) &#123; return_error = BR_FAILED_REPLY; goto err_copy_data_failed; &#125; off_end = (void *)offp + tr-&gt;offsets_size; for (; offp &lt; off_end; offp++) &#123; struct flat_binder_object *fp; // ä¸º flat_binder_object èµ‹å€¼ fp = (struct flat_binder_object *)(t-&gt;buffer-&gt;data + *offp); // è½¬æ¢ binder ç±»å‹ï¼Œå¦‚æœæ˜¯ BINDER åˆ™è½¬æ¢ä¸º HANDLEï¼Œ å¦‚æœæ˜¯ HANDLE åˆ™è½¬ä¸º BANDLE switch (fp-&gt;type) &#123; case BINDER_TYPE_BINDER: case BINDER_TYPE_WEAK_BINDER: &#123; struct binder_ref *ref; // è·å– binder_node èŠ‚ç‚¹ struct binder_node *node = binder_get_node(proc, fp-&gt;binder); if (node == NULL) &#123; node = binder_new_node(proc, fp-&gt;binder, fp-&gt;cookie); if (node == NULL) &#123; return_error = BR_FAILED_REPLY; goto err_binder_new_node_failed; &#125; node-&gt;min_priority = fp-&gt;flags &amp; FLAT_BINDER_FLAG_PRIORITY_MASK; node-&gt;accept_fds = !!(fp-&gt;flags &amp; FLAT_BINDER_FLAG_ACCEPTS_FDS); &#125; if (fp-&gt;cookie != node-&gt;cookie) &#123; goto err_binder_get_ref_for_node_failed; &#125; // è·å– binder_ref å¯¹è±¡ ref = binder_get_ref_for_node(target_proc, node); // è½¬æ¢ç±»å‹ if (fp-&gt;type == BINDER_TYPE_BINDER) fp-&gt;type = BINDER_TYPE_HANDLE; else fp-&gt;type = BINDER_TYPE_WEAK_HANDLE; fp-&gt;handle = ref-&gt;desc; binder_inc_ref(ref, fp-&gt;type == BINDER_TYPE_HANDLE, &amp;thread-&gt;todo); &#125; break; case BINDER_TYPE_HANDLE: case BINDER_TYPE_WEAK_HANDLE: &#123; // è·å– binder_ref å¯¹è±¡ struct binder_ref*ref = binder_get_ref(proc, fp-&gt;handle); // è½¬æ¢ç±»å‹ if (ref-&gt;node-&gt;proc == target_proc) &#123; if (fp-&gt;type == BINDER_TYPE_HANDLE) fp-&gt;type = BINDER_TYPE_BINDER; else fp-&gt;type = BINDER_TYPE_WEAK_BINDER; fp-&gt;binder = ref-&gt;node-&gt;ptr; fp-&gt;cookie = ref-&gt;node-&gt;cookie; binder_inc_node(ref-&gt;node, fp-&gt;type == BINDER_TYPE_BINDER, 0, NULL); &#125; else &#123; struct binder_ref *new_ref; new_ref = binder_get_ref_for_node(target_proc, ref-&gt;node); fp-&gt;handle = new_ref-&gt;desc; binder_inc_ref(new_ref, fp-&gt;type == BINDER_TYPE_HANDLE, NULL); &#125; &#125; break; // æ–‡ä»¶ç±»å‹ case BINDER_TYPE_FD: &#123; int target_fd; struct file *file; // è·å¾—æ–‡ä»¶å¯¹è±¡ file = fget(fp-&gt;handle); // åˆ†é…ä¸€ä¸ªæ–°çš„æ–‡ä»¶æè¿°ç¬¦ target_fd = task_get_unused_fd_flags(target_proc, O_CLOEXEC); task_fd_install(target_proc, target_fd, file); fp-&gt;handle = target_fd; &#125; break; default: return_error = BR_FAILED_REPLY; goto err_bad_object_type; &#125; &#125; if (reply) &#123; // BC_REPLY å¤„ç†æµç¨‹, binder_transaction ä¸­é‡Šæ”¾ binder_transaction å¯¹è±¡ binder_pop_transaction(target_thread, in_reply_to); &#125; else if (!(t-&gt;flags &amp; TF_ONE_WAY)) &#123; // åŒæ­¥çŠ¶æ€(åŒå‘)éœ€è¦è®¾ç½®å›å¤ t-&gt;need_reply = 1; t-&gt;from_parent = thread-&gt;transaction_stack; thread-&gt;transaction_stack = t; &#125; else &#123; // å¼‚æ­¥ä¼ è¾“ä¸éœ€è¦è®¾ç½®å›å¤ if (target_node-&gt;has_async_transaction) &#123; target_list = &amp;target_node-&gt;async_todo; target_wait = NULL; &#125; else target_node-&gt;has_async_transaction = 1; &#125; t-&gt;work.type = BINDER_WORK_TRANSACTION; list_add_tail(&amp;t-&gt;work.entry, target_list); tcomplete-&gt;type = BINDER_WORK_TRANSACTION_COMPLETE; list_add_tail(&amp;tcomplete-&gt;entry, &amp;thread-&gt;todo); if (target_wait) // å”¤é†’ç›®æ ‡çº¿ç¨‹ wake_up_interruptible(target_wait); return;&#125; æ•°æ®è¯»å– - binder_thread_read() å‡½æ•° ç”¨æˆ·ç©ºé—´ä» binder é©±åŠ¨è¯»å–æ•°æ®ï¼Œä»é©±åŠ¨è§’åº¦æ¥çœ‹æ˜¯å†™å‡ºçš„æ“ä½œã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251static int binder_thread_read(struct binder_proc *proc, struct binder_thread *thread, void __user *buffer, int size, signed long *consumed, int non_block)&#123; void __user *ptr = buffer + *consumed; void __user *end = buffer + size; int ret = 0; int wait_for_proc_work; if (*consumed == 0) &#123; // ç¬¬ä¸€æ¬¡æ“ä½œæ—¶å‘ç”¨æˆ·ç©ºé—´è¿”å› BR_NOOP å‘½ä»¤ if (put_user(BR_NOOP, (uint32_t __user *)ptr)) return -EFAULT; ptr += sizeof(uint32_t); &#125;retry: // è·å–å°†è¦å¤„ç†çš„ä»»åŠ¡ wait_for_proc_work = thread-&gt;transaction_stack == NULL &amp;&amp; list_empty(&amp;thread-&gt;todo); if (wait_for_proc_work) &#123; if (!(thread-&gt;looper &amp; (BINDER_LOOPER_STATE_REGISTERED | BINDER_LOOPER_STATE_ENTERED))) &#123; binder_user_error(\"binder: %d:%d ERROR: Thread waiting \" \"for process work before calling BC_REGISTER_\" \"LOOPER or BC_ENTER_LOOPER (state %x)\\n\", proc-&gt;pid, thread-&gt;pid, thread-&gt;looper); wait_event_interruptible(binder_user_error_wait, binder_stop_on_user_error &lt; 2); &#125; binder_set_nice(proc-&gt;default_priority); if (non_block) &#123; // éé˜»å¡ä¸”æ²¡æœ‰æ•°æ®åˆ™è¿”å› EAGAIN if (!binder_has_proc_work(proc, thread)) ret = -EAGAIN; &#125; else // é˜»å¡åˆ™è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œç­‰å¾…å¯æ“ä½œçš„ä»»åŠ¡ ret = wait_event_freezable_exclusive(proc-&gt;wait, binder_has_proc_work(proc, thread)); &#125; else &#123; if (non_block) &#123; if (!binder_has_thread_work(thread)) ret = -EAGAIN; &#125; else ret = wait_event_freezable(thread-&gt;wait, binder_has_thread_work(thread)); &#125; binder_lock(__func__); if (wait_for_proc_work) proc-&gt;ready_threads--; thread-&gt;looper &amp;= ~BINDER_LOOPER_STATE_WAITING; if (ret) return ret; while (1) &#123; uint32_t cmd; struct binder_transaction_data tr; struct binder_work *w; struct binder_transaction *t = NULL; // è·å– binder_work å¯¹è±¡ if (!list_empty(&amp;thread-&gt;todo)) w = list_first_entry(&amp;thread-&gt;todo, struct binder_work, entry); else if (!list_empty(&amp;proc-&gt;todo) &amp;&amp; wait_for_proc_work) w = list_first_entry(&amp;proc-&gt;todo, struct binder_work, entry); else &#123; if (ptr - buffer == 4 &amp;&amp; !(thread-&gt;looper &amp; BINDER_LOOPER_STATE_NEED_RETURN)) /* no data added */ goto retry; break; &#125; if (end - ptr &lt; sizeof(tr) + 4) break; switch (w-&gt;type) &#123; case BINDER_WORK_TRANSACTION: &#123; // è·å– binder_transaction å¯¹è±¡ t = container_of(w, struct binder_transaction, work); &#125; break; case BINDER_WORK_TRANSACTION_COMPLETE: &#123; cmd = BR_TRANSACTION_COMPLETE; // è¿”å› BR_TRANSACTION_COMPLETE å‘½ä»¤ if (put_user(cmd, (uint32_t __user *)ptr)) return -EFAULT; ptr += sizeof(uint32_t); binder_stat_br(proc, thread, cmd); // ä» work é“¾è¡¨ä¸­åˆ é™¤å¹¶é‡Šæ”¾å†…å­˜ list_del(&amp;w-&gt;entry); kfree(w); binder_stats_deleted(BINDER_STAT_TRANSACTION_COMPLETE); &#125; break; case BINDER_WORK_NODE: &#123; // è·å¾— binder_node èŠ‚ç‚¹ struct binder_node *node = container_of(w, struct binder_node, work); uint32_t cmd = BR_NOOP; const char *cmd_name; // æ ¹æ®èŠ‚ç‚¹ç±»å‹ï¼Œå¢åŠ /è·å–ã€å‡å°‘/é‡Šæ”¾èŠ‚ç‚¹ç´¢å¼• int strong = node-&gt;internal_strong_refs || node-&gt;local_strong_refs; int weak = !hlist_empty(&amp;node-&gt;refs) || node-&gt;local_weak_refs || strong; // æ„é€  BR_* å‘½ä»¤ if (weak &amp;&amp; !node-&gt;has_weak_ref) &#123; cmd = BR_INCREFS; cmd_name = \"BR_INCREFS\"; node-&gt;has_weak_ref = 1; node-&gt;pending_weak_ref = 1; node-&gt;local_weak_refs++; &#125; else if (strong &amp;&amp; !node-&gt;has_strong_ref) &#123; cmd = BR_ACQUIRE; cmd_name = \"BR_ACQUIRE\"; node-&gt;has_strong_ref = 1; node-&gt;pending_strong_ref = 1; node-&gt;local_strong_refs++; &#125; else if (!strong &amp;&amp; node-&gt;has_strong_ref) &#123; cmd = BR_RELEASE; cmd_name = \"BR_RELEASE\"; node-&gt;has_strong_ref = 0; &#125; else if (!weak &amp;&amp; node-&gt;has_weak_ref) &#123; cmd = BR_DECREFS; cmd_name = \"BR_DECREFS\"; node-&gt;has_weak_ref = 0; &#125; // å‘ç”¨æˆ·ç©ºé—´è¿”å›å‘½ä»¤ if (cmd != BR_NOOP) &#123; if (put_user(cmd, (uint32_t __user *)ptr)) return -EFAULT; ptr += sizeof(uint32_t); if (put_user(node-&gt;ptr, (void * __user *)ptr)) return -EFAULT; ptr += sizeof(void *); if (put_user(node-&gt;cookie, (void * __user *)ptr)) return -EFAULT; ptr += sizeof(void *); binder_stat_br(proc, thread, cmd); &#125; else &#123; list_del_init(&amp;w-&gt;entry); if (!weak &amp;&amp; !strong) &#123; rb_erase(&amp;node-&gt;rb_node, &amp;proc-&gt;nodes); kfree(node); binder_stats_deleted(BINDER_STAT_NODE); &#125; &#125; &#125; break; case BINDER_WORK_DEAD_BINDER: case BINDER_WORK_DEAD_BINDER_AND_CLEAR: case BINDER_WORK_CLEAR_DEATH_NOTIFICATION: &#123; struct binder_ref_death *death; uint32_t cmd; // è·å– binder_ref_death å¯¹è±¡ death = container_of(w, struct binder_ref_death, work); // æ„é€ è¿”å›å‘½ä»¤ if (w-&gt;type == BINDER_WORK_CLEAR_DEATH_NOTIFICATION) cmd = BR_CLEAR_DEATH_NOTIFICATION_DONE; else cmd = BR_DEAD_BINDER; // å‘ç”¨æˆ·ç©ºé—´è¿”å›å‘½ä»¤ if (put_user(cmd, (uint32_t __user *)ptr)) return -EFAULT; ptr += sizeof(uint32_t); // å°† cookie è¿”å›ç»™ç”¨æˆ·ç©ºé—´ if (put_user(death-&gt;cookie, (void * __user *)ptr)) return -EFAULT; ptr += sizeof(void *); binder_stat_br(proc, thread, cmd); if (w-&gt;type == BINDER_WORK_CLEAR_DEATH_NOTIFICATION) &#123; list_del(&amp;w-&gt;entry); kfree(death); binder_stats_deleted(BINDER_STAT_DEATH); &#125; else list_move(&amp;w-&gt;entry, &amp;proc-&gt;delivered_death); if (cmd == BR_DEAD_BINDER) goto done; /* DEAD_BINDER notifications can cause transactions */ &#125; break; &#125; if (!t) continue; if (t-&gt;buffer-&gt;target_node) &#123; // è·å¾— binder_node èŠ‚ç‚¹ struct binder_node *target_node = t-&gt;buffer-&gt;target_node; // å°†æ•°æ®å°è£…åˆ° binder_transaction_data å¯¹è±¡ tr.target.ptr = target_node-&gt;ptr; tr.cookie = target_node-&gt;cookie; t-&gt;saved_priority = task_nice(current); if (t-&gt;priority &lt; target_node-&gt;min_priority &amp;&amp; !(t-&gt;flags &amp; TF_ONE_WAY)) binder_set_nice(t-&gt;priority); else if (!(t-&gt;flags &amp; TF_ONE_WAY) || t-&gt;saved_priority &gt; target_node-&gt;min_priority) binder_set_nice(target_node-&gt;min_priority); // è®¾ç½®è¿”å›çš„å‘½ä»¤ç±»å‹ cmd = BR_TRANSACTION; &#125; else &#123; tr.target.ptr = NULL; tr.cookie = NULL; cmd = BR_REPLY; &#125; tr.code = t-&gt;code; tr.flags = t-&gt;flags; tr.sender_euid = t-&gt;sender_euid; if (t-&gt;from) &#123; struct task_struct *sender = t-&gt;from-&gt;proc-&gt;tsk; tr.sender_pid = task_tgid_nr_ns(sender, current-&gt;nsproxy-&gt;pid_ns); &#125; else &#123; tr.sender_pid = 0; &#125; tr.data_size = t-&gt;buffer-&gt;data_size; tr.offsets_size = t-&gt;buffer-&gt;offsets_size; tr.data.ptr.buffer = (void *)t-&gt;buffer-&gt;data + proc-&gt;user_buffer_offset; tr.data.ptr.offsets = tr.data.ptr.buffer + ALIGN(t-&gt;buffer-&gt;data_size, sizeof(void *)); if (put_user(cmd, (uint32_t __user *)ptr)) return -EFAULT; ptr += sizeof(uint32_t); // æ‹·è´ binder_transaction_data å¯¹è±¡åˆ°ç”¨æˆ·ç©ºé—´ if (copy_to_user(ptr, &amp;tr, sizeof(tr))) return -EFAULT; ptr += sizeof(tr); binder_stat_br(proc, thread, cmd); // ç§»é™¤ binder_transaction å¹¶é‡Šæ”¾ç©ºé—´ list_del(&amp;t-&gt;work.entry); t-&gt;buffer-&gt;allow_user_free = 1; // å¦‚æœæ˜¯åŒæ­¥æ“ä½œï¼Œåˆ™å°† thread å¯¹è±¡ä¿å­˜åœ¨ binder_transaction ä¸­ï¼Œè¿”å›ç»™å‘é€æ–¹è¿›ç¨‹, å¦åˆ™é‡Šæ”¾ binder_transaction å¯¹è±¡ if (cmd == BR_TRANSACTION &amp;&amp; !(t-&gt;flags &amp; TF_ONE_WAY)) &#123; t-&gt;to_parent = thread-&gt;transaction_stack; t-&gt;to_thread = thread; thread-&gt;transaction_stack = t; &#125; else &#123; t-&gt;buffer-&gt;transaction = NULL; kfree(t); binder_stats_deleted(BINDER_STAT_TRANSACTION); &#125; break; &#125;&#125; ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹å‡º binder é©±åŠ¨çš„å…·ä½“å®ç°ï¼Œä»¥åŠæ˜¯å¦‚ä½•å‘é€å’Œæ¥æ”¶æ•°æ®çš„ã€‚ 5. Binder ä¸ç³»ç»ŸæœåŠ¡5.1 Context.getSystemService()Android ç³»ç»Ÿåœ¨å¯åŠ¨åä¼šåœ¨åå°è¿è¡Œå¾ˆå¤šç³»ç»ŸæœåŠ¡æä¾›ç»™åº”ç”¨ä½¿ç”¨ï¼Œè¿™äº› æœåŠ¡) ä¸»è¦æœ‰ WindowManager, LayoutInflater, ActivityManager, PowerManager, AlarmManager, NotificationManager, KeyguardManager, LocationManager, SearchManager, Vibrator, ConnectivityManager, WifiManager, AudioManager, MediaRouter, TelephonyManager, SubscriptionManager, InputMethodManager, UiModeManager, DownloadManager, BatteryManager, JobScheduler, NetworkStatsManager æˆ‘ä»¬å¯ä»¥é€šè¿‡ Context.getSystemService(String name) æ¥è·å– æœåŠ¡)ã€‚ ä¾‹å¦‚ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹æ³•ä» xml ä¸­æ’å…¥æ–°çš„è§†å›¾ LayoutInflater inflater = (LayoutInflater) getSystemService(LAYOUT_INFLATER_SERVICE); inflater.inflate(R.layout.view, root, true); 5.2 Context.getSystemService() æºç åˆ†æè¿½è¸ª ContextImpl getSystemService() æºä»£ç  1234@Overridepublic Object getSystemService(String name) &#123; return SystemServiceRegistry.getSystemService(this, name);&#125; ç»§ç»­è¿½è¸ª SystemServiceRegistry æºä»£ç  1234567/** * Gets a system service from a given context. */public static Object getSystemService(ContextImpl ctx, String name) &#123; ServiceFetcher&lt;?&gt; fetcher = SYSTEM_SERVICE_FETCHERS.get(name); return fetcher != null ? fetcher.getService(ctx) : null;&#125; è¿½è¸ª SYSTEM_SERVICE_FETCHERS å¯ä»¥å‘ç°åœ¨ SystemServiceRegistry é™æ€åŒºä¸­æ³¨å†Œäº†å‡ ä¹æ‰€æœ‰çš„ç³»ç»ŸæœåŠ¡ 1234567891011121314registerService(Context.LAYOUT_INFLATER_SERVICE, LayoutInflater.class, new CachedServiceFetcher&lt;LayoutInflater&gt;() &#123; @Override public LayoutInflater createService(ContextImpl ctx) &#123; return new PhoneLayoutInflater(ctx.getOuterContext()); &#125;&#125;);registerService(Context.LOCATION_SERVICE, LocationManager.class, new CachedServiceFetcher&lt;LocationManager&gt;() &#123; @Override public LocationManager createService(ContextImpl ctx) &#123; IBinder b = ServiceManager.getService(Context.LOCATION_SERVICE); return new LocationManager(ctx, ILocationManager.Stub.asInterface(b)); &#125;&#125;); ä¸Šé¢ä»£ç ç‰‡æ–­ä¸­ï¼ŒPhoneLayoutInflater æœ€ç»ˆå›åˆ°äº† LayoutInflaterã€‚è€Œ LocationManager åˆ™æ˜¯å¯¹ ILocationManager çš„å°è£…ã€‚å¯ä»¥å‘ç°ï¼Œåœ¨ frameworks/base/location/java/android/location åŒ…ä¸‹å«æœ‰å¤§é‡çš„ AIDL æ–‡ä»¶ã€‚ ç»§ç»­è¿½è¸ª ServiceManager.getService(Context.LOCATION_SERVICE) 1234567891011121314151617181920212223242526272829private static IServiceManager getIServiceManager() &#123; if (sServiceManager != null) &#123; return sServiceManager; &#125; // Find the service manager sServiceManager = ServiceManagerNative.asInterface(BinderInternal.getContextObject()); return sServiceManager;&#125;/** * Returns a reference to a service with the given name. * * @param name the name of the service to get * @return a reference to the service, or &lt;code&gt;null&lt;/code&gt; if the service doesn't exist */public static IBinder getService(String name) &#123; try &#123; IBinder service = sCache.get(name); if (service != null) &#123; return service; &#125; else &#123; return getIServiceManager().getService(name); &#125; &#125; catch (RemoteException e) &#123; Log.e(TAG, \"error in getService\", e); &#125; return null;&#125; ä»ä¸Šé¢ä»£ç ç‰‡æ–­å¯ä»¥çœ‹å‡ºï¼ŒServiceManager ä¼šä» sCache ç¼“å­˜æˆ– IServiceManager ä¸­æŸ¥æ‰¾æœåŠ¡å¹¶è¿”å›ä¸€ä¸ª IBinder å¯¹è±¡ã€‚è¿™ä¸ª IBinder å°±æ˜¯ä¸€ä¸ªè¿œç¨‹å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å®ƒä¸å…¶ä»–è¿›ç¨‹äº¤äº’ã€‚ ç»§ç»­æ·±å…¥ getIServiceManager().getService(name) , è¿›å…¥ ServiceManagerNative 1234567891011121314151617181920212223242526272829303132333435363738394041/** * Cast a Binder object into a service manager interface, generating * a proxy if needed. */static public IServiceManager asInterface(IBinder obj)&#123; if (obj == null) &#123; return null; &#125; IServiceManager in = (IServiceManager)obj.queryLocalInterface(descriptor); if (in != null) &#123; return in; &#125; return new ServiceManagerProxy(obj);&#125;class ServiceManagerProxy implements IServiceManager &#123; public ServiceManagerProxy(IBinder remote) &#123; mRemote = remote; &#125; public IBinder asBinder() &#123; return mRemote; &#125; public IBinder getService(String name) throws RemoteException &#123; Parcel data = Parcel.obtain(); Parcel reply = Parcel.obtain(); data.writeInterfaceToken(IServiceManager.descriptor); data.writeString(name); mRemote.transact(GET_SERVICE_TRANSACTION, data, reply, 0); IBinder binder = reply.readStrongBinder(); reply.recycle(); data.recycle(); return binder; &#125; private IBinder mRemote;&#125; ä»ä¸Šè¾¹ä»£ç ç‰‡æ–­å¯ä»¥çœ‹åˆ°ï¼ŒServiceManager.getIServiceManager() è¿”å›çš„æ˜¯ä¸€ä¸ª ServiceManagerProxy, è€Œ ServiceManager.getService() åˆ™æ˜¯åœ¨ ServiceManagerProxy ä¸­é€šè¿‡ ServiceManager çš„è¿œç¨‹ Binder å¯¹è±¡ mRemoteï¼Œæ“ä½œ Parcel æ•°æ®ï¼Œè°ƒç”¨ IBinder.transact(int code, Parcel data, Parcel reply, int flags) æ–¹æ³•æ¥å‘é€è¯·æ±‚ï¼Œå¹¶é€šè¿‡ reply.readStrongBinder() è¿”å›äº†è¦æŸ¥æ‰¾çš„æœåŠ¡çš„è¿œç¨‹å¯¹è±¡ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œç³»ç»ŸæœåŠ¡çš„è·å–æ–¹å¼ä¹Ÿæ˜¯é€šè¿‡ AIDL çš„æ–¹å¼å®ç°çš„ã€‚ 6. ç»“è®º1. Binder çš„å®ç°æ¶‰åŠåˆ° kernel é©±åŠ¨ï¼Œæœ¬åœ°å±‚ï¼ŒJNI å’Œåº”ç”¨å±‚ï¼Œè´¯ç©¿äº†æ•´ä¸ª ï¼¡ndroid ç³»ç»Ÿã€‚ç³»ç»ŸæœåŠ¡è·å–ã€Activity/Service å¯åŠ¨ã€Intentçš„ä¼ é€’ç­‰éƒ½ç¦»ä¸å¼€ binder,è¦æŒæ¡ binder çš„åŸç†éœ€è¦æ·±å…¥åˆ°ç³»ç»Ÿçš„æ¯ä¸€å±‚ä»£ç ã€‚ 2. ä¸Šå±‚çš„ android.os.Binder åªæ˜¯å¯¹ binder çš„åˆä¸€æ¬¡æŠ½è±¡å°è£…ï¼Œæˆ‘ä»¬åœ¨åº”ç”¨ä¸­ä¸€èˆ¬ä¹Ÿä¸ä¼šç›´æ¥ä½¿ç”¨ã€‚ 3. AIDL æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç”¨äºå°è£… Binder æ“ä½œçš„å·¥å…·ï¼Œæœ€ç»ˆçš„è¿›ç¨‹é—´é€šä¿¡ç”± Binder çš„ transact å’Œ onTransact å®Œæˆã€‚æˆ‘ä»¬åœ¨åº”ç”¨ä¸­å®ç° AIDL æ¥å£ï¼Œå¯ä»¥å¿«é€Ÿå®ç°è¿›ç¨‹é—´é€šä¿¡ã€‚ 7. å‚è€ƒAndroid Binderæœºåˆ¶ Androidè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰æœºåˆ¶Binder Android Binder Android Architecture Binder AIDLä¸Binderæ¡†æ¶æµ…è°ˆ Binderæ¡†æ¶è§£æ Deep Dive into Android IPC/Binder Framework at Android Builders Summit 2013 Android Builders Summit 2013 - Deep Dive into Android IPC/Binder Framework (video) Binderæºç åˆ†æä¹‹é©±åŠ¨å±‚ï¼ˆåŸï¼‰ æ·±å…¥åˆ†æAndroid Binder é©±åŠ¨ æ„é€ IOCTLå‘½ä»¤çš„å­¦ä¹ å¿ƒå¾—â€”â€“_IO, _IOR, _IOW, _IOWR å¹»æ•°çš„ç†è§£ Serviceä¸Androidç³»ç»Ÿè®¾è®¡ï¼ˆ7ï¼‰â€” Binderé©±åŠ¨ Android Binder Binderæœºåˆ¶ï¼Œä»Javaåˆ°C ï¼ˆ7. Native Serviceï¼‰ å¾…è¡¥å……çš„å†…å®¹ 1. å®¢æˆ·ç«¯ bindService() æµç¨‹åŠæºç åˆ†æ 2. Binder Native å±‚å…¶ä»–æºç æ–‡ä»¶åˆ†æ 3. ç³»ç»ŸæœåŠ¡ï¼ˆSystemServiceï¼‰è¯¦ç»†åˆ—è¡¨åŠåœ¨æœ¬åœ°å±‚çš„æºç åˆ†æ 4. SystemManager æºç åˆ†æ 5. å®Œå–„ binder é©±åŠ¨å†…å®¹ï¼Œè¡¥å……å…³ç³»å›¾","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Binder","slug":"Binder","permalink":"https://yangxiaoge.github.io/tags/Binder/"}]},{"title":"Android Oä¸Šæ‰‹ä½“éªŒ","slug":"Android-Oä¸Šæ‰‹ä½“éªŒ","date":"2017-05-19T05:34:15.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2017/05/19/Android-Oä¸Šæ‰‹ä½“éªŒ/","link":"","permalink":"https://yangxiaoge.github.io/2017/05/19/Android-Oä¸Šæ‰‹ä½“éªŒ/","excerpt":"","text":"2017 Google IO å¼€å‘è€…å¤§ä¼š, äºåŒ—äº¬æ—¶é—´ 5 æœˆ 18 æ—¥å‡Œæ™¨ 1 ç‚¹ä¸¾åŠäº†ï¼Œå…·ä½“çš„å†…å®¹è¯·çœ‹ stormzhang ï¼ˆå¸…æ¯”å¼ å»äº†åŠ å·ç°åœºè¿˜å¼€äº†ä¸ªç›´æ’­ï¼Œç»ˆäºçœ‹åˆ°äº†ä¸€ä¸ªä¼šåŠ¨çš„å¸…æ¯”å¼ ï¼Œå“ˆå“ˆï¼‰ã€‚æœ‰å‡ ä¸ªé‡è¦çš„äº‹ä»¶ï¼šGoogle AIï¼ŒAndroid Oï¼ŒKotlinï¼Œç­‰ç­‰æœ¬æ–‡é‡ç‚¹æ˜¯ Android O çš„ä¸Šæ‰‹è§†é¢‘ï¼Œè¿«ä¸åŠå¾…çš„æŠŠæµ‹è¯•æœº Nexus 5X åˆ·æˆäº† Android 0ï¼ŒAndroid O ç³»ç»Ÿæ˜ åƒæ–‡ä»¶ä¸‹è½½ï¼Œå®˜ç½‘ä»‹ç»ç‰¹æ€§ï¼šAndroid O æ–°ç‰¹æ€§ä»‹ç»ã€‚ ä¸Šæ‰‹è§†é¢‘ï¼š","categories":[{"name":"Android O","slug":"Android-O","permalink":"https://yangxiaoge.github.io/categories/Android-O/"}],"tags":[{"name":"Android O","slug":"Android-O","permalink":"https://yangxiaoge.github.io/tags/Android-O/"}]},{"title":"Androidè¾“å…¥æ³•åŠ å¯†ç ”ç©¶","slug":"Androidè¾“å…¥æ³•åŠ å¯†ç ”ç©¶","date":"2017-05-09T01:51:03.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2017/05/09/Androidè¾“å…¥æ³•åŠ å¯†ç ”ç©¶/","link":"","permalink":"https://yangxiaoge.github.io/2017/05/09/Androidè¾“å…¥æ³•åŠ å¯†ç ”ç©¶/","excerpt":"","text":"è¿‘æœŸæ¥åˆ°ä¸€ä¸ªå¾®ä¿¡ï¼ŒQQ èŠå¤©æ—¶åŠ å¯†æ–‡å­—çš„éœ€æ±‚ã€‚æˆ‘å½“æ—¶çš„å¿ƒæƒ…æ˜¯è¿™æ ·çš„ï¼š å¼€æºé¡¹ç›®å…¥æ‰‹å†·é™ä¸‹æ¥ï¼Œç»†ç»†æ€è€ƒï¼Œè¦ä¸å¼€å‘ä¸€ä¸ªè¾“å…¥æ³•ï¼Ÿæˆ‘è¿™æ˜¯è¦æŒ‘æˆ˜æœç‹—è¾“å…¥æ³•ä¸€ä¸ªå›¢é˜Ÿå—ï¼Œä¸ç°å®å‘€ï¼ç„¶åå°±æ‰¾åˆ°äº† Goolge å¼€æºçš„ PinyinIMEï¼ˆAndroid 4.4.4ï¼‰ã€‚æ¯•ç«Ÿè¾“å…¥æ³•å°†è¾“å…¥çš„æ–‡å­—è®¾ç½®åˆ°ç¼–è¾‘æ¡†è¦èµ° BaseInputConnection ä¸­ commitText æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘å°±æƒ³åœ¨è¿™ä¸ªåœ°æ–¹åŠ¨æ‰‹è„šå‘—ã€‚å—¯ï¼Œè¯´å¹²å°±å¹²ï¼Œæˆ‘å°±æ’¸äº†ä¸€ä¸‹ PinyinIME é¡¹ç›®ä¸­çš„ä»£ç ï¼Œå®ç°æ•ˆæœå¦‚ä¸‹ï¼š(åŠ å¯†åçš„æ–‡å­—åé¢æˆ‘åŠ äº†ä¸€ä¸ª â€œä¸­â€ å­—) å“å‘¦ï¼Œçœ‹ç€ä¹Ÿè¿˜å‡‘æ´»å“ˆã€‚å—¯ï¼Œç„¶åæ‰“å¼€æœç‹—ï¼Œç™¾åº¦è¾“å…¥æ³•ä¸€çœ‹ï¼Œç”¨æˆ·å°±ä¸ä¹æ„äº†ï¼Œä½ å®¶è¾“å…¥æ³•çœŸæŒ«ï¼ä¸€æ€’ä¹‹ä¸‹ä¸ç”¨äº†ã€‚è™½ç„¶è¿™æ˜¯ä¸ªç¬‘è¯ï¼Œä½†æ˜¯å¼€å‘è¾“å…¥æ³•ä»£ä»·å¤ªå¤§äº†ï¼Œæ¯•ç«Ÿè¦å¤§é‡æ—¶é—´ï¼ŒäººåŠ›ã€‚ æºç åˆ†æå…¥æ‰‹æ‰€ä»¥å•Šï¼Œæˆ‘æƒ³è¦ä¸ä»ç³»ç»Ÿå±‚å…¥æ‰‹ï¼Ÿï¼ˆæŸ¥äº†ä¸‹ Apiï¼‰ frameworks/base/... ä¸‹æœ‰ä¸ªç±» InputMethodManager (è¾“å…¥æ³•ç®¡ç†å™¨ï¼Œç®¡ç†å„éƒ¨åˆ†çš„äº¤äº’ã€‚å®ƒæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯APIï¼Œå­˜åœ¨äºå„ä¸ªåº”ç”¨ç¨‹åºçš„ context ä¸­ï¼Œç”¨æ¥æ²Ÿé€šç®¡ç†æ‰€æœ‰è¿›ç¨‹é—´äº¤äº’çš„å…¨å±€ç³»ç»ŸæœåŠ¡ã€‚) ä¸­æœ‰ä¸ªæ–¹æ³• showSoftInput (View view, int flags, ResultReceiver resultReceiver)ã€‚ æ³¨æ„åˆ°ä¸€ä¸ª view å‚æ•°ï¼Œæ­¤å‚æ•°å°±æ˜¯è¾“å…¥æ¡†ï¼ˆå¾®ä¿¡ï¼ŒQQï¼Œç­‰è¾“å…¥æ¡†ï¼Œwebviewé™¤å¤–ï¼‰çš„ Viewï¼Œæ—¢ç„¶æœ‰äº† viewï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ getTextï¼ŒsetText ç­‰ç­‰æ“ä½œã€‚æˆ‘å°† view ä¸­çš„å†…å®¹ Toast å‡ºæ¥æ•ˆæœå¦‚ä¸‹ï¼š InputMethodServiceï¼Œæ¯ä¸ªè¾“å…¥æ³• App åº”ç”¨éƒ½æ˜¯ç»§æ‰¿è‡ªå®ƒï¼é‚£ä¹ˆå°±å¯ä»¥å¯¹å®ƒçš„ç”Ÿå‘½å‘¨æœŸä¸‹æ‰‹äº†ã€‚è¾“å…¥æ³•æ˜¾ç¤ºçš„æ—¶å€™å¼€å¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æœåŠ¡ï¼ˆæœ‰æ‚¬æµ®çª—çš„ï¼‰ï¼Œè¾“å…¥æ³•å…³é—­çš„æ—¶å€™ç»“æŸæœåŠ¡å¹¶ä¸”é‡Šæ”¾ç›¸åº”çš„é™æ€å˜é‡ã€‚é‡ç‚¹å°±åœ¨äºç”Ÿå‘½å‘¨æœŸçš„ç ”ç©¶ï¼ ç›®çš„æ˜¯ï¼Œå°† InputMethodManager ä¸­çš„ ç¼–è¾‘æ¡† View å¯¹è±¡å­˜èµ·æ¥ï¼Œç„¶ååœ¨ InputMethodService ä¸­å¯åŠ¨çš„æœåŠ¡ æš‚ä¸”å«åš MyFloatEncryService ä¸­è·å–è¿™ä¸ª Viewï¼Œä¹‹åå°±ç›´æ¥å¯ä»¥ getï¼Œset åŠ å¯†äº†ã€‚ å®ç°æ–¹æ¡ˆåœ¨å¼€å‘ä¸­ï¼Œåç»­è¡¥å……~~~","categories":[{"name":"è¾“å…¥æ³•","slug":"è¾“å…¥æ³•","permalink":"https://yangxiaoge.github.io/categories/è¾“å…¥æ³•/"}],"tags":[{"name":"è¾“å…¥æ³•","slug":"è¾“å…¥æ³•","permalink":"https://yangxiaoge.github.io/tags/è¾“å…¥æ³•/"}]},{"title":"Androidæºç ç¼–è¯‘","slug":"Androidæºç ç¼–è¯‘","date":"2017-05-04T03:40:24.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2017/05/04/Androidæºç ç¼–è¯‘/","link":"","permalink":"https://yangxiaoge.github.io/2017/05/04/Androidæºç ç¼–è¯‘/","excerpt":"","text":"è¿›å…¥é¡¹ç›®æ ¹ç›®å½• ï¼ˆbegoit@BegoitPC:~/begoit/AOSP-6.0.1_r17/ï¼‰ source build/envsetup.sh lunch (æˆ‘çš„é¡¹ç›®ä¸­é€‰äº† 79) make -j8ï¼ˆç¬¬ä¸€æ¬¡ç¼–è¯‘è€—æ—¶ 2 å°æ—¶ï¼Œæœºå™¨æ€§èƒ½å¥½çš„å¯ä»¥ j32 ç­‰ç­‰ï¼‰ Android ç¼–è¯‘å‘½ä»¤ make -j8 -k 2&gt;&amp;1 | tee build.log è§£é‡Š: å…¶ä¸­ make æ˜¯ç¼–è¯‘å‘½ä»¤ï¼Œ-j8 è¿™é‡Œçš„ 8 æŒ‡çš„æ˜¯çº¿ç¨‹æ•°é‡ï¼Œå°±æ˜¯å¼€å¯å‡ ä¸ªçº¿ç¨‹å»ç¼–è¯‘è¿™ä¸ªå·¥ç¨‹ï¼Œä¸€èˆ¬ä¼šæ˜¯ CPU æ ¸å¿ƒæ•°çš„ 2 å€, å¼€å¤šçš„è¯ç”µè„‘ä¼šå¡æ­»ã€‚-k 2 æ˜¯æ ‡å‡†é”™è¯¯ï¼Œ&amp;1 æ˜¯æ ‡å‡†è¾“å‡ºï¼Œ2&gt;&amp;1 æ„æ€å°±æ˜¯å°†æ ‡å‡†é”™è¯¯è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚å¦‚æœæ²¡æœ‰ 2&gt;&amp;1ï¼Œåªä¼šæœ‰æ ‡å‡†è¾“å‡ºï¼Œæ²¡æœ‰é”™è¯¯ï¼›tee çš„ä½œç”¨åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶ï¼Œmake &gt; build.log æ˜¯å°†æ‰€æœ‰æ ‡å‡†è¾“å‡ºåˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰å®šä¹‰æ ‡å‡†é”™è¯¯åº”è¯¥æ˜¯å®šä¹‰åˆ°äº†æ ‡å‡†è¾“å‡ºï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœ make æ‰§è¡Œå‡ºç°é”™è¯¯ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†™åˆ° build.log ä¸­ï¼Œè€Œæ˜¯è¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œ2&gt;&amp;1 æ˜¯é”™è¯¯å’Œç»“æœéƒ½é‡å®šå‘åˆ° build.log ä¸­ï¼å¯ä»¥åˆ°æ ¹ç›®å½•çœ‹åˆ° build.logã€‚ æ¨¡å—ç¼–è¯‘ï¼ŒèŠ‚çº¦æ—¶é—´(æ¯”æ–¹è¯´æˆ‘ä¿®æ”¹äº† frameworks/base ä¸‹çš„æŸä¸ªæ–‡ä»¶ç›´æ¥ç¼–è¯‘è¿™ä¸ªæ¨¡å—å°±è¡Œ) mmm frameworks/base ï¼ˆå•ç‹¬ç¼–è¯‘æŸä¸ªæ¨¡å—ï¼‰ make snod ï¼ˆé‡æ–°æ‰“åŒ… Android ç³»ç»Ÿé•œåƒæ–‡ä»¶ system.imgï¼Œ è¿™ä¸ªä¸è¦å¿˜ï¼ï¼‰ ç¼–è¯‘æºç ç­‰æŒ‡ä»¤å¯ä»¥çœ‹è€ç½—çš„ Android ç³»ç»Ÿæºä»£ç æƒ…æ™¯åˆ†ææ•™ç¨‹ åˆ·æœº åˆ·æœºå·¥å…·ä¸‹è½½ å®‰è£…ä¸‹è½½çš„å·¥å…· æ‰“å¼€ SP_Flash_Tool_exe_Windows_v5.1644.00.000\\flash_tool.exe åˆ·æœºå¼€å§‹ MTK åˆ·æœºï¼ˆKONKAS6 ä»£ç ï¼‰ä½¿ç”¨ Smart Phone Flash Tool å·¥å…·ï¼š æ³¨æ„ KONKA æ‰‹æœºå…³æœºå³å¯ï¼Œé¦–å…ˆé€‰ä¸­ Scatter-loading File è¿™è¡Œçš„ choose ï¼Œç„¶åå³å‡»è®¡ç®—æœºé€‰æ‹©æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨è¾“å…¥ \\\\192.168.20.220\\shareï¼ˆè¿™ä¸ªæ˜¯ ubuntu å…±äº«çš„æ–‡ä»¶å¤¹ï¼‰ï¼Œç„¶åè¿›å…¥å¯¹äºæºç ç›®å½•æ‰¾åˆ° KONKAS6\\alps\\out\\target\\product\\kon6753_66c_s6_m0\\MT6753_Android_scatter.txt åŸç”Ÿ AOSP ç”¨ Nexus åˆ·æœºï¼ˆAOSP-6.0.1_r17 ä»£ç ï¼‰ï¼šæ³¨æ„æ‰‹æœºå…³æœºè¿›å…¥ fastboot ç•Œé¢ï¼Œè¿›å…¥ç¼–è¯‘ç”Ÿæˆçš„ç›®å½•ä¸‹ begoit@BegoitPC:~/begoit/AOSP-6.0.1_r17/out/target/product/bullhead$ï¼Œç„¶åä¾æ¬¡åˆ·å…¥å¦‚ä¸‹å‘½ä»¤ï¼š sudo fastboot flash system system.img sudo fastboot flash recovery recovery.img sudo fastboot flash vendor vendor.img sudo fastboot flash cache cache.img sudo fastboot flash userdata userdata.img sudo fastboot reboot æœ€åä¸€æ­¥ï¼Œé‡å¯æ‰‹æœºã€‚ åˆ·æœºå½•åƒï¼šæ³¨æ„ï¼Œgif æœ€åç‚¹å‡» download ä¹‹åå†ç”¨ usb è¿æ¥å…³æœºçš„ KONKA æ‰‹æœº Attentionï¼š /home/begoit/temp/KONKAS6/alps/packages/apps/Provision/src/com/android/provision/DefaultActivity.java (æ³¨é‡Š onCreate ä¸­çš„éƒ¨åˆ†ä»£ç ï¼Œç•¥å»ç™»å½•æ³¨å†Œç­‰åŠŸèƒ½) æ‰“ Patch åŒ…ï¼ˆå°† A é¡¹ç›®çš„æäº¤æ‰“ Patch å¯¼å…¥åˆ° B é¡¹ç›®ä¸­ï¼‰ 2017-9-18 18:14:57 add git format-patch -1ï¼ˆ-1 æŒ‡æœ€è¿‘ä¸€æ¬¡ Git æäº¤ï¼‰ - A é¡¹ç›®æ ¹ç›®å½•ï¼Œç”Ÿæˆ Patch åŒ… å°†ç”Ÿæˆçš„ 0001-.patch æ‹·è´åˆ° B é¡¹ç›®æ ¹ç›®å½•ä¸‹ git am 0001-.patch - B é¡¹ç›®æ ¹ç›®å½•æ‰“å…¥ Patch åŒ… æºç ä»£ç æç¤ºçš„å‘½ä»¤ 2017-6-13 15:46:06 addè¿è¡Œ source build/envsetup.shmmm development/tools/idegen/sh ./development/tools/idegen/idegen.sh ï¼ˆä¸‰è¡Œå…¨é€‰è¿è¡Œï¼‰ï¼Œä¼šåœ¨é¡¹ç›®çš„æ›´ç›®å½•ä¸‹ä¼šç”Ÿæˆ android.iprï¼Œç”¨ andorid studio æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œæºç ä»£ç å°±æœ‰æç¤ºäº†! å†…ç½® apk 2017-6-27 11:08:49 add KONKAS6/alps/device/konka/kon6753_66c_s6_m0/begoit è·¯å¾„ä¸‹å°†éœ€è¦çš„ apk(TopActivity.apk) å®‰è£…åŒ…æ”¾è¿›æ¥ åœ¨ä¸Šè¿°è·¯å¾„ä¸‹ Android.mk æ–‡ä»¶ä¸­å°† apk ä¿¡æ¯åŠ è¿›æ¥ï¼ˆè¿™ä¸ªæ¨¡ä»¿å…¶ä»–çš„å†…ç½®apkï¼‰ KONKAS6/alps/device/konka/kon6753_66c_s6_m0/full_kon6753_66c_s6_m0.mk æ–‡ä»¶ä¸­å¢åŠ  TopActivity \\ å¦‚æœ apk ä¸­æœ‰ so åº“é‚£ä¹ˆéœ€è¦åŠ åˆ«çš„ä¸œè¥¿ï¼Œç›®å‰æ²¡æœ‰ç”¨åˆ°ï¼Œå¯è‡ªè¡Œ google ä»¥ä¸Šæ“ä½œå®Œæˆä¹‹åéœ€è¦é‡æ–°ç¼–è¯‘é¡¹ç›® åŠ å¿«ç¼–è¯‘é€Ÿåº¦ 2017-6-30 17:46:53 addprebuilts/misc/linux-x86/ccache/ccache -M 50G è®¾ç½® cache ç¼“å­˜ä¸º 50 G å¦‚ä¸‹æ˜¯ç¼–è¯‘çš„å½•å±, ä¸´æ—¶å¼„ä¸ª æªç« å…ˆå å‘ï¼Œè§†é¢‘æŠ½ç©ºå½•åˆ¶ï¼ˆè§†é¢‘å¤ªå¤§æš‚ä¸å½•åˆ¶ï¼‰ã€‚ä»¥ä¸‹æ˜¯å“”å“©å“”å“©çš„ html5 æ’­æ”¾è§†é¢‘ï¼Œå‚è€ƒæ–‡ç« ï¼šhttp://login926.github.io/2016/12/24/Bilibilihtml5Player/ æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚","categories":[{"name":"Androidæºç ","slug":"Androidæºç ","permalink":"https://yangxiaoge.github.io/categories/Androidæºç /"}],"tags":[{"name":"æºç ","slug":"æºç ","permalink":"https://yangxiaoge.github.io/tags/æºç /"}]},{"title":"ã€ŠAndroidå¼€å‘è‰ºæœ¯æ¢ç´¢ã€‹è¯»ä¹¦ç¬”è®° (1)","slug":"Androidå¼€å‘è‰ºæœ¯notes1","date":"2017-03-03T05:14:14.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2017/03/03/Androidå¼€å‘è‰ºæœ¯notes1/","link":"","permalink":"https://yangxiaoge.github.io/2017/03/03/Androidå¼€å‘è‰ºæœ¯notes1/","excerpt":"é‡æ‹¾è¯¾æœ¬, æ¸©æ•…Androidå¼€å‘è‰ºæœ¯æ¢ç´¢! æœ¬æ–‡æ˜¯Androidå¼€å‘è‰ºæœ¯è¯»ä¹¦ç¬”è®°ç³»åˆ—ç¬¬ä¸€ç¯‡ã€‚å†…å®¹ç»“åˆä¹¦æœ¬/ç½‘ç»œï¼Œè‡ªå·±æ¦‚æ‹¬è€Œæ¥ã€‚ä¹¦ä¸­æºç åœ°å€ Github ç¬¬1ç«  Activityçš„ç”Ÿå‘½å‘¨æœŸå’Œå¯åŠ¨æ¨¡å¼1.1 Activityç”Ÿå‘½å‘¨æœŸå…¨é¢åˆ†æ1.1.1 å…¸å‹æƒ…å†µä¸‹ç”Ÿå‘½å‘¨æœŸåˆ†æ é€šå¸¸, Activityä»invisible(å³onStop)åˆ°visible(å³onStart)æ—¶, onRestartæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚ ç‚¹å‡»homeé”®æˆ–è€…æ‰“å¼€æ–°Activityæ—¶, onPause -&gt; onStop, å¦‚æœæŒ‰Homeé”®å›æ¥å›æ‰æ˜¯: onRestart -&gt; onStart -&gt; onResume ; å¦‚æœæ–°Activityä¸»é¢˜æ˜¯é€æ˜çš„æ—¶, åªæœ‰onPause, æ‰€ä»¥å½“ç”¨æˆ·è¿”å›åŸæ¥çš„Activityæ—¶, å›æ‰è¿‡ç¨‹æ˜¯: onRestart -&gt; onStart -&gt; onResume (çœ‹Activityç”Ÿå‘½å‘¨æœŸå›¾å°±çŸ¥é“äº†)ã€‚","text":"é‡æ‹¾è¯¾æœ¬, æ¸©æ•…Androidå¼€å‘è‰ºæœ¯æ¢ç´¢! æœ¬æ–‡æ˜¯Androidå¼€å‘è‰ºæœ¯è¯»ä¹¦ç¬”è®°ç³»åˆ—ç¬¬ä¸€ç¯‡ã€‚å†…å®¹ç»“åˆä¹¦æœ¬/ç½‘ç»œï¼Œè‡ªå·±æ¦‚æ‹¬è€Œæ¥ã€‚ä¹¦ä¸­æºç åœ°å€ Github ç¬¬1ç«  Activityçš„ç”Ÿå‘½å‘¨æœŸå’Œå¯åŠ¨æ¨¡å¼1.1 Activityç”Ÿå‘½å‘¨æœŸå…¨é¢åˆ†æ1.1.1 å…¸å‹æƒ…å†µä¸‹ç”Ÿå‘½å‘¨æœŸåˆ†æ é€šå¸¸, Activityä»invisible(å³onStop)åˆ°visible(å³onStart)æ—¶, onRestartæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚ ç‚¹å‡»homeé”®æˆ–è€…æ‰“å¼€æ–°Activityæ—¶, onPause -&gt; onStop, å¦‚æœæŒ‰Homeé”®å›æ¥å›æ‰æ˜¯: onRestart -&gt; onStart -&gt; onResume ; å¦‚æœæ–°Activityä¸»é¢˜æ˜¯é€æ˜çš„æ—¶, åªæœ‰onPause, æ‰€ä»¥å½“ç”¨æˆ·è¿”å›åŸæ¥çš„Activityæ—¶, å›æ‰è¿‡ç¨‹æ˜¯: onRestart -&gt; onStart -&gt; onResume (çœ‹Activityç”Ÿå‘½å‘¨æœŸå›¾å°±çŸ¥é“äº†)ã€‚ åˆ†æç”Ÿå‘½å‘¨æœŸå›¾, å¯çŸ¥onStartå’ŒonStopå¯¹åº”(å¯è§åˆ°ä¸å¯è§æ€§), onPauseå’ŒonResumeå¯¹åº”(æ˜¯å¦ä½äºå‰å°)ã€‚ 1.1.2 å¼‚å¸¸ç”Ÿå‘½å‘¨æœŸåˆ†æ å¦‚æœåº”ç”¨é•¿æ—¶é—´å¤„äºstoppedçŠ¶æ€å¹¶ä¸”æ­¤æ—¶ç³»ç»Ÿå†…å­˜æä¸ºç´§å¼ çš„æ—¶å€™ï¼Œç³»ç»Ÿå°±ä¼šå›æ”¶Activityï¼Œæ­¤æ—¶ç³»ç»Ÿåœ¨å›æ”¶ä¹‹å‰ä¼šå›è°ƒonSaveInstanceStateæ–¹æ³•æ¥ä¿å­˜åº”ç”¨çš„æ•°æ®Bundleã€‚å½“è¯¥Activityé‡æ–°åˆ›å»ºçš„æ—¶å€™ï¼Œä¿å­˜çš„Bundleæ•°æ®å°±ä¼šä¼ é€’åˆ°onRestoreSaveInstanceStateæ–¹æ³•å’ŒonCreateæ–¹æ³•ä¸­ï¼Œè¿™å°±æ˜¯onCreateæ–¹æ³•ä¸­Bundle savedInstanceStateå‚æ•°çš„æ¥æºï¼ˆonRestoreInstanceStateçš„bundleå‚æ•°ä¹Ÿä¼šä¼ é€’åˆ°onCreateæ–¹æ³•ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨onCreateæ–¹æ³•ä¸­åšæ•°æ®è¿˜åŸï¼‰ã€‚è¯¦æƒ…å¯ä»¥å‚è€ƒAndroidç¾¤è‹±ä¼ _ç¬¬å…«ç«  Activityå’ŒActivityè°ƒç”¨æ ˆåˆ†æ é…ç½®android:configChanges=â€xxxâ€å±æ€§, é˜²æ­¢Activityéšç€orientation,local,keyboardHiddenå‘ç”Ÿå˜åŒ–æ—¶é‡æ–°åˆ›å»ºã€‚ 1.2 Activityçš„å¯åŠ¨æ¨¡å¼åº”ç”¨å†…çš„Activityæ˜¯è¢«ä»»åŠ¡æ ˆTaskæ¥ç®¡ç†çš„ï¼Œä¸€ä¸ªTaskä¸­çš„Activityå¯ä»¥æ¥è‡ªä¸åŒçš„åº”ç”¨ï¼ŒåŒä¸€ä¸ªåº”ç”¨çš„Activityä¹Ÿå¯èƒ½ä¸åœ¨åŒä¸€ä¸ªTaskä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä»»åŠ¡æ ˆä¾æ®æ ˆçš„åè¿›å…ˆå‡ºåŸåˆ™ç®¡ç†Activityï¼Œä½†æ˜¯Activityå¯ä»¥è®¾ç½®ä¸€äº›â€œç‰¹æƒâ€æ‰“ç ´é»˜è®¤çš„è§„åˆ™ï¼Œä¸»è¦æ˜¯é€šè¿‡åœ¨AndroidManifestæ–‡ä»¶ä¸­çš„å±æ€§android:launchModeæˆ–è€…é€šè¿‡Intentçš„flagæ¥è®¾ç½®ã€‚ standardï¼šé»˜è®¤çš„å¯åŠ¨æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„Activityï¼ŒåŒæ—¶å°†è¯¥Activityå®ä¾‹å‹å…¥åˆ°æ ˆä¸­ï¼ˆä¸ç®¡è¯¥Activityæ˜¯å¦å·²ç»å­˜åœ¨åœ¨Taskæ ˆä¸­ï¼Œéƒ½æ˜¯é‡‡ç”¨newæ“ä½œï¼‰ã€‚ä¾‹å¦‚ï¼š æ ˆä¸­é¡ºåºæ˜¯A B C D ï¼Œæ­¤æ—¶Dé€šè¿‡Intentè·³è½¬åˆ°Aï¼Œé‚£ä¹ˆæ ˆä¸­ç»“æ„å°±å˜æˆ A B C D Aï¼Œç‚¹å‡»è¿”å›æŒ‰é’®çš„ æ˜¾ç¤ºé¡ºåºæ˜¯ D C B Aï¼Œä¾æ¬¡æ‘§æ¯ã€‚ singleTopï¼šåœ¨singleTopæ¨¡å¼ä¸‹ï¼Œå¦‚æœå½“å‰Activity Dä½äºæ ˆé¡¶ï¼Œæ­¤æ—¶é€šè¿‡Intentè·³è½¬åˆ°å®ƒæœ¬èº«çš„Activityï¼ˆå³Dï¼‰ï¼Œé‚£ä¹ˆä¸ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„Då®ä¾‹ï¼ˆèµ°onNewIntent()ï¼‰ï¼Œæ‰€ä»¥æ ˆä¸­çš„ç»“æ„ä¾æ—§ä¸ºA B C Dï¼Œå¦‚æœè·³è½¬åˆ°Bï¼Œé‚£ä¹ˆç”±äºBä¸å¤„äºæ ˆé¡¶ï¼Œæ‰€ä»¥ä¼šæ–°å»ºä¸€ä¸ªBå®ä¾‹å¹¶å‹å…¥åˆ°æ ˆä¸­ï¼Œç»“æ„å°±å˜æˆäº†A B C D Bã€‚åº”ç”¨å®ä¾‹ï¼šä¸‰æ¡æ¨é€ï¼Œç‚¹è¿›å»éƒ½æ˜¯ä¸€ä¸ªactivityã€‚ singleTaskï¼šåœ¨singleTaskæ¨¡å¼ä¸‹ï¼ŒTaskæ ˆä¸­åªèƒ½æœ‰ä¸€ä¸ªå¯¹åº”Activityçš„å®ä¾‹ã€‚ä¾‹å¦‚ï¼šç°åœ¨æ ˆçš„ç»“æ„ä¸ºA B C Dï¼Œæ­¤æ—¶Dé€šè¿‡Intentè·³è½¬åˆ°Bï¼ˆèµ°onNewIntent()ï¼‰ï¼Œåˆ™æ ˆçš„ç»“æ„å˜æˆäº†ï¼šA Bã€‚å…¶ä¸­çš„Cå’ŒDè¢«æ ˆå¼¹å‡ºé”€æ¯äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ä½äºBä¹‹ä¸Šçš„å®ä¾‹éƒ½è¢«é”€æ¯äº†ã€‚å¦‚æœç³»ç»Ÿå·²ç»å­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œç³»ç»Ÿå°±ä¼šå°†è¯·æ±‚å‘é€åˆ°è¿™ä¸ªå®ä¾‹ä¸Šï¼Œä½†è¿™ä¸ªæ—¶å€™ï¼Œç³»ç»Ÿå°±ä¸ä¼šå†è°ƒç”¨é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬å¤„ç†è¯·æ±‚æ•°æ®çš„onCreateæ–¹æ³•ï¼Œè€Œæ˜¯è°ƒç”¨onNewIntentæ–¹æ³•ã€‚é€šå¸¸åº”ç”¨äºé¦–é¡µï¼Œé¦–é¡µè‚¯å®šå¾—åœ¨æ ˆåº•éƒ¨ï¼Œä¹Ÿåªèƒ½åœ¨æ ˆåº•éƒ¨ã€‚ singleInstanceï¼šsingleInstanceæ¨¡å¼ä¸‹ä¼šå°†æ‰“å¼€çš„Activityå‹å…¥ä¸€ä¸ªæ–°å»ºçš„ä»»åŠ¡æ ˆä¸­ã€‚ä¾‹å¦‚ï¼šTaskæ ˆ1ä¸­ç»“æ„ä¸ºï¼šA B Cï¼ŒCé€šè¿‡Intentè·³è½¬åˆ°äº†Dï¼ˆDçš„å¯åŠ¨æ¨¡å¼ä¸ºsingleInstanceï¼‰ï¼Œé‚£ä¹ˆåˆ™ä¼šæ–°å»ºä¸€ä¸ªTask æ ˆ2ï¼Œæ ˆ1ä¸­ç»“æ„ä¾æ—§ä¸ºA B Cï¼Œæ ˆ2ä¸­ç»“æ„ä¸ºDï¼Œæ­¤æ—¶å±å¹•ä¸­æ˜¾ç¤ºDï¼Œä¹‹åDé€šè¿‡Intentè·³è½¬åˆ°Dï¼Œæ ˆ2ä¸­ä¸ä¼šå‹å…¥æ–°çš„Dï¼Œæ‰€ä»¥2ä¸ªæ ˆä¸­çš„æƒ…å†µæ²¡å‘ç”Ÿæ”¹å˜ã€‚å¦‚æœDè·³è½¬åˆ°äº†Cï¼Œé‚£ä¹ˆå°±ä¼šæ ¹æ®Cå¯¹åº”çš„å¯åŠ¨æ¨¡å¼åœ¨æ ˆ1ä¸­è¿›è¡Œå¯¹åº”çš„æ“ä½œï¼ŒCå¦‚æœä¸ºstandardï¼Œé‚£ä¹ˆDè·³è½¬åˆ°Cï¼Œæ ˆ1çš„ç»“æ„ä¸ºA B C Cï¼Œæ­¤æ—¶ç‚¹å‡»è¿”å›æŒ‰é’®ï¼Œè¿˜æ˜¯åœ¨Cï¼Œæ ˆ1çš„ç»“æ„å˜ä¸ºA B Cï¼Œè€Œä¸ä¼šå›åˆ°Dã€‚ 1.3 Intent Flagå¯åŠ¨æ¨¡å¼ Intent.FLAG_ACTIVITY_NEW_TASKï¼šä½¿ç”¨ä¸€ä¸ªæ–°çš„taskæ¥å¯åŠ¨Activityï¼Œä¸€èˆ¬ç”¨åœ¨serviceä¸­å¯åŠ¨Activityçš„åœºæ™¯ï¼Œå› ä¸ºserviceä¸­å¹¶ä¸å­˜åœ¨Activityæ ˆã€‚ Intent.FLAG_ACTIVITY_SINGLE_TOPï¼šç±»ä¼¼andoid:launchMode=&quot;singleTop&quot; Intent.FLAG_ACTIVITY_CLEAR_TOPï¼šç±»ä¼¼andoid:launchMode=&quot;singleTask&quot; Intent.FLAG_ACTIVITY_NO_HISTORYï¼šä½¿ç”¨è¿™ç§æ¨¡å¼å¯åŠ¨Activityï¼Œå½“è¯¥Activityå¯åŠ¨å…¶ä»–Activityåï¼Œè¯¥Activityå°±æ¶ˆå¤±äº†ï¼Œä¸ä¼šä¿ç•™åœ¨taskæ ˆä¸­ã€‚ä¾‹å¦‚A Bï¼Œåœ¨Bä¸­ä»¥è¿™ç§æ¨¡å¼å¯åŠ¨Cï¼ŒCå†å¯åŠ¨Dï¼Œåˆ™å½“å‰çš„taskæ ˆå˜æˆA B Dã€‚","categories":[{"name":"Androidå¼€å‘è‰ºæœ¯æ¢ç´¢","slug":"Androidå¼€å‘è‰ºæœ¯æ¢ç´¢","permalink":"https://yangxiaoge.github.io/categories/Androidå¼€å‘è‰ºæœ¯æ¢ç´¢/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"Androidå¼€å‘è‰ºæœ¯æ¢ç´¢","slug":"Androidå¼€å‘è‰ºæœ¯æ¢ç´¢","permalink":"https://yangxiaoge.github.io/tags/Androidå¼€å‘è‰ºæœ¯æ¢ç´¢/"}]},{"title":"æ·±å…¥æµ…å‡º OkHttp æºç ","slug":"OkHttpæºç åˆ†æ","date":"2017-03-02T07:29:20.000Z","updated":"2017-09-20T01:41:45.600Z","comments":true,"path":"2017/03/02/OkHttpæºç åˆ†æ/","link":"","permalink":"https://yangxiaoge.github.io/2017/03/02/OkHttpæºç åˆ†æ/","excerpt":"æœ¬æ–‡è½¬è½½ JayFang-OkHttpæºç åˆ†æ OkHttp3æ˜¯Squareå‡ºå“çš„é«˜è´¨é‡Httpç½‘ç»œè¯·æ±‚åº“ï¼Œç›®å‰åœ¨GitHubä¸Šçš„staræ•°è¶…è¿‡17000ã€‚å¾ˆå¤šAndroidé¡¹ç›®çš„ç½‘ç»œç»„ä»¶éƒ½æ˜¯åŸºäºOkHttpå°è£…çš„ï¼Œè¿˜æœ‰è‘—åçš„Retrofitä¹Ÿæ˜¯åŸºäºOkHttpå°è£…çš„ã€‚ OkHttpçš„åŸºæœ¬ä½¿ç”¨","text":"æœ¬æ–‡è½¬è½½ JayFang-OkHttpæºç åˆ†æ OkHttp3æ˜¯Squareå‡ºå“çš„é«˜è´¨é‡Httpç½‘ç»œè¯·æ±‚åº“ï¼Œç›®å‰åœ¨GitHubä¸Šçš„staræ•°è¶…è¿‡17000ã€‚å¾ˆå¤šAndroidé¡¹ç›®çš„ç½‘ç»œç»„ä»¶éƒ½æ˜¯åŸºäºOkHttpå°è£…çš„ï¼Œè¿˜æœ‰è‘—åçš„Retrofitä¹Ÿæ˜¯åŸºäºOkHttpå°è£…çš„ã€‚ OkHttpçš„åŸºæœ¬ä½¿ç”¨ 123456789101112131415161718OkHttpClient client = new OkHttpClient();Request request = new Request.Builder() .url(ENDPOINT) .build();//åŒæ­¥è¯·æ±‚ Response response = client.newCall(request).execute();//å¼‚æ­¥è¯·æ±‚client.newCall(request).enqueue(new Callback() &#123; @Override public void onFailure(Call call, IOException e) &#123; &#125; @Override public void onResponse(Call call, Response response) throws IOException &#123; &#125;&#125;); æœ€åŸºæœ¬çš„ç”¨æ³•å°±æ˜¯å…ˆåˆ›å»ºä¸€ä¸ªOkHttpClientï¼Œç„¶åbuildå‡ºä¸€ä¸ªRequsetå¯¹è±¡ï¼Œæœ€åå‘é€è¯·æ±‚ï¼Œå¯ä»¥æ˜¯åŒæ­¥è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼‚æ­¥è¯·æ±‚ã€‚ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œä½†èƒŒåæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œä¸‹é¢ä»æºç å±‚é¢æ¥åˆ†æä¸‹ã€‚ OkHttp è°ƒç”¨æµç¨‹OkHttpå†…éƒ¨è°ƒç”¨æµç¨‹å›¾ ç¬¬ä¸€æ­¥: new OkHttpClient(Builder)12345678910111213141516//OkHttpClient.javapublic OkHttpClient() &#123; this(new Builder());&#125;OkHttpClient(Builder builder) &#123; this.dispatcher = builder.dispatcher; this.proxy = builder.proxy; this.protocols = builder.protocols; this.connectionSpecs = builder.connectionSpecs; this.interceptors = Util.immutableList(builder.interceptors); this.networkInterceptors = Util.immutableList(builder.networkInterceptors); ...... this.readTimeout = builder.readTimeout; this.writeTimeout = builder.writeTimeout; this.pingInterval = builder.pingInterval;&#125; è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªé»˜è®¤çš„OkHttpCient.Builderï¼Œç”¨äºé…ç½®å„ç§å‚æ•°ã€‚ ç¬¬äºŒæ­¥:okhttpclient.newCall(request)123456789101112//OkHttpClient.java@Override public Call newCall(Request request) &#123;return new RealCall(this, request, false /* for web socket */);&#125;//RealCall.javaRealCall(OkHttpClient client, Request originalRequest, boolean forWebSocket) &#123; this.client = client; this.originalRequest = originalRequest; this.forWebSocket = forWebSocket; this.retryAndFollowUpInterceptor = new RetryAndFollowUpInterceptor(client, forWebSocket);&#125; è¿™é‡Œç”¨requestå¯¹è±¡åˆ›å»ºäº†ä¸€ä¸ªRealCallå¯¹è±¡ï¼ŒæŠŠä¸€äº›å‚æ•°ä¼ åˆ°RealCallã€‚ ç¬¬ä¸‰æ­¥:execute() or enqueue()123456789101112131415161718//RealCall.java@Override public Response execute() throws IOException &#123;synchronized (this) &#123; if (executed) throw new IllegalStateException(\"Already Executed\"); executed = true;&#125;captureCallStackTrace();try &#123; client.dispatcher().executed(this); //æ ¸å¿ƒçš„å‡½æ•° Response result = getResponseWithInterceptorChain(); if (result == null) throw new IOException(\"Canceled\"); return result;&#125; finally &#123; client.dispatcher().finished(this);&#125;&#125; åŒæ­¥è¯·æ±‚ï¼Œå¾ˆç›´æ¥å°±è°ƒç”¨åˆ°äº†æœ€æ ¸å¿ƒçš„å‡½æ•°getResponseWithInterceptorChain()ã€‚å†çœ‹ä¸‹å¼‚æ­¥è¯·æ±‚ã€‚12345678910//RealCall.java @Override public void enqueue(Callback responseCallback) &#123; synchronized (this) &#123; if (executed) throw new IllegalStateException(\"Already Executed\"); executed = true; &#125; captureCallStackTrace(); client.dispatcher().enqueue(new AsyncCall(responseCallback)); &#125; è€Œå¼‚æ­¥è¯·æ±‚ï¼Œå°†ç”¨æˆ·æ¥å£çš„responseCallbackå¯¹è±¡å°è£…æˆä¸€ä¸ªAsyncCallå¯¹è±¡æäº¤ç»™Dispatheræ¥å¤„ç†ï¼Œè¿™é‡Œçš„AsyncCallæ˜¯RealCallçš„ä¸€ä¸ªå†…éƒ¨ç±»ã€‚å†çœ‹ä¸‹è¿™ä¸ªDispatheræ€ä¹ˆå¤„ç†è¿™ä¸ªAsyncCallçš„ã€‚123456789//Dispatcher.javasynchronized void enqueue(AsyncCall call) &#123;if (runningAsyncCalls.size() &lt; maxRequests &amp;&amp; runningCallsForHost(call) &lt; maxRequestsPerHost) &#123; runningAsyncCalls.add(call); executorService().execute(call);&#125; else &#123; readyAsyncCalls.add(call);&#125;&#125; Dispatherç®¡ç†äº†ä¸€äº›è¯·æ±‚é˜Ÿåˆ—ï¼Œå¦‚æœæ­£åœ¨æ‰§è¡Œçš„å¼‚æ­¥è¯·æ±‚æ²¡æœ‰è¾¾åˆ°ä¸Šé™ï¼Œå°±ç›´æ¥å°†è¿™ä¸ªè¯·æ±‚æäº¤ç»™çº¿ç¨‹æ± ï¼Œå¦åˆ™åŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚è€Œä¸”è¿™é‡Œç›´æ¥æŠŠAsyncCallçš„å¯¹è±¡ç»™äº†çº¿ç¨‹æ± ï¼Œå…¶å®è¿™ä¸ªAsyncCallå°±æ˜¯ä¸€ä¸ªRunnableçš„å®ç°ç±»ã€‚123456789101112131415161718192021222324252627282930313233//RealCall.javafinal class AsyncCall extends NamedRunnable &#123; private final Callback responseCallback; AsyncCall(Callback responseCallback) &#123; super(\"OkHttp %s\", redactedUrl()); this.responseCallback = responseCallback; &#125; ...... @Override protected void execute() &#123; boolean signalledCallback = false; try &#123; Response response = getResponseWithInterceptorChain(); if (retryAndFollowUpInterceptor.isCanceled()) &#123; signalledCallback = true; responseCallback.onFailure(RealCall.this, new IOException(\"Canceled\")); &#125; else &#123; signalledCallback = true; responseCallback.onResponse(RealCall.this, response); &#125; &#125; catch (IOException e) &#123; if (signalledCallback) &#123; // Do not signal the callback twice! Platform.get().log(INFO, \"Callback failure for \" + toLoggableString(), e); &#125; else &#123; responseCallback.onFailure(RealCall.this, e); &#125; &#125; finally &#123; client.dispatcher().finished(this); &#125; &#125; &#125; AsyncCallçˆ¶ç±»çš„run()æ–¹æ³•ä¼šè°ƒç”¨æŠ½è±¡æ–¹æ³•execute()ï¼Œä¹Ÿå°±æ˜¯å°†åœ¨Dispatheré‡Œçš„çº¿ç¨‹æ± æ‰§è¡ŒAsyncCallå¯¹è±¡çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œåˆ°execute()ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•é‡ŒåŒæ ·è°ƒç”¨äº†æ ¸å¿ƒçš„ç½‘ç»œè¯·æ±‚æ–¹æ³•getResponseWithInterceptorChain()ã€‚è€Œä¸”åœ¨execute()é‡Œä¼šå›è°ƒç”¨æˆ·æ¥å£responseCallbackçš„å›è°ƒæ–¹æ³•ã€‚æ³¨æ„:è¿™é‡Œçš„å›è°ƒæ˜¯åœ¨éä¸»çº¿ç¨‹ç›´æ¥å›è°ƒçš„ï¼Œä¹Ÿå°±æ˜¯åœ¨Androidé‡Œä½¿ç”¨çš„è¯è¦æ³¨æ„è¿™é‡Œé¢ä¸èƒ½ç›´æ¥æ›´æ–°UIæ“ä½œã€‚è‡³æ­¤ï¼ŒåŒæ­¥è¯·æ±‚å’Œå¼‚æ­¥è¯·æ±‚æœ€ç»ˆéƒ½æ˜¯è°ƒç”¨çš„getResponseWithInterceptorChain();æ¥å‘é€ç½‘ç»œè¯·æ±‚ï¼Œåªæ˜¯å¼‚æ­¥è¯·æ±‚æ¶‰åŠåˆ°ä¸€äº›çº¿ç¨‹æ± æ“ä½œï¼ŒåŒ…æ‹¬è¯·æ±‚çš„é˜Ÿåˆ—ç®¡ç†ã€è°ƒåº¦ã€‚ ç¬¬å››æ­¥:getResponseWithInterceptorChain()123456789101112131415161718//RealCall.javaResponse getResponseWithInterceptorChain() throws IOException &#123;// Build a full stack of interceptors.List&lt;Interceptor&gt; interceptors = new ArrayList&lt;&gt;();interceptors.addAll(client.interceptors());interceptors.add(retryAndFollowUpInterceptor);interceptors.add(new BridgeInterceptor(client.cookieJar()));interceptors.add(new CacheInterceptor(client.internalCache()));interceptors.add(new ConnectInterceptor(client));if (!forWebSocket) &#123; interceptors.addAll(client.networkInterceptors());&#125;interceptors.add(new CallServerInterceptor(forWebSocket));Interceptor.Chain chain = new RealInterceptorChain( interceptors, null, null, null, 0, originalRequest);return chain.proceed(originalRequest);&#125; åœ¨è¿™ä¸ªæ–¹æ³•é‡Œå°±æ˜¯æ·»åŠ äº†ä¸€äº›æ‹¦æˆªå™¨ï¼Œç„¶åå¯åŠ¨ä¸€ä¸ªæ‹¦æˆªå™¨è°ƒç”¨é“¾ï¼Œæ‹¦æˆªå™¨é€’å½’è°ƒç”¨ä¹‹åæœ€åè¿”å›è¯·æ±‚çš„å“åº”Responseã€‚è¿™é‡Œçš„æ‹¦æˆªå™¨åˆ†å±‚çš„æ€æƒ³å°±æ˜¯å€Ÿé‰´çš„ç½‘ç»œé‡Œçš„åˆ†å±‚æ¨¡å‹çš„æ€æƒ³ã€‚è¯·æ±‚ä»æœ€ä¸Šé¢ä¸€å±‚åˆ°æœ€ä¸‹ä¸€å±‚ï¼Œå“åº”ä»æœ€ä¸‹ä¸€å±‚åˆ°æœ€ä¸Šä¸€å±‚ï¼Œæ¯ä¸€å±‚åªè´Ÿè´£è‡ªå·±çš„ä»»åŠ¡ï¼Œå¯¹è¯·æ±‚æˆ–å“åº”åšè‡ªå·±è´Ÿè´£çš„é‚£å—çš„ä¿®æ”¹ã€‚ Q1: è¿™é‡Œä¸ºä»€ä¹ˆæ¯æ¬¡éƒ½é‡æ–°åˆ›å»ºRealInterceptorChainå¯¹è±¡ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥å¤ç”¨ä¸Šä¸€å±‚çš„RealInterceptorChainå¯¹è±¡ï¼Ÿ(æ–‡æœ«ç»™å‡ºç­”æ¡ˆ) OkHttpæ‹¦æˆªå™¨åˆ†å±‚ç»“æ„12345678910111213//RealInterceptorChain.javapublic Response proceed(Request request, StreamAllocation streamAllocation, HttpCodec httpCodec, Connection connection) throws IOException &#123;if (index &gt;= interceptors.size()) throw new AssertionError();calls++;......RealInterceptorChain next = new RealInterceptorChain( interceptors, streamAllocation, httpCodec, connection, index + 1, request);Interceptor interceptor = interceptors.get(index);Response response = interceptor.intercept(next);...return response;&#125; RealInterceptorChainçš„proceed()ï¼Œæ¯æ¬¡é‡æ–°åˆ›å»ºä¸€ä¸ªRealInterceptorChainå¯¹è±¡ï¼Œç„¶åè°ƒç”¨ä¸‹ä¸€å±‚çš„æ‹¦æˆªå™¨çš„interceptor.intercept()æ–¹æ³•ã€‚æ¯ä¸€ä¸ªæ‹¦æˆªå™¨çš„intercept()æ–¹æ³•éƒ½æ˜¯è¿™æ ·çš„æ¨¡å‹123456789101112@Override public Response intercept(Chain chain) throws IOException &#123; Request request = chain.request(); // 1ã€è¯¥æ‹¦æˆªå™¨åœ¨Requesté˜¶æ®µè´Ÿè´£çš„äº‹æƒ… // 2ã€è°ƒç”¨RealInterceptorChain.proceed()ï¼Œå…¶å®æ˜¯é€’å½’è°ƒç”¨ä¸‹ä¸€å±‚æ‹¦æˆªå™¨çš„interceptæ–¹æ³• response = ((RealInterceptorChain) chain).proceed(request, streamAllocation, null, null); //3ã€è¯¥æ‹¦æˆªå™¨åœ¨Responseé˜¶æ®µè´Ÿè´£çš„äº‹æƒ…ï¼Œç„¶åè¿”å›åˆ°ä¸Šä¸€å±‚æ‹¦æˆªå™¨çš„ responseé˜¶æ®µ return response; &#125; &#125; è¿™å·®ä¸å¤šå°±æ˜¯OkHttpçš„åˆ†å±‚æ‹¦æˆªå™¨æ¨¡å‹ï¼Œå€Ÿé‰´äº†ç½‘ç»œé‡Œçš„OSIä¸ƒå±‚æ¨¡å‹çš„æ€æƒ³ã€‚æœ€åº•å±‚æ˜¯CallServerInterceptorï¼Œç±»æ¯”ç½‘ç»œé‡Œçš„ç‰©ç†å±‚ã€‚OkHttpè¿˜æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œæ’å…¥åˆ°æœ€é¡¶å±‚å’ŒCallServerInterceptorä¸Šä¸€å±‚çš„ä½ç½®ã€‚æ¯”å¦‚å®˜æ–¹å†™äº†ä¸€ä¸ªLogging Interceptorï¼Œç”¨äºæ‰“å°ç½‘ç»œè¯·æ±‚æ—¥å¿—çš„æ‹¦æˆªå™¨ã€‚ BridgeInterceptor12345678910111213141516171819202122232425262728293031323334Request userRequest = chain.request();Request.Builder requestBuilder = userRequest.newBuilder();// Requesté˜¶æ®µRequestBody body = userRequest.body();if (body != null) &#123; MediaType contentType = body.contentType(); ...... long contentLength = body.contentLength(); if (contentLength != -1) &#123; requestBuilder.header(\"Content-Length\", Long.toString(contentLength)); requestBuilder.removeHeader(\"Transfer-Encoding\"); &#125; else &#123; requestBuilder.header(\"Transfer-Encoding\", \"chunked\"); requestBuilder.removeHeader(\"Content-Length\"); &#125; if (userRequest.header(\"Connection\") == null) &#123; requestBuilder.header(\"Connection\", \"Keep-Alive\"); &#125;&#125; .....Response networkResponse = chain.proceed(requestBuilder.build());// Responseé˜¶æ®µ .....if (transparentGzip &amp;&amp; \"gzip\".equalsIgnoreCase(networkResponse.header(\"Content-Encoding\")) &amp;&amp; HttpHeaders.hasBody(networkResponse)) &#123; GzipSource responseBody = new GzipSource(networkResponse.body().source()); Headers strippedHeaders = networkResponse.headers().newBuilder() .removeAll(\"Content-Encoding\") .removeAll(\"Content-Length\") .build(); responseBuilder.headers(strippedHeaders); responseBuilder.body(new RealResponseBody(strippedHeaders, Okio.buffer(responseBody)));&#125; BridgeInterceptoræ‹¦æˆªå™¨åœ¨Requesté˜¶æ®µï¼Œå°†ç”¨æˆ·çš„é…ç½®ä¿¡æ¯ï¼Œé‡æ–°åˆ›å»ºRequest.Builderå¯¹è±¡ï¼Œé‡æ–°buildå‡ºRequestå¯¹è±¡ï¼Œå¹¶æ·»åŠ ä¸€äº›è¯·æ±‚å¤´ï¼Œæ¯”å¦‚:hostï¼Œcontent-lengthï¼Œkeep-aliveç­‰ã€‚BridgeInterceptoråœ¨Responseé˜¶æ®µåšgzipè§£å‹æ“ä½œã€‚ CacheInterceptorCacheInterceptoræ‹¦æˆªå™¨åœ¨Requesté˜¶æ®µåˆ¤æ–­è¯¥è¯·æ±‚æ˜¯å¦æœ‰ç¼“å­˜ï¼Œæ˜¯å¦éœ€è¦é‡æ–°è¯·æ±‚ï¼Œå¦‚æœä¸éœ€è¦é‡æ–°è¯·æ±‚ï¼Œç›´æ¥ä»ç¼“å­˜é‡Œå–å‡ºå†…å®¹ï¼Œå°è£…ä¸€ä¸ªResponseè¿”å›ï¼Œä¸éœ€è¦å†è°ƒç”¨ä¸‹ä¸€å±‚ã€‚CacheInterceptoræ‹¦æˆªå™¨åœ¨Responseé˜¶æ®µï¼Œå°±æ˜¯æŠŠä¸‹é¢ä¸€å±‚çš„Responseåšç¼“å­˜ã€‚ ConnectInterceptor123456789//ConnectInterceptor.javaRealInterceptorChain realChain = (RealInterceptorChain) chain;Request request = realChain.request();StreamAllocation streamAllocation = realChain.streamAllocation();// We need the network to satisfy this request. Possibly for validating a conditional GET.boolean doExtensiveHealthChecks = !request.method().equals(\"GET\");HttpCodec httpCodec = streamAllocation.newStream(client, doExtensiveHealthChecks);RealConnection connection = streamAllocation.connection();return realChain.proceed(request, streamAllocation, httpCodec, connection); ConnectInterceptoræ‹¦æˆªå™¨åªåœ¨Requesté˜¶æ®µå»ºç«‹è¿æ¥ï¼ŒResponseé˜¶æ®µç›´æ¥æŠŠä¸‹ä¸€å±‚çš„Responseè¿”å›ç»™ä¸Šä¸€å±‚ã€‚å†çœ‹ä¸‹å»ºç«‹è¿æ¥çš„è¿‡ç¨‹ã€‚1234567891011public HttpCodec newStream(OkHttpClient client, boolean doExtensiveHealthChecks) &#123;....try &#123; RealConnection resultConnection = findHealthyConnection(connectTimeout, readTimeout, writeTimeout, connectionRetryEnabled, doExtensiveHealthChecks); HttpCodec resultCodec = resultConnection.newCodec(client, this);......&#125; catch (IOException e) &#123; throw new RouteException(e);&#125;&#125; findHealthyConnection()å‡½æ•°å¯»æ‰¾ä¸€æ¡å¥åº·çš„ç½‘ç»œè¿æ¥ï¼Œå…¶å†…éƒ¨ä¸»è¦è°ƒç”¨äº†findConnection()ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243private RealConnection findConnection(int connectTimeout, int readTimeout, int writeTimeout, boolean connectionRetryEnabled) throws IOException &#123;Route selectedRoute;synchronized (connectionPool) &#123; ..... // Attempt to get a connection from the pool. Internal.instance.get(connectionPool, address, this); if (connection != null) &#123; return connection; &#125; selectedRoute = route;&#125;// If we need a route, make one. This is a blocking operation.if (selectedRoute == null) &#123; selectedRoute = routeSelector.next();&#125;// Create a connection and assign it to this allocation immediately. This makes it possible for// an asynchronous cancel() to interrupt the handshake we're about to do.RealConnection result;synchronized (connectionPool) &#123; route = selectedRoute; refusedStreamCount = 0; result = new RealConnection(connectionPool, selectedRoute); acquire(result); if (canceled) throw new IOException(\"Canceled\");&#125;// Do TCP + TLS handshakes. This is a blocking operation.result.connect(connectTimeout, readTimeout, writeTimeout, connectionRetryEnabled);routeDatabase().connected(result.route());Socket socket = null;synchronized (connectionPool) &#123; // Pool the connection. Internal.instance.put(connectionPool, result); .....&#125;closeQuietly(socket);return result;&#125; è¿™é‡Œé¢å¤§æ¦‚å°±æ˜¯ä»è¿æ¥æ± é‡Œå»æ‰¾å·²æœ‰çš„ç½‘ç»œè¿æ¥ï¼Œå¦‚æœæœ‰ï¼Œåˆ™å¤ç”¨ï¼Œå‡å°‘ä¸‰æ¬¡æ¡æ‰‹ï¼›æ²¡æœ‰çš„è¯ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªRealConnectionå¯¹è±¡ï¼Œä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥ï¼Œç„¶åå°†è¿æ¥æ”¾åˆ°è¿æ¥æ± ã€‚å…·ä½“çš„å†…éƒ¨connectè¿‡ç¨‹ï¼Œå°±ä¸æ·±å…¥äº†ã€‚12345public ConnectionPool() &#123;this(5, 5, TimeUnit.MINUTES);&#125;public ConnectionPool(int maxIdleConnections, long keepAliveDuration, TimeUnit timeUnit) &#123;&#125; ConnectionPoolæœ€å¤šæ”¯æŒä¿æŒ5ä¸ªåœ°å€çš„è¿æ¥keep-aliveï¼Œæ¯ä¸ªkeep-alive 5åˆ†é’Ÿï¼Œå¹¶æœ‰å¼‚æ­¥çº¿ç¨‹å¾ªç¯æ¸…ç†æ— æ•ˆçš„è¿æ¥ã€‚ CallServerInterceptor1234567891011121314151617181920212223242526272829@Override public Response intercept(Chain chain) throws IOException &#123;...httpCodec.writeRequestHeaders(request);Response.Builder responseBuilder = null;if (HttpMethod.permitsRequestBody(request.method()) &amp;&amp; request.body() != null) &#123; ...... if (responseBuilder == null) &#123; Sink requestBodyOut = httpCodec.createRequestBody(request, request.body().contentLength()); BufferedSink bufferedRequestBody = Okio.buffer(requestBodyOut); request.body().writeTo(bufferedRequestBody); bufferedRequestBody.close(); &#125;&#125;httpCodec.finishRequest();if (responseBuilder == null) &#123; responseBuilder = httpCodec.readResponseHeaders(false);&#125;Response response = responseBuilder .request(request) .handshake(streamAllocation.connection().handshake()) .sentRequestAtMillis(sentRequestMillis) .receivedResponseAtMillis(System.currentTimeMillis()) .build();int code = response.code();.....return response;&#125; CallServerInterceptor ç²¾ç®€å‡ºæ¥çš„ä»£ç å°±æ˜¯writeRequestHeaders()ï¼ŒflushRequest()ï¼ŒfinishRequest()ï¼Œå‘é€è¯·æ±‚ï¼Œç„¶åreadResponseHeadersï¼ŒopenResponseBodyè¯»å–responseã€‚CallServerInterceptoråº•å±‚çš„IOæµè¯»å†™ä¾èµ–äºSquareè‡ªå®¶çš„Okioé¡¹ç›®ï¼ŒHttpCodecæ˜¯å°è£…çš„IOç¼–ç å’Œè§£ç çš„å®ç°ã€‚ è‡³æ­¤ï¼ŒOkHttpä¸­å‡ ä¸ªæ ¸å¿ƒçš„æ‹¦æˆªå™¨å°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼ŒOkHttpæœ€ç²¾é«“çš„éƒ¨åˆ†ä¹Ÿå°±ä½“ç°åœ¨è¿™ä¸ªæ‹¦æˆªå™¨ä¸Šã€‚æœ€åè¡¥å……å‡ ä¸ªå…³äºOkHttpçš„é¢è¯•é—®é¢˜ã€‚ OkHttpæ˜¯å¦‚ä½•åšé“¾è·¯å¤ç”¨ï¼Ÿ OkHttpçš„Intereptorèƒ½ä¸èƒ½å–æ¶ˆä¸€ä¸ªrequestï¼Ÿè¿™ä¸¤ä¸ªé—®é¢˜åœ¨åˆ†ææºç ä¹‹ååº”è¯¥å¾ˆå®¹æ˜“å›ç­”äº†ã€‚ å›ç­”ä¸Šé¢ç•™çš„ä¸€ä¸ªé—®é¢˜:æ¯æ¬¡é‡æ–°åˆ›å»ºä¸€ä¸ªRealInterceptorChainå¯¹è±¡ï¼Œå› ä¸ºè¿™é‡Œæ˜¯é€’å½’è°ƒç”¨ï¼Œåœ¨è°ƒç”¨ä¸‹ä¸€å±‚æ‹¦æˆªå™¨çš„interupter()æ–¹æ³•çš„æ—¶å€™ï¼Œæœ¬å±‚çš„ responseé˜¶æ®µè¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œå¦‚æœå¤ç”¨RealInterceptorChainå¯¹è±¡ï¼Œå¿…ç„¶å¯¼è‡´ä¸‹ä¸€å±‚ä¿®æ”¹RealInterceptorChainï¼Œæ‰€ä»¥éœ€è¦é‡æ–°åˆ›å»ºRealInterceptorChainå¯¹è±¡ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"OkHttp","slug":"OkHttp","permalink":"https://yangxiaoge.github.io/tags/OkHttp/"}]},{"title":"Javaä¸AndroidçŸ¥è¯†ç‚¹","slug":"Javaä¸AndroidçŸ¥è¯†ç‚¹","date":"2017-02-28T01:13:42.000Z","updated":"2017-09-20T01:41:45.600Z","comments":true,"path":"2017/02/28/Javaä¸AndroidçŸ¥è¯†ç‚¹/","link":"","permalink":"https://yangxiaoge.github.io/2017/02/28/Javaä¸AndroidçŸ¥è¯†ç‚¹/","excerpt":"æŒç»­æ›´è¡Œä¸­ 1. è§£é‡Šå†…å­˜ä¸­çš„æ ˆï¼ˆstackï¼‰ã€å †(heap)å’Œé™æ€å­˜å‚¨åŒºçš„ç”¨æ³•ã€‚ç­”ï¼šé€šå¸¸æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œè¿˜æœ‰å°±æ˜¯å‡½æ•°è°ƒç”¨çš„ç°åœºä¿å­˜éƒ½ä½¿ç”¨å†…å­˜ä¸­çš„æ ˆç©ºé—´ï¼›è€Œé€šè¿‡newå…³é”®å­—å’Œæ„é€ å™¨åˆ›å»ºçš„å¯¹è±¡æ”¾åœ¨å †ç©ºé—´ï¼›ç¨‹åºä¸­çš„å­—é¢é‡ï¼ˆliteralï¼‰å¦‚ç›´æ¥ä¹¦å†™çš„100ã€â€œhelloâ€å’Œå¸¸é‡éƒ½æ˜¯æ”¾åœ¨é™æ€å­˜å‚¨åŒºä¸­ã€‚æ ˆç©ºé—´æ“ä½œæœ€å¿«ä½†æ˜¯ä¹Ÿå¾ˆå°ï¼Œé€šå¸¸å¤§é‡çš„å¯¹è±¡éƒ½æ˜¯æ”¾åœ¨å †ç©ºé—´ï¼Œæ•´ä¸ªå†…å­˜åŒ…æ‹¬ç¡¬ç›˜ä¸Šçš„è™šæ‹Ÿå†…å­˜éƒ½å¯ä»¥è¢«å½“æˆå †ç©ºé—´æ¥ä½¿ç”¨ã€‚String str = new String(â€œhelloâ€);ä¸Šé¢çš„è¯­å¥ä¸­ str æ”¾åœ¨æ ˆä¸Šï¼Œç”¨ new åˆ›å»ºå‡ºæ¥çš„å­—ç¬¦ä¸²å¯¹è±¡æ”¾åœ¨å †ä¸Šï¼Œè€Œâ€œhelloâ€è¿™ä¸ªå­—é¢é‡æ”¾åœ¨é™æ€å­˜å‚¨åŒºã€‚ 2. é‡å†™equalsæ–¹æ³•æ—¶,ä¸ºä»€ä¹ˆä¹Ÿéœ€è¦é‡å†™hashCodeæ–¹æ³•ã€‚","text":"æŒç»­æ›´è¡Œä¸­ 1. è§£é‡Šå†…å­˜ä¸­çš„æ ˆï¼ˆstackï¼‰ã€å †(heap)å’Œé™æ€å­˜å‚¨åŒºçš„ç”¨æ³•ã€‚ç­”ï¼šé€šå¸¸æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œè¿˜æœ‰å°±æ˜¯å‡½æ•°è°ƒç”¨çš„ç°åœºä¿å­˜éƒ½ä½¿ç”¨å†…å­˜ä¸­çš„æ ˆç©ºé—´ï¼›è€Œé€šè¿‡newå…³é”®å­—å’Œæ„é€ å™¨åˆ›å»ºçš„å¯¹è±¡æ”¾åœ¨å †ç©ºé—´ï¼›ç¨‹åºä¸­çš„å­—é¢é‡ï¼ˆliteralï¼‰å¦‚ç›´æ¥ä¹¦å†™çš„100ã€â€œhelloâ€å’Œå¸¸é‡éƒ½æ˜¯æ”¾åœ¨é™æ€å­˜å‚¨åŒºä¸­ã€‚æ ˆç©ºé—´æ“ä½œæœ€å¿«ä½†æ˜¯ä¹Ÿå¾ˆå°ï¼Œé€šå¸¸å¤§é‡çš„å¯¹è±¡éƒ½æ˜¯æ”¾åœ¨å †ç©ºé—´ï¼Œæ•´ä¸ªå†…å­˜åŒ…æ‹¬ç¡¬ç›˜ä¸Šçš„è™šæ‹Ÿå†…å­˜éƒ½å¯ä»¥è¢«å½“æˆå †ç©ºé—´æ¥ä½¿ç”¨ã€‚String str = new String(â€œhelloâ€);ä¸Šé¢çš„è¯­å¥ä¸­ str æ”¾åœ¨æ ˆä¸Šï¼Œç”¨ new åˆ›å»ºå‡ºæ¥çš„å­—ç¬¦ä¸²å¯¹è±¡æ”¾åœ¨å †ä¸Šï¼Œè€Œâ€œhelloâ€è¿™ä¸ªå­—é¢é‡æ”¾åœ¨é™æ€å­˜å‚¨åŒºã€‚ 2. é‡å†™equalsæ–¹æ³•æ—¶,ä¸ºä»€ä¹ˆä¹Ÿéœ€è¦é‡å†™hashCodeæ–¹æ³•ã€‚ 1ã€é‡å†™equalsæ–¹æ³•æ—¶éœ€è¦é‡å†™hashCodeæ–¹æ³•ï¼Œä¸»è¦æ˜¯é’ˆå¯¹Mapã€Setç­‰é›†åˆç±»å‹çš„ä½¿ç”¨ï¼› a: Mapã€Setç­‰é›†åˆç±»å‹å­˜æ”¾çš„å¯¹è±¡å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼› b: é›†åˆç±»åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œæ˜¯å…ˆåˆ¤æ–­equalsæ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœequalsè¿”å›TRUEï¼Œè¿˜è¦å†åˆ¤æ–­HashCodeè¿”å›å€¼æ˜¯å¦ture,åªæœ‰ä¸¤è€…éƒ½è¿”å›ture,æ‰è®¤ä¸ºè¯¥ä¸¤ä¸ªå¯¹è±¡æ˜¯ç›¸ç­‰çš„ã€‚ 2ã€ç”±äºObjectçš„hashCodeè¿”å›çš„æ˜¯å¯¹è±¡çš„hashå€¼ï¼Œæ‰€ä»¥å³ä½¿equalsè¿”å›TRUEï¼Œé›†åˆä¹Ÿå¯èƒ½åˆ¤å®šä¸¤ä¸ªå¯¹è±¡ä¸ç­‰ï¼Œæ‰€ä»¥å¿…é¡»é‡å†™hashCodeæ–¹æ³•ï¼Œä»¥ä¿è¯å½“equalsè¿”å›TRUEæ—¶ï¼ŒhashCodeä¹Ÿè¿”å›Tureï¼Œè¿™æ ·æ‰èƒ½ä½¿å¾—é›†åˆä¸­å­˜æ”¾çš„å¯¹è±¡å”¯ä¸€ã€‚ 3. Android ä¸­çš„Dalvikå’ŒARTæ˜¯ä»€ä¹ˆï¼Œæœ‰å•¥åŒºåˆ«ï¼Ÿç­”: åœ¨Dalvikä¸‹ï¼Œåº”ç”¨æ¯æ¬¡è¿è¡Œçš„æ—¶å€™ï¼Œå­—èŠ‚ç éƒ½éœ€è¦é€šè¿‡å³æ—¶ç¼–è¯‘å™¨ï¼ˆjust in time ï¼ŒJITï¼‰è½¬æ¢ä¸ºæœºå™¨ç ï¼Œè¿™ä¼šæ‹–æ…¢åº”ç”¨çš„è¿è¡Œæ•ˆç‡ã€‚åœ¨ART ç¯å¢ƒä¸­ï¼Œåº”ç”¨åœ¨ç¬¬ä¸€æ¬¡å®‰è£…çš„æ—¶å€™ï¼Œå­—èŠ‚ç å°±ä¼šé¢„å…ˆç¼–è¯‘æˆæœºå™¨ç ï¼Œä½¿å…¶æˆä¸ºçœŸæ­£çš„æœ¬åœ°åº”ç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹å«åšé¢„ç¼–è¯‘ï¼ˆAOT,Ahead-Of-Timeï¼‰ã€‚è¿™æ ·çš„è¯ï¼Œåº”ç”¨çš„å¯åŠ¨(é¦–æ¬¡)å’Œæ‰§è¡Œéƒ½ä¼šå˜å¾—æ›´åŠ å¿«é€Ÿã€‚ 4. Glide, PicassoåŸç†?5. äº‹ä»¶ä¼ é€’æœºåˆ¶?(å‚è€ƒéƒ­éœ–äº‹ä»¶åˆ†å‘åšå®¢)6. OkhttpåŸç†è§£æ,ä¼˜ç‚¹ç­”: æ€»ç»“: OkHttpClient å®ç° Call.Factoryï¼Œè´Ÿè´£ä¸º Request åˆ›å»º Callï¼›RealCall ä¸ºå…·ä½“çš„ Call å®ç°ï¼Œå…¶ enqueue() å¼‚æ­¥æ¥å£é€šè¿‡ Dispatcher åˆ©ç”¨ ExecutorService å®ç°ï¼Œè€Œæœ€ç»ˆè¿›è¡Œç½‘ç»œè¯·æ±‚æ—¶å’ŒåŒæ­¥ execute() æ¥å£ä¸€è‡´ï¼Œéƒ½æ˜¯é€šè¿‡ getResponseWithInterceptorChain() å‡½æ•°å®ç°ï¼›getResponseWithInterceptorChain() ä¸­åˆ©ç”¨ Interceptor é“¾æ¡ï¼Œåˆ†å±‚å®ç°ç¼“å­˜ã€é€æ˜å‹ç¼©ã€ç½‘ç»œ IO ç­‰åŠŸèƒ½ï¼› 7. å†…å­˜æ³„æ¼å…¨è§£æ8. çƒ­ä¿®å¤æœ‰æ‰€äº†è§£?9. è·¯ç”±äº†è§£å—?routerSDK10. foreachåŸç†ç­”: foreachè¯­æ³•æœ€ç»ˆè¢«ç¼–è¯‘å™¨è½¬ä¸ºäº†å¯¹Iterator.next()çš„è°ƒç”¨ã€‚è€Œä½œä¸ºä½¿ç”¨è€…çš„æˆ‘ä»¬ï¼Œjdkå¹¶æ²¡ç”¨å‘æˆ‘ä»¬æš´éœ²è¿™äº›ç»†èŠ‚ï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦çŸ¥é“Iteratorçš„å­˜åœ¨ï¼Œè®¤è¯†åˆ°jdkçš„å¼ºå¤§ä¹‹å¤„äº†å§ã€‚ 11. EventBus æºç è§£æç­”: æ€»ç»“: åº•å±‚ä¹Ÿæ˜¯å›æ‰å®ç°ã€‚ä¼˜ç‚¹ï¼šEventBusæ˜¯å¾ˆå¥½åœ°æ›¿ä»£äº†å›è°ƒçš„åŠŸèƒ½ï¼Œæ¾è€¦åˆï¼Œä½¿ç”¨ç®€å•ã€‚ç¼ºç‚¹ï¼šåªè¦ç”¨å¾—ä¸€å¤šï¼Œé‚£æ¶ˆæ¯ç±»çš„æ•°é‡å¿…ç„¶æ˜¯ä¼šçˆ†ç‚¸æ€§å¢é•¿ï¼Œè°ƒè¯•çš„æ—¶å€™é™¤éç†Ÿæ‚‰æ•´å—é€»è¾‘ï¼Œä¸ç„¶ä¸è·‘èµ·æ¥ä½ æ˜¯æ²¡åŠæ³•äº†è§£Subscribeçš„æ–¹æ³•çš„æ•°æ®æ¥æºã€‚ 12. Androidè¿›ç¨‹ä¿æ´»çš„å¥—è·¯ - æ–‡ä¸­æºç ç­”: 1,å¼€å¯ä¸€ä¸ªåƒç´ çš„Activity(æ‰‹Q) 2,å‰å°æœåŠ¡ 3,ç›¸äº’å”¤é†’ 4,JobSheduler 5,ç²˜æ€§æœåŠ¡&amp;ä¸ç³»ç»ŸæœåŠ¡æ†ç»‘å¸¸è¢«é—®çš„é—®é¢˜- Android è¿›ç¨‹ä¸æ­»ä»3ä¸ªå±‚é¢å…¥æ‰‹, è…¾è®¯Buglyä¿æ´»æ–‡ç«  13. ButterKnifeå·¥ä½œæµç¨‹ç­”:å½“ä½ ç¼–è¯‘ä½ çš„Androidå·¥ç¨‹æ—¶ï¼ŒButterKnifeå·¥ç¨‹ä¸­ ButterKnifeProcessor ç±»çš„ process() æ–¹æ³•ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š å¼€å§‹å®ƒä¼šæ‰«æJavaä»£ç ä¸­æ‰€æœ‰çš„ButterKnifeæ³¨è§£ @Bind ã€ @OnClick ã€ @OnItemClicked ç­‰ å½“å®ƒå‘ç°ä¸€ä¸ªç±»ä¸­å«æœ‰ä»»ä½•ä¸€ä¸ªæ³¨è§£æ—¶ï¼Œ ButterKnifeProcessor ä¼šå¸®ä½ ç”Ÿæˆä¸€ä¸ªJavaç±»ï¼Œåå­—ç±»ä¼¼ $$ViewBinder ï¼Œè¿™ä¸ªæ–°ç”Ÿæˆçš„ç±»å®ç°äº† ViewBinder æ¥å£ è¿™ä¸ª ViewBinder ç±»ä¸­åŒ…å«äº†æ‰€æœ‰å¯¹åº”çš„ä»£ç ï¼Œæ¯”å¦‚ @Bind æ³¨è§£å¯¹åº” findViewById() , @OnClick å¯¹åº”äº† view.setOnClickListener() ç­‰ç­‰ æœ€åå½“Activityå¯åŠ¨ ButterKnife.bind(this) æ‰§è¡Œæ—¶ï¼ŒButterKnifeä¼šå»åŠ è½½å¯¹åº”çš„ ViewBinder ç±»è°ƒç”¨å®ƒä»¬çš„ bind() æ–¹æ³• 14. RxJava &amp; Retrofitç»“åˆçš„æœ€ä½³å®è·µ- å°è£…çš„æ€æƒ³å€¼å¾—å­¦ä¹ !!!, Retrofit","categories":[{"name":"çŸ¥è¯†ç‚¹","slug":"çŸ¥è¯†ç‚¹","permalink":"https://yangxiaoge.github.io/categories/çŸ¥è¯†ç‚¹/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"Java","slug":"Java","permalink":"https://yangxiaoge.github.io/tags/Java/"}]},{"title":"Eshop-RN æˆåŠŸè¿è¡Œçˆ¬å‘è®°å½•","slug":"Eshop-RN-æˆåŠŸè¿è¡Œçˆ¬å‘è®°å½•","date":"2017-02-09T07:21:42.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2017/02/09/Eshop-RN-æˆåŠŸè¿è¡Œçˆ¬å‘è®°å½•/","link":"","permalink":"https://yangxiaoge.github.io/2017/02/09/Eshop-RN-æˆåŠŸè¿è¡Œçˆ¬å‘è®°å½•/","excerpt":"å…ˆä¸Šå›¾ç‰‡","text":"å…ˆä¸Šå›¾ç‰‡ é—®é¢˜æ€»ç»“(æŒç»­æ›´æ–°ing) npm install è¦ä¿è¯ç½‘ç»œç•…é€š nodeç‰ˆæœ¬å°½é‡ç”¨å®˜æ–¹æ¨èç‰ˆæœ¬, æˆ–è€…ä½ç‰ˆæœ¬(ä¹‹å‰ç”±äºæˆ‘ç”¨äº†v7.4.0ç‰ˆæœ¬,å¯¼è‡´è¿è¡ŒæŠ¥é”™ç­‰å„ç§å¥‡è‘©é—®é¢˜ã€‚ é™çº§åˆ°v6.9.5ä¹‹åå°±è§£å†³äº†) Gitæ‹‰å»æ–°å·¥ç¨‹ä¹‹åæœ€å¥½å…ˆåˆ é™¤node_modules,å†è¿è¡Œnpm install more é™„ä¸ŠRNå­¦ä¹ æ€ç»´å¯¼å›¾ RNç»„ä»¶å¯ç”¨å±æ€§æ•´ç†å›¾ç‰‡æ¥æº ç»™æ‰€æœ‰å¼€å‘è€…çš„React Nativeè¯¦ç»†å…¥é—¨æŒ‡å—ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰æ–‡ä¸­Demoåœ°å€ RNç»„ä»¶å¯ç”¨å±æ€§æ•´ç†.xlsx","categories":[{"name":"React Native","slug":"React-Native","permalink":"https://yangxiaoge.github.io/categories/React-Native/"}],"tags":[{"name":"React Native","slug":"React-Native","permalink":"https://yangxiaoge.github.io/tags/React-Native/"}]},{"title":"2016å¹´ç»ˆæ€»ç»“","slug":"2016å¹´ç»ˆæ€»ç»“","date":"2016-12-30T03:12:34.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2016/12/30/2016å¹´ç»ˆæ€»ç»“/","link":"","permalink":"https://yangxiaoge.github.io/2016/12/30/2016å¹´ç»ˆæ€»ç»“/","excerpt":"è½¬çœ¼é—´ï¼Œ2016å³å°†ç»“æŸã€‚æœ¬æ‰“ç®—æ˜å¤©(12æœˆ31å·)å†™å¹´ç»ˆæ€»ç»“çš„ï¼Œä¸è¿‡æ˜å¤©æ”¾å‡O(âˆ©_âˆ©)O~~ ææŒ‡ä¸€ç®—å·²ç»å·¥ä½œè¿‘2å¹´äº†ï¼Œå•Š~~æˆ‘åˆè€äº†ä¸€å²ï¿£ã¸ï¿£ã€‚è™½ç„¶æ€€å¿µå­¦æ ¡å®‰é€¸çš„ç”Ÿæ´»ï¼Œä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹æˆ‘è¿˜æ˜¯å–œæ¬¢è¸å®çš„å·¥ä½œï¼ŒèŠ±ç€è‡ªå·±è¾›è‹¦æŒ£æ¥çš„å·¥èµ„ï¼Œå¾ˆå¼€å¿ƒï¼ ä¸‹é¢è¯´è¯´æ¯•ä¸šååœ¨è½¯åˆ›å­¦åˆ°çš„ä¸œè¥¿å§, è½¯åˆ›æ˜¯æˆ‘æ¯•ä¸šæ¥çš„ç¬¬ä¸€å®¶å…¬å¸,ä¸»è¦å­¦ä¹ çš„çŸ¥è¯†ç‚¹æ–¹å‘æœ‰ä¸¤ä¸ª: Android, Birt(æŠ¥è¡¨,æ¶‰åŠæ•°æ®åº“çš„CRUDçŸ¥è¯†ç‚¹)ã€‚ æ¦‚æ‹¬ä¸€ä¸‹Androidçš„å­¦ä¹ ï¼Œæ¯•ç«Ÿè¿™æ˜¯æˆ‘ä¸ªäººçˆ±å¥½çš„ï¼ï¼ˆå½“ç„¶ï¼Œä»Šå¹´ITä¹Ÿé¢ä¸´äº†å¯’å†¬ï¼Œä¸è¿‡ä¹Ÿä¸ç”¨ææ…Œï¼Œåšå¥½è‡ªå·±ï¼ï¼ï¼ï¼‰","text":"è½¬çœ¼é—´ï¼Œ2016å³å°†ç»“æŸã€‚æœ¬æ‰“ç®—æ˜å¤©(12æœˆ31å·)å†™å¹´ç»ˆæ€»ç»“çš„ï¼Œä¸è¿‡æ˜å¤©æ”¾å‡O(âˆ©_âˆ©)O~~ ææŒ‡ä¸€ç®—å·²ç»å·¥ä½œè¿‘2å¹´äº†ï¼Œå•Š~~æˆ‘åˆè€äº†ä¸€å²ï¿£ã¸ï¿£ã€‚è™½ç„¶æ€€å¿µå­¦æ ¡å®‰é€¸çš„ç”Ÿæ´»ï¼Œä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹æˆ‘è¿˜æ˜¯å–œæ¬¢è¸å®çš„å·¥ä½œï¼ŒèŠ±ç€è‡ªå·±è¾›è‹¦æŒ£æ¥çš„å·¥èµ„ï¼Œå¾ˆå¼€å¿ƒï¼ ä¸‹é¢è¯´è¯´æ¯•ä¸šååœ¨è½¯åˆ›å­¦åˆ°çš„ä¸œè¥¿å§, è½¯åˆ›æ˜¯æˆ‘æ¯•ä¸šæ¥çš„ç¬¬ä¸€å®¶å…¬å¸,ä¸»è¦å­¦ä¹ çš„çŸ¥è¯†ç‚¹æ–¹å‘æœ‰ä¸¤ä¸ª: Android, Birt(æŠ¥è¡¨,æ¶‰åŠæ•°æ®åº“çš„CRUDçŸ¥è¯†ç‚¹)ã€‚ æ¦‚æ‹¬ä¸€ä¸‹Androidçš„å­¦ä¹ ï¼Œæ¯•ç«Ÿè¿™æ˜¯æˆ‘ä¸ªäººçˆ±å¥½çš„ï¼ï¼ˆå½“ç„¶ï¼Œä»Šå¹´ITä¹Ÿé¢ä¸´äº†å¯’å†¬ï¼Œä¸è¿‡ä¹Ÿä¸ç”¨ææ…Œï¼Œåšå¥½è‡ªå·±ï¼ï¼ï¼ï¼‰åœ¨2016å¹´é‡Œå®Œæˆçš„é¡¹ç›®ï¼š 1ã€My Busy 4G 2ã€MPT 4U ç»å†è¿‡ç¬¬ä¸€ä¸ªå…¬å¸çº§åˆ«çš„é¡¹ç›®My Busy 4Gä¹‹åï¼Œæœ€å¤§æ”¶è·å°±æ˜¯ï¼šä¸ªäººæ°´å¹³èƒ½åŠ›å¾—åˆ°äº†å¾ˆå¤§çš„æå‡ï¼Œå°¤å…¶æ˜¯åŒäº‹ä»¬éƒ½å¾ˆçƒ­å¿ƒï¼è¿˜æœ‰ä¸€ä¸ªæ”¶è·å°±æ˜¯ï¼šå­¦ä¹ æ–¹æ³•ï¼ä¸¾ä¸ªæ —å­ï¼šæ–°ä¸‹æ¥ä¸€ä¸ªéœ€æ±‚ï¼Œé¦–å…ˆè¦è€ƒè™‘çš„æ˜¯é¡¹ç›®ä¸­æ˜¯å¦æœ‰å¯ä»¥å¤ç”¨çš„ä¸šåŠ¡æ¨¡å—ï¼Œç»„ä»¶ç­‰ç­‰ï¼ˆæ¨¡å—åŒ–å¼€å‘çš„é‡è¦æ€§ï¼ï¼‰ï¼Œå…¶æ¬¡å°±æ˜¯è¦åˆ©ç”¨å¥½æœç´¢å¼•æ“ï¼ˆGoogleï¼‰ï¼ŒGithubï¼ŒStack Overflowï¼ŒCSDNç­‰ã€‚å½“ç„¶æœ‰æ—¶å€™æˆ‘è¿˜éœ€è¦è‡ªå·±é€ è½®å­ï¼ˆå¿ƒå¹³æ°”å’Œï¼Œä¸æµ®èºï¼Œå­°èƒ½ç”Ÿå·§ï¼‰ã€‚åœ¨è½¯åˆ›è¿™ä¸€å¹´é‡Œæˆ‘çš„æŠ€æœ¯å¯ä»¥è¯´æ˜¯é£é€Ÿæå‡ï¼Œå—ç›Šè‰¯å¤šï¼ åœ¨è¿™ä¸€å¹´é‡Œï¼Œæˆ‘å¾ˆåº†å¹¸ï¼Œæˆ‘å…»æˆäº†ä¸€ä¸ªä¹ æƒ¯ï¼šæ¯å¤©æ—©ä¸Šåœ¨å…¬å¸ç­è½¦ä¸Šéƒ½è¦é˜…è¯»å‡ ç¯‡å…¬ä¼—å·çš„æ–‡ç« ï¼Œç„¶åçœ‹çœ‹æ–°é—»ã€‚ æ„Ÿè°¢æœ‰å‡ ä½äº¤å¿ƒå¥½å‹ï¼Œç¥å‰ç¨‹ä¼¼é”¦ï¼Œæ„¿å‹è°Šé•¿å­˜ï¼ æœ€åï¼Œç¥æˆ‘çš„å®¶äººï¼Œäº²æœ‹åœ¨æ–°çš„ä¸€å¹´èº«ä½“å¥åº·ï¼Œå·¥ä½œé¡ºåˆ©ï¼Œé¸¡å¹´å¤§å‰~ 2017 Fightingï¼","categories":[{"name":"ä¸ªäººæ€»ç»“","slug":"ä¸ªäººæ€»ç»“","permalink":"https://yangxiaoge.github.io/categories/ä¸ªäººæ€»ç»“/"}],"tags":[{"name":"ä¸ªäººæ€»ç»“","slug":"ä¸ªäººæ€»ç»“","permalink":"https://yangxiaoge.github.io/tags/ä¸ªäººæ€»ç»“/"}]},{"title":"JavaScriptå­¦ä¹ ç¬”è®°","slug":"JavaScriptå­¦ä¹ ç¬”è®°","date":"2016-12-29T01:34:01.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2016/12/29/JavaScriptå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://yangxiaoge.github.io/2016/12/29/JavaScriptå­¦ä¹ ç¬”è®°/","excerpt":"å»–é›ªå³° jsæ•™ç¨‹ JavaScriptæ•™ç¨‹ æˆ‘çš„ç»ƒä¹ åŸºæœ¬æ˜¯æŒ‰ç€æ•™ç¨‹æ•²äº†ä¸€é. ç”¨çš„Chromeè°ƒè¯•çª—å£,å¾ˆæ–¹ä¾¿! ä»¥ä¸‹æ˜¯ç¬”è®° javascriptçš„äº”ç§åŸºæœ¬æ•°æ®ç±»å‹åŸºæœ¬æ•°æ®ç±»å‹: Undefinedï¼ŒNullï¼ŒBooleanï¼ŒNumberå’ŒString; æ­¤å¤–è¿˜å«æœ‰ä¸€ç§å¤æ‚æ•°æ®ç±»å‹â€”Object","text":"å»–é›ªå³° jsæ•™ç¨‹ JavaScriptæ•™ç¨‹ æˆ‘çš„ç»ƒä¹ åŸºæœ¬æ˜¯æŒ‰ç€æ•™ç¨‹æ•²äº†ä¸€é. ç”¨çš„Chromeè°ƒè¯•çª—å£,å¾ˆæ–¹ä¾¿! ä»¥ä¸‹æ˜¯ç¬”è®° javascriptçš„äº”ç§åŸºæœ¬æ•°æ®ç±»å‹åŸºæœ¬æ•°æ®ç±»å‹: Undefinedï¼ŒNullï¼ŒBooleanï¼ŒNumberå’ŒString; æ­¤å¤–è¿˜å«æœ‰ä¸€ç§å¤æ‚æ•°æ®ç±»å‹â€”Object ifåˆ¤æ–­,ä¼ å‚ä¼ çš„ébooleanç±»å‹12345var s = '123';if (s.length) &#123; // æ¡ä»¶è®¡ç®—ç»“æœä¸º3 console.log(\"ä½ å¥½å•Š\"); //æ‰“å°ç»“æœä¸ºä½ å¥½å•Š&#125;åŸå› : JavaScriptæŠŠnullã€undefinedã€0ã€NaNå’Œç©ºå­—ç¬¦ä¸²''è§†ä¸ºfalseï¼Œå…¶ä»–å€¼ä¸€æ¦‚è§†ä¸ºtrueï¼Œå› æ­¤ä¸Šè¿°ä»£ç æ¡ä»¶åˆ¤æ–­çš„ç»“æœæ˜¯trueã€‚ Mapå’ŒSetæ˜¯ES6æ ‡å‡†æ–°å¢çš„æ•°æ®ç±»å‹ï¼Œè¯·æ ¹æ®æµè§ˆå™¨çš„æ”¯æŒæƒ…å†µå†³å®šæ˜¯å¦è¦ä½¿ç”¨ã€‚123456789var m = new Map([['Michael', 95], ['Bob', 75], ['Adam', 85]]);m.get('Michael'); // 95m.delete('Adam'); // åˆ é™¤key 'Adam'var s = new Set();s.add(1); // Set &#123;1&#125;s.add(2); // Set &#123;1, 2&#125;s.add(3); // Set &#123;1, 2,3&#125;s.delete(3); // Set &#123;1, 2&#125; ES6æ ‡å‡†å¼•å…¥äº†æ–°çš„iterableç±»å‹ï¼ŒArrayã€Mapå’ŒSetéƒ½å±äºiterableç±»å‹ã€‚12345678910111213141516// æ›´å¥½çš„æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨`iterable`å†…ç½®çš„`forEach`æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡è¿­ä»£å°±è‡ªåŠ¨å›è°ƒè¯¥å‡½æ•°ã€‚ä»¥Arrayä¸ºä¾‹ï¼š//forEach()æ–¹æ³•æ˜¯ES5.1æ ‡å‡†å¼•å…¥çš„var a = ['A', 'B', 'C'];a.forEach(function (element, index, array) &#123; // element: æŒ‡å‘å½“å‰å…ƒç´ çš„å€¼ // index: æŒ‡å‘å½“å‰ç´¢å¼• // array: æŒ‡å‘Arrayå¯¹è±¡æœ¬èº« alert(element);&#125;);æˆ–è€…://ç”±äºJavaScriptçš„å‡½æ•°è°ƒç”¨ä¸è¦æ±‚å‚æ•°å¿…é¡»ä¸€è‡´ï¼Œå› æ­¤å¯ä»¥å¿½ç•¥å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œåªéœ€è¦è·å¾—Arrayçš„elementï¼švar a = ['A', 'B', 'C'];a.forEach(function (element) &#123; alert(element);&#125;); JavaScriptè¿˜æœ‰ä¸€ä¸ªå…è´¹èµ é€çš„å…³é”®å­—argumentsï¼Œå®ƒåªåœ¨å‡½æ•°å†…éƒ¨èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ°¸è¿œæŒ‡å‘å½“å‰å‡½æ•°çš„è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚argumentsç±»ä¼¼Arrayä½†å®ƒä¸æ˜¯ä¸€ä¸ªArrayï¼š12345678910111213argumentsï¼Œä½ å¯ä»¥è·å¾—è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°å®é™…ä¸Šargumentsæœ€å¸¸ç”¨äºåˆ¤æ–­ä¼ å…¥å‚æ•°çš„ä¸ªæ•°ã€‚ä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„å†™æ³•ï¼š// foo(a[, b], c)// æ¥æ”¶2~3ä¸ªå‚æ•°ï¼Œbæ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æœåªä¼ 2ä¸ªå‚æ•°ï¼Œbé»˜è®¤ä¸ºnullï¼šfunction foo(a, b, c) &#123; if (arguments.length === 2) &#123; // å®é™…æ‹¿åˆ°çš„å‚æ•°æ˜¯aå’Œbï¼Œcä¸ºundefined c = b; // æŠŠbèµ‹ç»™c b = null; // bå˜ä¸ºé»˜è®¤å€¼ &#125; // ...&#125;è¦æŠŠä¸­é—´çš„å‚æ•°bå˜ä¸ºâ€œå¯é€‰â€å‚æ•°ï¼Œå°±åªèƒ½é€šè¿‡argumentsåˆ¤æ–­ï¼Œç„¶åé‡æ–°è°ƒæ•´å‚æ•°å¹¶èµ‹å€¼ã€‚ é«˜é˜¶å‡½æ•°, é«˜é˜¶å‡½æ•°è‹±æ–‡å«Higher-order function1234function string2int(s) &#123; return s.split(&apos;&apos;).map(strNum =&gt; strNum * 1).reduce((x, y) =&gt; x * 10 + y)&#125;string2int(&apos;12345&apos;) ç»†ç»†ç†è§£ map(), reduce(), filter()çš„åŒºåˆ«sort123456789101112131415161718192021222324252627å¦‚æœä¸çŸ¥é“sort()æ–¹æ³•çš„é»˜è®¤æ’åºè§„åˆ™ï¼Œç›´æ¥å¯¹æ•°å­—æ’åºï¼Œç»å¯¹æ ½è¿›å‘é‡Œï¼å¹¸è¿çš„æ˜¯ï¼Œsort()æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒè¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°æ¥å®ç°è‡ªå®šä¹‰çš„æ’åºã€‚var arr = [10, 20, 1, 2];arr.sort(function (x, y) &#123; if (x &lt; y) &#123; return -1; &#125; if (x &gt; y) &#123; return 1; &#125; return 0;&#125;); // [1, 2, 10, 20]var arr = ['Google', 'apple', 'Microsoft'];arr.sort(function (s1, s2) &#123; x1 = s1.toUpperCase(); x2 = s2.toUpperCase(); if (x1 &lt; x2) &#123; return -1; &#125; if (x1 &gt; x2) &#123; return 1; &#125; return 0;&#125;); // ['apple', 'Google', 'Microsoft']æœ€åå‹æƒ…æç¤ºï¼Œsort()æ–¹æ³•ä¼šç›´æ¥å¯¹Arrayè¿›è¡Œä¿®æ”¹ï¼Œå®ƒè¿”å›çš„ç»“æœä»æ˜¯å½“å‰Arrayï¼š é—­åŒ…ï¼ˆClosureï¼‰12345678910111213141516171819202122232425æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå¯¹Arrayçš„æ±‚å’Œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ±‚å’Œçš„å‡½æ•°æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šfunction sum(arr) &#123; return arr.reduce(function (x, y) &#123; return x + y; &#125;);&#125;sum([1, 2, 3, 4, 5]); // 15å¦‚æœä¸éœ€è¦ç«‹åˆ»æ±‚å’Œï¼Œè€Œæ˜¯åœ¨åé¢çš„ä»£ç ä¸­ï¼Œæ ¹æ®éœ€è¦å†è®¡ç®—æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä¸è¿”å›æ±‚å’Œçš„ç»“æœï¼Œè€Œæ˜¯è¿”å›æ±‚å’Œçš„å‡½æ•°ï¼function lazy_sum(arr) &#123; var sum = function () &#123; return arr.reduce(function (x, y) &#123; return x + y; &#125;); &#125; return sum;&#125;å½“æˆ‘ä»¬è°ƒç”¨lazy_sum()æ—¶ï¼Œè¿”å›çš„å¹¶ä¸æ˜¯æ±‚å’Œç»“æœï¼Œè€Œæ˜¯æ±‚å’Œå‡½æ•°ï¼švar f = lazy_sum([1, 2, 3, 4, 5]); // function sum()è°ƒç”¨å‡½æ•°fæ—¶ï¼Œæ‰çœŸæ­£è®¡ç®—æ±‚å’Œçš„ç»“æœï¼šf(); // 15åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°lazy_sumä¸­åˆå®šä¹‰äº†å‡½æ•°sumï¼Œå¹¶ä¸”ï¼Œå†…éƒ¨å‡½æ•°sumå¯ä»¥å¼•ç”¨å¤–éƒ¨å‡½æ•°lazy_sumçš„å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼Œå½“lazy_sumè¿”å›å‡½æ•°sumæ—¶ï¼Œç›¸å…³å‚æ•°å’Œå˜é‡éƒ½ä¿å­˜åœ¨è¿”å›çš„å‡½æ•°ä¸­ï¼Œè¿™ç§ç§°ä¸ºâ€œé—­åŒ…ï¼ˆClosureï¼‰â€çš„ç¨‹åºç»“æ„æ‹¥æœ‰æå¤§çš„å¨åŠ›ã€‚ ç®­å¤´å‡½æ•°ES6æ ‡å‡†æ–°å¢äº†ä¸€ç§æ–°çš„å‡½æ•°ï¼šArrow Functionï¼ˆç®­å¤´å‡½æ•°ï¼‰ã€‚1234567891011121314151617x =&gt; x * xä¸Šé¢çš„ç®­å¤´å‡½æ•°ç›¸å½“äºï¼šfunction (x) &#123; return x * x;&#125;ç®­å¤´å‡½æ•°æœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§åƒä¸Šé¢çš„ï¼ŒåªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿&#123; ... &#125;å’Œreturnéƒ½çœç•¥æ‰äº†ã€‚è¿˜æœ‰ä¸€ç§å¯ä»¥åŒ…å«å¤šæ¡è¯­å¥ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½çœç•¥&#123; ... &#125;å’Œreturnï¼šx =&gt; &#123; if (x &gt; 0) &#123; return x * x; &#125; else &#123; return - x * x; &#125;&#125; generator123456789101112131415161718192021222324252627282930313233ç”¨generatoræ”¹å†™å¦‚ä¸‹ï¼šfunction* fib(max) &#123; var t, a = 0, b = 1, n = 1; while (n &lt; max) &#123; yield a; t = a + b; a = b; b = t; n ++; &#125; return a;&#125;ç›´æ¥è°ƒç”¨è¯•è¯•ï¼šfib(5); // fib &#123;[[GeneratorStatus]]: \"suspended\", [[GeneratorReceiver]]: Window&#125;ç›´æ¥è°ƒç”¨ä¸€ä¸ªgeneratorå’Œè°ƒç”¨å‡½æ•°ä¸ä¸€æ ·ï¼Œfib(5)ä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œè¿˜æ²¡æœ‰å»æ‰§è¡Œå®ƒã€‚è°ƒç”¨generatorå¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸æ–­åœ°è°ƒç”¨generatorå¯¹è±¡çš„next()æ–¹æ³•ï¼švar f = fib(5);f.next(); // &#123;value: 0, done: false&#125;f.next(); // &#123;value: 1, done: false&#125;f.next(); // &#123;value: 1, done: false&#125;f.next(); // &#123;value: 2, done: false&#125;f.next(); // &#123;value: 3, done: true&#125;next()æ–¹æ³•ä¼šæ‰§è¡Œgeneratorçš„ä»£ç ï¼Œç„¶åï¼Œæ¯æ¬¡é‡åˆ°yield x;å°±è¿”å›ä¸€ä¸ªå¯¹è±¡&#123;value: x, done: true/false&#125;ï¼Œç„¶åâ€œæš‚åœâ€ã€‚è¿”å›çš„valueå°±æ˜¯yieldçš„è¿”å›å€¼ï¼Œdoneè¡¨ç¤ºè¿™ä¸ªgeneratoræ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸäº†ã€‚å¦‚æœdoneä¸ºtrueï¼Œåˆ™valueå°±æ˜¯returnçš„è¿”å›å€¼ã€‚å½“æ‰§è¡Œåˆ°doneä¸ºtrueæ—¶ï¼Œè¿™ä¸ªgeneratorå¯¹è±¡å°±å·²ç»å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œä¸è¦å†ç»§ç»­è°ƒç”¨next()äº†ã€‚ æ ‡å‡†å¯¹è±¡12345678910111213141516171819æ€»ç»“ä¸€ä¸‹ï¼Œæœ‰è¿™ä¹ˆå‡ æ¡è§„åˆ™éœ€è¦éµå®ˆï¼šä¸è¦ä½¿ç”¨new Number()ã€new Boolean()ã€new String()åˆ›å»ºåŒ…è£…å¯¹è±¡ï¼›ç”¨parseInt()æˆ–parseFloat()æ¥è½¬æ¢ä»»æ„ç±»å‹åˆ°numberï¼›ç”¨String()æ¥è½¬æ¢ä»»æ„ç±»å‹åˆ°stringï¼Œæˆ–è€…ç›´æ¥è°ƒç”¨æŸä¸ªå¯¹è±¡çš„toString()æ–¹æ³•ï¼›é€šå¸¸ä¸å¿…æŠŠä»»æ„ç±»å‹è½¬æ¢ä¸ºbooleanå†åˆ¤æ–­ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥å†™if (myVar) &#123;...&#125;ï¼›typeofæ“ä½œç¬¦å¯ä»¥åˆ¤æ–­å‡ºnumberã€booleanã€stringã€functionå’Œundefinedï¼›åˆ¤æ–­Arrayè¦ä½¿ç”¨Array.isArray(arr)ï¼›åˆ¤æ–­nullè¯·ä½¿ç”¨myVar === nullï¼›åˆ¤æ–­æŸä¸ªå…¨å±€å˜é‡æ˜¯å¦å­˜åœ¨ç”¨typeof window.myVar === 'undefined'ï¼›å‡½æ•°å†…éƒ¨åˆ¤æ–­æŸä¸ªå˜é‡æ˜¯å¦å­˜åœ¨ç”¨typeof myVar === 'undefined'ã€‚ RegExp (æ­£åˆ™è¡¨è¾¾å¼)1234567891011121314151617181920212223242526åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå¦‚æœç›´æ¥ç»™å‡ºå­—ç¬¦ï¼Œå°±æ˜¯ç²¾ç¡®åŒ¹é…ã€‚ç”¨\\då¯ä»¥åŒ¹é…ä¸€ä¸ªæ•°å­—ï¼Œ\\wå¯ä»¥åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—ï¼Œæ‰€ä»¥ï¼š'00\\d'å¯ä»¥åŒ¹é…'007'ï¼Œä½†æ— æ³•åŒ¹é…'00A'ï¼›'\\d\\d\\d'å¯ä»¥åŒ¹é…'010'ï¼›'\\w\\w'å¯ä»¥åŒ¹é…'js'ï¼›.å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œæ‰€ä»¥ï¼š'js.'å¯ä»¥åŒ¹é…'jsp'ã€'jss'ã€'js!'ç­‰ç­‰ã€‚JavaScriptçš„æ­£åˆ™è¡¨è¾¾å¼è¿˜æœ‰å‡ ä¸ªç‰¹æ®Šçš„æ ‡å¿—ï¼Œæœ€å¸¸ç”¨çš„æ˜¯gï¼Œè¡¨ç¤ºå…¨å±€åŒ¹é…ï¼švar s='zhuzhuyang, xiaoyang, feiyang';var reg = /[a-zA-Z]+yang/g;reg.exec(s); //['zhuzhuyang']reg.lastIndex; //10reg.exec(s); //['xiaoyang']reg.lastIndex; //20reg.exec(s); //['feiyang']reg.lastIndex; //29reg.exec(s); // nullï¼Œç›´åˆ°ç»“æŸä»æ²¡æœ‰åŒ¹é…åˆ° JSON12345678910åœ¨2002å¹´çš„ä¸€å¤©ï¼Œé“æ ¼æ‹‰æ–¯Â·å…‹ç½—å…‹ç¦ç‰¹ï¼ˆDouglas Crockfordï¼‰åŒå­¦ä¸ºäº†æ‹¯æ•‘æ·±é™·æ°´æ·±ç«çƒ­åŒæ—¶åˆè¢«æŸå‡ ä¸ªå·¨å‹è½¯ä»¶ä¼ä¸šé•¿æœŸæ„šå¼„çš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œå‘æ˜äº†JSONè¿™ç§è¶…è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚é“æ ¼æ‹‰æ–¯åŒå­¦é•¿æœŸæ‹…ä»»é›…è™çš„é«˜çº§æ¶æ„å¸ˆï¼Œè‡ªç„¶é’Ÿæƒ…äºJavaScriptã€‚ä»–è®¾è®¡çš„JSONå®é™…ä¸Šæ˜¯JavaScriptçš„ä¸€ä¸ªå­é›†ã€‚åœ¨JSONä¸­ï¼Œä¸€å…±å°±è¿™ä¹ˆå‡ ç§æ•°æ®ç±»å‹ï¼šnumberï¼šå’ŒJavaScriptçš„numberå®Œå…¨ä¸€è‡´ï¼›booleanï¼šå°±æ˜¯JavaScriptçš„trueæˆ–falseï¼›stringï¼šå°±æ˜¯JavaScriptçš„stringï¼›nullï¼šå°±æ˜¯JavaScriptçš„nullï¼›arrayï¼šå°±æ˜¯JavaScriptçš„Arrayè¡¨ç¤ºæ–¹å¼â€”â€”[]ï¼›objectï¼šå°±æ˜¯JavaScriptçš„&#123; ... &#125;è¡¨ç¤ºæ–¹å¼ã€‚ åºåˆ—åŒ–12345678910111213141516171819202122232425262728293031var xiaoming = &#123; name: 'å°æ˜', age: 14, gender: true, height: 1.65, grade: null, 'middle-school': '\\\"W3C\\\" Middle School', skills: ['JavaScript', 'Java', 'Python', 'Lisp']&#125;;JSON.stringify(xiaoming); // '&#123;\"name\":\"å°æ˜\",\"age\":14,\"gender\":true,\"height\":1.65,\"grade\":null,\"middle-school\":\"\\\"W3C\\\" Middle School\",\"skills\":[\"JavaScript\",\"Java\",\"Python\",\"Lisp\"]&#125;'è¦è¾“å‡ºå¾—å¥½çœ‹ä¸€äº›ï¼Œå¯ä»¥åŠ ä¸Šå‚æ•°ï¼ŒæŒ‰ç¼©è¿›è¾“å‡ºï¼šJSON.stringify(xiaoming, null, ' ');&#123; \"name\": \"å°æ˜\", \"age\": 14, \"gender\": true, \"height\": 1.65, \"grade\": null, \"middle-school\": \"\\\"W3C\\\" Middle School\", \"skills\": [ \"JavaScript\", \"Java\", \"Python\", \"Lisp\" ]&#125;æ›´å¤šJSONç”¨æ³•å¯ä»¥çœ‹å»–é›ªå³°æ•™ç¨‹ é¢å‘å¯¹è±¡ç¼–ç¨‹JavaScriptçš„åŸå‹é“¾å’ŒJavaçš„ClassåŒºåˆ«å°±åœ¨ï¼Œå®ƒæ²¡æœ‰â€œClassâ€çš„æ¦‚å¿µï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯å®ä¾‹ï¼Œæ‰€è°“ç»§æ‰¿å…³ç³»ä¸è¿‡æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡çš„åŸå‹æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡è€Œå·²ã€‚12345678910111213141516171819var Student = &#123; name: 'Robot', height: 1.2, run: function () &#123; console.log(this.name + ' is running...'); &#125;&#125;;var xiaoming = &#123; name: 'å°æ˜'&#125;;xiaoming.__proto__ = Student;æ³¨æ„æœ€åä¸€è¡Œä»£ç æŠŠxiaomingçš„åŸå‹æŒ‡å‘äº†å¯¹è±¡Studentï¼Œçœ‹ä¸Šå»xiaomingä»¿ä½›æ˜¯ä»Studentç»§æ‰¿ä¸‹æ¥çš„ï¼šxiaoming.name; // 'å°æ˜'xiaoming.run(); // å°æ˜ is running...xiaomingæœ‰è‡ªå·±çš„nameå±æ€§ï¼Œä½†å¹¶æ²¡æœ‰å®šä¹‰run()æ–¹æ³•ã€‚ä¸è¿‡ï¼Œç”±äºå°æ˜æ˜¯ä»Studentç»§æ‰¿è€Œæ¥ï¼Œåªè¦Studentæœ‰run()æ–¹æ³•ï¼Œxiaomingä¹Ÿå¯ä»¥è°ƒç”¨ï¼š è¯·æ³¨æ„ï¼Œä¸Šè¿°ä»£ç ä»…ç”¨äºæ¼”ç¤ºç›®çš„ã€‚åœ¨ç¼–å†™JavaScriptä»£ç æ—¶ï¼Œä¸è¦ç›´æ¥ç”¨obj.protoå»æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ï¼Œå¹¶ä¸”ï¼Œä½ç‰ˆæœ¬çš„IEä¹Ÿæ— æ³•ä½¿ç”¨protoã€‚Object.create()æ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåŸºäºè¯¥åŸå‹çš„æ–°å¯¹è±¡ï¼Œä½†æ˜¯æ–°å¯¹è±¡ä»€ä¹ˆå±æ€§éƒ½æ²¡æœ‰ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºxiaomingï¼š1234567891011121314151617181920// åŸå‹å¯¹è±¡:var Student = &#123; name: 'Robot', height: 1.2, run: function () &#123; console.log(this.name + ' is running...'); &#125;&#125;;function createStudent(name) &#123; // åŸºäºStudentåŸå‹åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡: var s = Object.create(Student); // åˆå§‹åŒ–æ–°å¯¹è±¡: s.name = name; return s;&#125;var xiaoming = createStudent('å°æ˜');xiaoming.run(); // å°æ˜ is running...xiaoming.__proto__ === Student; // true","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yangxiaoge.github.io/categories/JavaScript/"}],"tags":[{"name":"å‰ç«¯å¼€å‘","slug":"å‰ç«¯å¼€å‘","permalink":"https://yangxiaoge.github.io/tags/å‰ç«¯å¼€å‘/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://yangxiaoge.github.io/tags/JavaScript/"}]},{"title":"Flow.ciæŒç»­é›†æˆ","slug":"flow.ciæŒç»­é›†æˆ","date":"2016-12-07T06:19:05.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2016/12/07/flow.ciæŒç»­é›†æˆ/","link":"","permalink":"https://yangxiaoge.github.io/2016/12/07/flow.ciæŒç»­é›†æˆ/","excerpt":"å¥½ä¹…æ²¡æœ‰å†™åšå®¢äº†o(â•¯â–¡â•°)o , ç»ˆäºå¿™å®ŒAndroidé¡¹ç›®äº†ã€‚æ¥ä¸‹æ¥ç»™è‡ªå·±å®šä¸ªé•¿æœŸç›®æ ‡ï¼Œ æ¯ä¸ªæœˆè‡³å°‘å†™ä¸€ç¯‡åšæ–‡ï¼Œå¯ä»¥æ˜¯æ„Ÿæƒ³é—²èŠç¯‡ä¹Ÿå¯æ˜¯æŠ€æœ¯ç¯‡ï¼Œ å“ˆå“ˆçœ‹å¿ƒæƒ…å•¦ã€‚ è¨€å½’æ­£ä¼ å…¶å®è·å¾—FlowCiæµ‹è¯•èµ„æ ¼å·²ç»å¥½å‡ ä¸ªæœˆäº†ï¼Œ ä¸€ç›´æ²¡æœ‰å»ä½¿ç”¨å®ƒï¼Œ FlowCiåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚ ä¹‹å‰æˆ‘ç”¨çš„æ˜¯daocloudæŒç»­é›†æˆåšå®¢, ä¸è¿‡ä»Šå¤©å‘ç°æŒç»­é›†æˆå¤±è´¥äº†ï¼Œ å‘ç°æ˜¯daocloudå‡çº§äº†ï¼Œ é›†æˆçš„é…ç½®æ–‡ä»¶éœ€è¦ä¿®æ”¹ï¼Œ æˆ‘å°±ä¹˜æ­¤æœºä¼šè½¬æŠ•FlowCiçš„æ€€æŠ±ä¸­äº† O(âˆ©_âˆ©)Oå“ˆå“ˆ~é‚£ä¹ˆ æ€ä¹ˆä½¿ç”¨ FlowCi ä¸º Hexoåšå®¢æŒç»­é›†æˆå‘¢ï¼Ÿ","text":"å¥½ä¹…æ²¡æœ‰å†™åšå®¢äº†o(â•¯â–¡â•°)o , ç»ˆäºå¿™å®ŒAndroidé¡¹ç›®äº†ã€‚æ¥ä¸‹æ¥ç»™è‡ªå·±å®šä¸ªé•¿æœŸç›®æ ‡ï¼Œ æ¯ä¸ªæœˆè‡³å°‘å†™ä¸€ç¯‡åšæ–‡ï¼Œå¯ä»¥æ˜¯æ„Ÿæƒ³é—²èŠç¯‡ä¹Ÿå¯æ˜¯æŠ€æœ¯ç¯‡ï¼Œ å“ˆå“ˆçœ‹å¿ƒæƒ…å•¦ã€‚ è¨€å½’æ­£ä¼ å…¶å®è·å¾—FlowCiæµ‹è¯•èµ„æ ¼å·²ç»å¥½å‡ ä¸ªæœˆäº†ï¼Œ ä¸€ç›´æ²¡æœ‰å»ä½¿ç”¨å®ƒï¼Œ FlowCiåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚ ä¹‹å‰æˆ‘ç”¨çš„æ˜¯daocloudæŒç»­é›†æˆåšå®¢, ä¸è¿‡ä»Šå¤©å‘ç°æŒç»­é›†æˆå¤±è´¥äº†ï¼Œ å‘ç°æ˜¯daocloudå‡çº§äº†ï¼Œ é›†æˆçš„é…ç½®æ–‡ä»¶éœ€è¦ä¿®æ”¹ï¼Œ æˆ‘å°±ä¹˜æ­¤æœºä¼šè½¬æŠ•FlowCiçš„æ€€æŠ±ä¸­äº† O(âˆ©_âˆ©)Oå“ˆå“ˆ~é‚£ä¹ˆ æ€ä¹ˆä½¿ç”¨ FlowCi ä¸º Hexoåšå®¢æŒç»­é›†æˆå‘¢ï¼Ÿ PS: (2016-12-8 09:31:50 add) å¼ºè¿«ç—‡çš„æˆ‘è¿˜æ˜¯æŠŠdaocloudæŒç»­é›†æˆæå¥½äº†(^o^)/~, ä¸è¿‡æˆ‘è¿˜æ˜¯ç”¨FlowCiå§, å°è¯•æ–°å·¥å…·å“ˆå“ˆ~~å•ªå•ªæ‰“è„¸~~ flowci hook pushä¸åŠæ—¶, æœ‰æ—¶å€™codingæºç ä¿®æ”¹äº†,ä½†æ˜¯éƒ½ä¸pushæ¶ˆæ¯ç»™flowci,æ‰€ä»¥åšå®¢æœ‰æ—¶å€™å¹¶æ²¡æœ‰è‡ªåŠ¨é›†æˆo(â•¯â–¡â•°)o åˆ›å»ºé¡¹ç›® é€‰æ‹©ä»£ç ä»“åº“ è¿™é‡Œå–å†³äºhexoåšå®¢æºæ–‡ä»¶å­˜æ”¾åœ¨å“ªé‡Œäº† github, codingç­‰â€¦ åˆ›å»ºæ–°çš„å·¥ä½œæµ ä¹‹å‰æœ‰ç®€å•çš„æ­¥éª¤å°±çœç•¥äº†â€¦ å·¥ä½œæµé€‰æ‹©, Nodejs(Hexoç¼–è¯‘æ‰€éœ€ç¯å¢ƒ)ï¼Œç‰ˆæœ¬é€‰æ‹©äº†æœ€æ–°çš„v6.6.0, å½“ç„¶è¿˜æœ‰å…¶ä»–çš„, Python, Android, Phpç­‰ã€‚ åé¢æˆ‘ä¼šå°è¯•ä½¿ç”¨AndroidæŒç»­é›†æˆï¼Œä¹Ÿä¼šå†™ç›¸åº”æ–‡ç« ã€‚ è§¦å‘å™¨(ä»€ä¹ˆæ—¶å€™è‡ªåŠ¨é›†æˆ) è®¾ç½® è§¦å‘å™¨-push-æ­£åˆ™åŒ¹é…-master, æ„æ€å°±æ˜¯å½“ hexoåšå®¢gitçš„masteræºæ–‡ä»¶æ”¹å˜æ—¶, å°±ä¼šè§¦å‘FlowCiçš„æŒç»­é›†æˆ! è‡ªå®šä¹‰è„šæœ¬è¿™é‡Œçš„ .daocloudæ–‡ä»¶å¤¹(æ–‡ä»¶å¤¹éšä¾¿æ€ä¹ˆå‘½å)æ˜¯ç”¨æ¥å­˜æ”¾id_rsaçš„ 1234567891011121314# å®‰è£…Hexoå‘½ä»¤è¡Œå·¥å…·flow_cmd \"npm install hexo-cli -g\" --echo# å‡†å¤‡å¹¶å®‰è£…ç§é’¥flow_cmd \"cp .daocloud/id_rsa .\" --echo flow_cmd \"chmod 600 ./id_rsa\" --echo flow_cmd \"eval $(ssh-agent)\" --echo flow_cmd \"ssh-add ./id_rsa\" --echo# æ‰§è¡ŒHexoç”Ÿæˆå’Œå‘å¸ƒflow_cmd \"hexo clean\" --echo flow_cmd \"hexo g\" --echo flow_cmd \"hexo d\" --echo æ·»åŠ FlowCiçš„ RSAå…¬åŒ™åˆ°githubä»¥åŠcoding(æˆäºˆè¯»å†™æƒé™) å¿«å»æäº¤ä»£ç å§æˆ‘æ˜¯å•ç‹¬åœ¨codingå»ºäº†ä¸€ä¸ªæ–°çš„ä»“åº“å­˜æ”¾åšå®¢æºæ–‡ä»¶,yangxiaoge-CIä¹‹ååªè¦å¾€yangxiaoge-CIä»“åº“ä¸­æäº¤æˆ–è€…å¢åˆ æ”¹æŸ¥æ—¶, FlowCiä¼šè‡ªåŠ¨é›†æˆå¹¶å‘å¸ƒåˆ°yangxiaogeç¼–è¯‘åçš„åšå®¢åœ°å€ä¸­!binggo!!!åç­‰é›†æˆå¥½,ç™»å½•ç½‘ç«™æŸ¥çœ‹å˜åŠ¨å§ï¼æ˜¯ä¸æ˜¯å¾ˆçˆ½ğŸ˜ , è·¨PCæ›´æ–°åšå®¢ä¹Ÿæ›´æ–¹ä¾¿å•¦~~~","categories":[{"name":"æŒç»­é›†æˆ","slug":"æŒç»­é›†æˆ","permalink":"https://yangxiaoge.github.io/categories/æŒç»­é›†æˆ/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://yangxiaoge.github.io/tags/Hexo/"},{"name":"æŒç»­é›†æˆ","slug":"æŒç»­é›†æˆ","permalink":"https://yangxiaoge.github.io/tags/æŒç»­é›†æˆ/"}]},{"title":"mockæ•°æ®","slug":"Fiddleræ‹¦æˆªè¯·æ±‚mockå‡æ•°æ®","date":"2016-11-08T02:44:59.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2016/11/08/Fiddleræ‹¦æˆªè¯·æ±‚mockå‡æ•°æ®/","link":"","permalink":"https://yangxiaoge.github.io/2016/11/08/Fiddleræ‹¦æˆªè¯·æ±‚mockå‡æ•°æ®/","excerpt":"","text":"FiddleræŠ“åŒ…æ‹¦æˆª Easy Mock","categories":[{"name":"mock","slug":"mock","permalink":"https://yangxiaoge.github.io/categories/mock/"}],"tags":[{"name":"Fiddler","slug":"Fiddler","permalink":"https://yangxiaoge.github.io/tags/Fiddler/"},{"name":"mock","slug":"mock","permalink":"https://yangxiaoge.github.io/tags/mock/"}]},{"title":"Androidå†…å­˜æ³„æ¼æ€»ç»“","slug":"Androidå†…å­˜æ³„æ¼æ€»ç»“","date":"2016-10-10T05:29:20.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2016/10/10/Androidå†…å­˜æ³„æ¼æ€»ç»“/","link":"","permalink":"https://yangxiaoge.github.io/2016/10/10/Androidå†…å­˜æ³„æ¼æ€»ç»“/","excerpt":"å†…å­˜ç®¡ç†çš„ç›®çš„å°±æ˜¯è®©æˆ‘ä»¬åœ¨å¼€å‘ä¸­æ€ä¹ˆæœ‰æ•ˆçš„é¿å…æˆ‘ä»¬çš„åº”ç”¨å‡ºç°å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚å†…å­˜æ³„æ¼å¤§å®¶éƒ½ä¸é™Œç”Ÿäº†ï¼Œç®€å•ç²—ä¿—çš„è®²ï¼Œå°±æ˜¯è¯¥è¢«é‡Šæ”¾çš„å¯¹è±¡æ²¡æœ‰é‡Šæ”¾ï¼Œä¸€ç›´è¢«æŸä¸ªæˆ–æŸäº›å®ä¾‹æ‰€æŒæœ‰å´ä¸å†è¢«ä½¿ç”¨å¯¼è‡´ GC ä¸èƒ½å›æ”¶ã€‚æœ€è¿‘è‡ªå·±é˜…è¯»äº†å¤§é‡ç›¸å…³çš„æ–‡æ¡£èµ„æ–™ï¼Œæ‰“ç®—åšä¸ª æ€»ç»“ æ²‰æ·€ä¸‹æ¥è·Ÿå¤§å®¶ä¸€èµ·åˆ†äº«å’Œå­¦ä¹ ï¼Œä¹Ÿç»™è‡ªå·±ä¸€ä¸ªè­¦ç¤ºï¼Œä»¥å coding æ—¶æ€ä¹ˆé¿å…è¿™äº›æƒ…å†µï¼Œæé«˜åº”ç”¨çš„ä½“éªŒå’Œè´¨é‡ã€‚ æˆ‘ä¼šä» java å†…å­˜æ³„æ¼çš„åŸºç¡€çŸ¥è¯†å¼€å§‹ï¼Œå¹¶é€šè¿‡å…·ä½“ä¾‹å­æ¥è¯´æ˜ Android å¼•èµ·å†…å­˜æ³„æ¼çš„å„ç§åŸå› ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨å·¥å…·æ¥åˆ†æåº”ç”¨å†…å­˜æ³„æ¼ï¼Œæœ€åå†åšæ€»ç»“ã€‚","text":"å†…å­˜ç®¡ç†çš„ç›®çš„å°±æ˜¯è®©æˆ‘ä»¬åœ¨å¼€å‘ä¸­æ€ä¹ˆæœ‰æ•ˆçš„é¿å…æˆ‘ä»¬çš„åº”ç”¨å‡ºç°å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚å†…å­˜æ³„æ¼å¤§å®¶éƒ½ä¸é™Œç”Ÿäº†ï¼Œç®€å•ç²—ä¿—çš„è®²ï¼Œå°±æ˜¯è¯¥è¢«é‡Šæ”¾çš„å¯¹è±¡æ²¡æœ‰é‡Šæ”¾ï¼Œä¸€ç›´è¢«æŸä¸ªæˆ–æŸäº›å®ä¾‹æ‰€æŒæœ‰å´ä¸å†è¢«ä½¿ç”¨å¯¼è‡´ GC ä¸èƒ½å›æ”¶ã€‚æœ€è¿‘è‡ªå·±é˜…è¯»äº†å¤§é‡ç›¸å…³çš„æ–‡æ¡£èµ„æ–™ï¼Œæ‰“ç®—åšä¸ª æ€»ç»“ æ²‰æ·€ä¸‹æ¥è·Ÿå¤§å®¶ä¸€èµ·åˆ†äº«å’Œå­¦ä¹ ï¼Œä¹Ÿç»™è‡ªå·±ä¸€ä¸ªè­¦ç¤ºï¼Œä»¥å coding æ—¶æ€ä¹ˆé¿å…è¿™äº›æƒ…å†µï¼Œæé«˜åº”ç”¨çš„ä½“éªŒå’Œè´¨é‡ã€‚ æˆ‘ä¼šä» java å†…å­˜æ³„æ¼çš„åŸºç¡€çŸ¥è¯†å¼€å§‹ï¼Œå¹¶é€šè¿‡å…·ä½“ä¾‹å­æ¥è¯´æ˜ Android å¼•èµ·å†…å­˜æ³„æ¼çš„å„ç§åŸå› ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨å·¥å…·æ¥åˆ†æåº”ç”¨å†…å­˜æ³„æ¼ï¼Œæœ€åå†åšæ€»ç»“ã€‚ Java å†…å­˜åˆ†é…ç­–ç•¥Java ç¨‹åºè¿è¡Œæ—¶çš„å†…å­˜åˆ†é…ç­–ç•¥æœ‰ä¸‰ç§,åˆ†åˆ«æ˜¯é™æ€åˆ†é…,æ ˆå¼åˆ†é…,å’Œå †å¼åˆ†é…ï¼Œå¯¹åº”çš„ï¼Œä¸‰ç§å­˜å‚¨ç­–ç•¥ä½¿ç”¨çš„å†…å­˜ç©ºé—´ä¸»è¦åˆ†åˆ«æ˜¯é™æ€å­˜å‚¨åŒºï¼ˆä¹Ÿç§°æ–¹æ³•åŒºï¼‰ã€æ ˆåŒºå’Œå †åŒºã€‚ é™æ€å­˜å‚¨åŒºï¼ˆæ–¹æ³•åŒºï¼‰ï¼šä¸»è¦å­˜æ”¾é™æ€æ•°æ®ã€å…¨å±€ static æ•°æ®å’Œå¸¸é‡ã€‚è¿™å—å†…å­˜åœ¨ç¨‹åºç¼–è¯‘æ—¶å°±å·²ç»åˆ†é…å¥½ï¼Œå¹¶ä¸”åœ¨ç¨‹åºæ•´ä¸ªè¿è¡ŒæœŸé—´éƒ½å­˜åœ¨ã€‚ æ ˆåŒº ï¼šå½“æ–¹æ³•è¢«æ‰§è¡Œæ—¶ï¼Œæ–¹æ³•ä½“å†…çš„å±€éƒ¨å˜é‡ï¼ˆå…¶ä¸­åŒ…æ‹¬åŸºç¡€æ•°æ®ç±»å‹ã€å¯¹è±¡çš„å¼•ç”¨ï¼‰éƒ½åœ¨æ ˆä¸Šåˆ›å»ºï¼Œå¹¶åœ¨æ–¹æ³•æ‰§è¡Œç»“æŸæ—¶è¿™äº›å±€éƒ¨å˜é‡æ‰€æŒæœ‰çš„å†…å­˜å°†ä¼šè‡ªåŠ¨è¢«é‡Šæ”¾ã€‚å› ä¸ºæ ˆå†…å­˜åˆ†é…è¿ç®—å†…ç½®äºå¤„ç†å™¨çš„æŒ‡ä»¤é›†ä¸­ï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œä½†æ˜¯åˆ†é…çš„å†…å­˜å®¹é‡æœ‰é™ã€‚ å †åŒº ï¼š åˆç§°åŠ¨æ€å†…å­˜åˆ†é…ï¼Œé€šå¸¸å°±æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œæ—¶ç›´æ¥ new å‡ºæ¥çš„å†…å­˜ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡çš„å®ä¾‹ã€‚è¿™éƒ¨åˆ†å†…å­˜åœ¨ä¸ä½¿ç”¨æ—¶å°†ä¼šç”± Java åƒåœ¾å›æ”¶å™¨æ¥è´Ÿè´£å›æ”¶ã€‚ æ ˆä¸å †çš„åŒºåˆ«ï¼šåœ¨æ–¹æ³•ä½“å†…å®šä¹‰çš„ï¼ˆå±€éƒ¨å˜é‡ï¼‰ä¸€äº›åŸºæœ¬ç±»å‹çš„å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨å˜é‡éƒ½æ˜¯åœ¨æ–¹æ³•çš„æ ˆå†…å­˜ä¸­åˆ†é…çš„ã€‚å½“åœ¨ä¸€æ®µæ–¹æ³•å—ä¸­å®šä¹‰ä¸€ä¸ªå˜é‡æ—¶ï¼ŒJava å°±ä¼šåœ¨æ ˆä¸­ä¸ºè¯¥å˜é‡åˆ†é…å†…å­˜ç©ºé—´ï¼Œå½“è¶…è¿‡è¯¥å˜é‡çš„ä½œç”¨åŸŸåï¼Œè¯¥å˜é‡ä¹Ÿå°±æ— æ•ˆäº†ï¼Œåˆ†é…ç»™å®ƒçš„å†…å­˜ç©ºé—´ä¹Ÿå°†è¢«é‡Šæ”¾æ‰ï¼Œè¯¥å†…å­˜ç©ºé—´å¯ä»¥è¢«é‡æ–°ä½¿ç”¨ã€‚ å †å†…å­˜ç”¨æ¥å­˜æ”¾æ‰€æœ‰ç”± new åˆ›å»ºçš„å¯¹è±¡ï¼ˆåŒ…æ‹¬è¯¥å¯¹è±¡å…¶ä¸­çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼‰å’Œæ•°ç»„ã€‚åœ¨å †ä¸­åˆ†é…çš„å†…å­˜ï¼Œå°†ç”± Java åƒåœ¾å›æ”¶å™¨æ¥è‡ªåŠ¨ç®¡ç†ã€‚åœ¨å †ä¸­äº§ç”Ÿäº†ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯¹è±¡åï¼Œè¿˜å¯ä»¥åœ¨æ ˆä¸­å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ï¼Œè¿™ä¸ªå˜é‡çš„å–å€¼ç­‰äºæ•°ç»„æˆ–è€…å¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„é¦–åœ°å€ï¼Œè¿™ä¸ªç‰¹æ®Šçš„å˜é‡å°±æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´çš„å¼•ç”¨å˜é‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¼•ç”¨å˜é‡æ¥è®¿é—®å †ä¸­çš„å¯¹è±¡æˆ–è€…æ•°ç»„ã€‚ ä¸¾ä¸ªä¾‹å­: 1234567891011public class Sample &#123; int s1 = 0; Sample mSample1 = new Sample(); public void method() &#123; int s2 = 1; Sample mSample2 = new Sample(); &#125;&#125;Sample mSample3 = new Sample(); Sample ç±»çš„å±€éƒ¨å˜é‡ s2 å’Œå¼•ç”¨å˜é‡ mSample2 éƒ½æ˜¯å­˜åœ¨äºæ ˆä¸­ï¼Œä½† mSample2 æŒ‡å‘çš„å¯¹è±¡æ˜¯å­˜åœ¨äºå †ä¸Šçš„ã€‚mSample3 æŒ‡å‘çš„å¯¹è±¡å®ä½“å­˜æ”¾åœ¨å †ä¸Šï¼ŒåŒ…æ‹¬è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡ s1 å’Œ mSample1ï¼Œè€Œå®ƒè‡ªå·±å­˜åœ¨äºæ ˆä¸­ã€‚ ç»“è®ºï¼š å±€éƒ¨å˜é‡çš„åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨å­˜å‚¨äºæ ˆä¸­ï¼Œå¼•ç”¨çš„å¯¹è±¡å®ä½“å­˜å‚¨äºå †ä¸­ã€‚â€”â€” å› ä¸ºå®ƒä»¬å±äºæ–¹æ³•ä¸­çš„å˜é‡ï¼Œç”Ÿå‘½å‘¨æœŸéšæ–¹æ³•è€Œç»“æŸã€‚ æˆå‘˜å˜é‡å…¨éƒ¨å­˜å‚¨ä¸å †ä¸­ï¼ˆåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¼•ç”¨å’Œå¼•ç”¨çš„å¯¹è±¡å®ä½“ï¼‰â€”â€” å› ä¸ºå®ƒä»¬å±äºç±»ï¼Œç±»å¯¹è±¡ç»ˆç©¶æ˜¯è¦è¢«newå‡ºæ¥ä½¿ç”¨çš„ã€‚ äº†è§£äº† Java çš„å†…å­˜åˆ†é…ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ Java æ˜¯æ€ä¹ˆç®¡ç†å†…å­˜çš„ã€‚ Javaæ˜¯å¦‚ä½•ç®¡ç†å†…å­˜Javaçš„å†…å­˜ç®¡ç†å°±æ˜¯å¯¹è±¡çš„åˆ†é…å’Œé‡Šæ”¾é—®é¢˜ã€‚åœ¨ Java ä¸­ï¼Œç¨‹åºå‘˜éœ€è¦é€šè¿‡å…³é”®å­— new ä¸ºæ¯ä¸ªå¯¹è±¡ç”³è¯·å†…å­˜ç©ºé—´ (åŸºæœ¬ç±»å‹é™¤å¤–)ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½åœ¨å † (Heap)ä¸­åˆ†é…ç©ºé—´ã€‚å¦å¤–ï¼Œå¯¹è±¡çš„é‡Šæ”¾æ˜¯ç”± GC å†³å®šå’Œæ‰§è¡Œçš„ã€‚åœ¨ Java ä¸­ï¼Œå†…å­˜çš„åˆ†é…æ˜¯ç”±ç¨‹åºå®Œæˆçš„ï¼Œè€Œå†…å­˜çš„é‡Šæ”¾æ˜¯ç”± GC å®Œæˆçš„ï¼Œè¿™ç§æ”¶æ”¯ä¸¤æ¡çº¿çš„æ–¹æ³•ç¡®å®ç®€åŒ–äº†ç¨‹åºå‘˜çš„å·¥ä½œã€‚ä½†åŒæ—¶ï¼Œå®ƒä¹ŸåŠ é‡äº†JVMçš„å·¥ä½œã€‚è¿™ä¹Ÿæ˜¯ Java ç¨‹åºè¿è¡Œé€Ÿåº¦è¾ƒæ…¢çš„åŸå› ä¹‹ä¸€ã€‚å› ä¸ºï¼ŒGC ä¸ºäº†èƒ½å¤Ÿæ­£ç¡®é‡Šæ”¾å¯¹è±¡ï¼ŒGC å¿…é¡»ç›‘æ§æ¯ä¸€ä¸ªå¯¹è±¡çš„è¿è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬å¯¹è±¡çš„ç”³è¯·ã€å¼•ç”¨ã€è¢«å¼•ç”¨ã€èµ‹å€¼ç­‰ï¼ŒGC éƒ½éœ€è¦è¿›è¡Œç›‘æ§ã€‚ ç›‘è§†å¯¹è±¡çŠ¶æ€æ˜¯ä¸ºäº†æ›´åŠ å‡†ç¡®åœ°ã€åŠæ—¶åœ°é‡Šæ”¾å¯¹è±¡ï¼Œè€Œé‡Šæ”¾å¯¹è±¡çš„æ ¹æœ¬åŸåˆ™å°±æ˜¯è¯¥å¯¹è±¡ä¸å†è¢«å¼•ç”¨ã€‚ ä¸ºäº†æ›´å¥½ç†è§£ GC çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡è€ƒè™‘ä¸ºæœ‰å‘å›¾çš„é¡¶ç‚¹ï¼Œå°†å¼•ç”¨å…³ç³»è€ƒè™‘ä¸ºå›¾çš„æœ‰å‘è¾¹ï¼Œæœ‰å‘è¾¹ä»å¼•ç”¨è€…æŒ‡å‘è¢«å¼•å¯¹è±¡ã€‚å¦å¤–ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹è±¡å¯ä»¥ä½œä¸ºä¸€ä¸ªå›¾çš„èµ·å§‹é¡¶ç‚¹ï¼Œä¾‹å¦‚å¤§å¤šç¨‹åºä» main è¿›ç¨‹å¼€å§‹æ‰§è¡Œï¼Œé‚£ä¹ˆè¯¥å›¾å°±æ˜¯ä»¥ main è¿›ç¨‹é¡¶ç‚¹å¼€å§‹çš„ä¸€æ£µæ ¹æ ‘ã€‚åœ¨è¿™ä¸ªæœ‰å‘å›¾ä¸­ï¼Œæ ¹é¡¶ç‚¹å¯è¾¾çš„å¯¹è±¡éƒ½æ˜¯æœ‰æ•ˆå¯¹è±¡ï¼ŒGCå°†ä¸å›æ”¶è¿™äº›å¯¹è±¡ã€‚å¦‚æœæŸä¸ªå¯¹è±¡ (è¿é€šå­å›¾)ä¸è¿™ä¸ªæ ¹é¡¶ç‚¹ä¸å¯è¾¾(æ³¨æ„ï¼Œè¯¥å›¾ä¸ºæœ‰å‘å›¾)ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸ºè¿™ä¸ª(è¿™äº›)å¯¹è±¡ä¸å†è¢«å¼•ç”¨ï¼Œå¯ä»¥è¢« GC å›æ”¶ã€‚ä»¥ä¸‹ï¼Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­è¯´æ˜å¦‚ä½•ç”¨æœ‰å‘å›¾è¡¨ç¤ºå†…å­˜ç®¡ç†ã€‚å¯¹äºç¨‹åºçš„æ¯ä¸€ä¸ªæ—¶åˆ»ï¼Œæˆ‘ä»¬éƒ½æœ‰ä¸€ä¸ªæœ‰å‘å›¾è¡¨ç¤ºJVMçš„å†…å­˜åˆ†é…æƒ…å†µã€‚ä»¥ä¸‹å³å›¾ï¼Œå°±æ˜¯å·¦è¾¹ç¨‹åºè¿è¡Œåˆ°ç¬¬6è¡Œçš„ç¤ºæ„å›¾ã€‚ Javaä½¿ç”¨æœ‰å‘å›¾çš„æ–¹å¼è¿›è¡Œå†…å­˜ç®¡ç†ï¼Œå¯ä»¥æ¶ˆé™¤å¼•ç”¨å¾ªç¯çš„é—®é¢˜ï¼Œä¾‹å¦‚æœ‰ä¸‰ä¸ªå¯¹è±¡ï¼Œç›¸äº’å¼•ç”¨ï¼Œåªè¦å®ƒä»¬å’Œæ ¹è¿›ç¨‹ä¸å¯è¾¾çš„ï¼Œé‚£ä¹ˆGCä¹Ÿæ˜¯å¯ä»¥å›æ”¶å®ƒä»¬çš„ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯ç®¡ç†å†…å­˜çš„ç²¾åº¦å¾ˆé«˜ï¼Œä½†æ˜¯æ•ˆç‡è¾ƒä½ã€‚å¦å¤–ä¸€ç§å¸¸ç”¨çš„å†…å­˜ç®¡ç†æŠ€æœ¯æ˜¯ä½¿ç”¨è®¡æ•°å™¨ï¼Œä¾‹å¦‚COMæ¨¡å‹é‡‡ç”¨è®¡æ•°å™¨æ–¹å¼ç®¡ç†æ„ä»¶ï¼Œå®ƒä¸æœ‰å‘å›¾ç›¸æ¯”ï¼Œç²¾åº¦è¡Œä½(å¾ˆéš¾å¤„ç†å¾ªç¯å¼•ç”¨çš„é—®é¢˜)ï¼Œä½†æ‰§è¡Œæ•ˆç‡å¾ˆé«˜ã€‚ ä»€ä¹ˆæ˜¯Javaä¸­çš„å†…å­˜æ³„éœ²åœ¨Javaä¸­ï¼Œå†…å­˜æ³„æ¼å°±æ˜¯å­˜åœ¨ä¸€äº›è¢«åˆ†é…çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡æœ‰ä¸‹é¢ä¸¤ä¸ªç‰¹ç‚¹ï¼Œé¦–å…ˆï¼Œè¿™äº›å¯¹è±¡æ˜¯å¯è¾¾çš„ï¼Œå³åœ¨æœ‰å‘å›¾ä¸­ï¼Œå­˜åœ¨é€šè·¯å¯ä»¥ä¸å…¶ç›¸è¿ï¼›å…¶æ¬¡ï¼Œè¿™äº›å¯¹è±¡æ˜¯æ— ç”¨çš„ï¼Œå³ç¨‹åºä»¥åä¸ä¼šå†ä½¿ç”¨è¿™äº›å¯¹è±¡ã€‚å¦‚æœå¯¹è±¡æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶ï¼Œè¿™äº›å¯¹è±¡å°±å¯ä»¥åˆ¤å®šä¸ºJavaä¸­çš„å†…å­˜æ³„æ¼ï¼Œè¿™äº›å¯¹è±¡ä¸ä¼šè¢«GCæ‰€å›æ”¶ï¼Œç„¶è€Œå®ƒå´å ç”¨å†…å­˜ã€‚ åœ¨C++ä¸­ï¼Œå†…å­˜æ³„æ¼çš„èŒƒå›´æ›´å¤§ä¸€äº›ã€‚æœ‰äº›å¯¹è±¡è¢«åˆ†é…äº†å†…å­˜ç©ºé—´ï¼Œç„¶åå´ä¸å¯è¾¾ï¼Œç”±äºC++ä¸­æ²¡æœ‰GCï¼Œè¿™äº›å†…å­˜å°†æ°¸è¿œæ”¶ä¸å›æ¥ã€‚åœ¨Javaä¸­ï¼Œè¿™äº›ä¸å¯è¾¾çš„å¯¹è±¡éƒ½ç”±GCè´Ÿè´£å›æ”¶ï¼Œå› æ­¤ç¨‹åºå‘˜ä¸éœ€è¦è€ƒè™‘è¿™éƒ¨åˆ†çš„å†…å­˜æ³„éœ²ã€‚ é€šè¿‡åˆ†æï¼Œæˆ‘ä»¬å¾—çŸ¥ï¼Œå¯¹äºC++ï¼Œç¨‹åºå‘˜éœ€è¦è‡ªå·±ç®¡ç†è¾¹å’Œé¡¶ç‚¹ï¼Œè€Œå¯¹äºJavaç¨‹åºå‘˜åªéœ€è¦ç®¡ç†è¾¹å°±å¯ä»¥äº†(ä¸éœ€è¦ç®¡ç†é¡¶ç‚¹çš„é‡Šæ”¾)ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒJavaæé«˜äº†ç¼–ç¨‹çš„æ•ˆç‡ã€‚ å› æ­¤ï¼Œé€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬çŸ¥é“åœ¨Javaä¸­ä¹Ÿæœ‰å†…å­˜æ³„æ¼ï¼Œä½†èŒƒå›´æ¯”C++è¦å°ä¸€äº›ã€‚å› ä¸ºJavaä»è¯­è¨€ä¸Šä¿è¯ï¼Œä»»ä½•å¯¹è±¡éƒ½æ˜¯å¯è¾¾çš„ï¼Œæ‰€æœ‰çš„ä¸å¯è¾¾å¯¹è±¡éƒ½ç”±GCç®¡ç†ã€‚ å¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼ŒGCåŸºæœ¬æ˜¯é€æ˜çš„ï¼Œä¸å¯è§çš„ã€‚è™½ç„¶ï¼Œæˆ‘ä»¬åªæœ‰å‡ ä¸ªå‡½æ•°å¯ä»¥è®¿é—®GCï¼Œä¾‹å¦‚è¿è¡ŒGCçš„å‡½æ•°System.gc()ï¼Œä½†æ˜¯æ ¹æ®Javaè¯­è¨€è§„èŒƒå®šä¹‰ï¼Œ è¯¥å‡½æ•°ä¸ä¿è¯JVMçš„åƒåœ¾æ”¶é›†å™¨ä¸€å®šä¼šæ‰§è¡Œã€‚å› ä¸ºï¼Œä¸åŒçš„JVMå®ç°è€…å¯èƒ½ä½¿ç”¨ä¸åŒçš„ç®—æ³•ç®¡ç†GCã€‚é€šå¸¸ï¼ŒGCçš„çº¿ç¨‹çš„ä¼˜å…ˆçº§åˆ«è¾ƒä½ã€‚JVMè°ƒç”¨GCçš„ç­–ç•¥ä¹Ÿæœ‰å¾ˆå¤šç§ï¼Œæœ‰çš„æ˜¯å†…å­˜ä½¿ç”¨åˆ°è¾¾ä¸€å®šç¨‹åº¦æ—¶ï¼ŒGCæ‰å¼€å§‹å·¥ä½œï¼Œä¹Ÿæœ‰å®šæ—¶æ‰§è¡Œçš„ï¼Œæœ‰çš„æ˜¯å¹³ç¼“æ‰§è¡ŒGCï¼Œæœ‰çš„æ˜¯ä¸­æ–­å¼æ‰§è¡ŒGCã€‚ä½†é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¿™äº›ã€‚é™¤éåœ¨ä¸€äº›ç‰¹å®šçš„åœºåˆï¼ŒGCçš„æ‰§è¡Œå½±å“åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œä¾‹å¦‚å¯¹äºåŸºäºWebçš„å®æ—¶ç³»ç»Ÿï¼Œå¦‚ç½‘ç»œæ¸¸æˆç­‰ï¼Œç”¨æˆ·ä¸å¸Œæœ›GCçªç„¶ä¸­æ–­åº”ç”¨ç¨‹åºæ‰§è¡Œè€Œè¿›è¡Œåƒåœ¾å›æ”¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è°ƒæ•´GCçš„å‚æ•°ï¼Œè®©GCèƒ½å¤Ÿé€šè¿‡å¹³ç¼“çš„æ–¹å¼é‡Šæ”¾å†…å­˜ï¼Œä¾‹å¦‚å°†åƒåœ¾å›æ”¶åˆ†è§£ä¸ºä¸€ç³»åˆ—çš„å°æ­¥éª¤æ‰§è¡Œï¼ŒSunæä¾›çš„HotSpot JVMå°±æ”¯æŒè¿™ä¸€ç‰¹æ€§ã€‚ åŒæ ·ç»™å‡ºä¸€ä¸ª Java å†…å­˜æ³„æ¼çš„å…¸å‹ä¾‹å­ï¼Œ 123456Vector v = new Vector(10);for (int i = 1; i &lt; 100; i++) &#123; Object o = new Object(); v.add(o); o = null; &#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¾ªç¯ç”³è¯·Objectå¯¹è±¡ï¼Œå¹¶å°†æ‰€ç”³è¯·çš„å¯¹è±¡æ”¾å…¥ä¸€ä¸ª Vector ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…é‡Šæ”¾å¼•ç”¨æœ¬èº«ï¼Œé‚£ä¹ˆ Vector ä»ç„¶å¼•ç”¨è¯¥å¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡å¯¹ GC æ¥è¯´æ˜¯ä¸å¯å›æ”¶çš„ã€‚å› æ­¤ï¼Œå¦‚æœå¯¹è±¡åŠ å…¥åˆ°Vector åï¼Œè¿˜å¿…é¡»ä» Vector ä¸­åˆ é™¤ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å°† Vector å¯¹è±¡è®¾ç½®ä¸º nullã€‚ è¯¦ç»†Javaä¸­çš„å†…å­˜æ³„æ¼ 1.Javaå†…å­˜å›æ”¶æœºåˆ¶ ä¸è®ºå“ªç§è¯­è¨€çš„å†…å­˜åˆ†é…æ–¹å¼ï¼Œéƒ½éœ€è¦è¿”å›æ‰€åˆ†é…å†…å­˜çš„çœŸå®åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¿”å›ä¸€ä¸ªæŒ‡é’ˆåˆ°å†…å­˜å—çš„é¦–åœ°å€ã€‚Javaä¸­å¯¹è±¡æ˜¯é‡‡ç”¨newæˆ–è€…åå°„çš„æ–¹æ³•åˆ›å»ºçš„ï¼Œè¿™äº›å¯¹è±¡çš„åˆ›å»ºéƒ½æ˜¯åœ¨å †ï¼ˆHeapï¼‰ä¸­åˆ†é…çš„ï¼Œæ‰€æœ‰å¯¹è±¡çš„å›æ”¶éƒ½æ˜¯ç”±Javaè™šæ‹Ÿæœºé€šè¿‡åƒåœ¾å›æ”¶æœºåˆ¶å®Œæˆçš„ã€‚GCä¸ºäº†èƒ½å¤Ÿæ­£ç¡®é‡Šæ”¾å¯¹è±¡ï¼Œä¼šç›‘æ§æ¯ä¸ªå¯¹è±¡çš„è¿è¡ŒçŠ¶å†µï¼Œå¯¹ä»–ä»¬çš„ç”³è¯·ã€å¼•ç”¨ã€è¢«å¼•ç”¨ã€èµ‹å€¼ç­‰çŠ¶å†µè¿›è¡Œç›‘æ§ï¼ŒJavaä¼šä½¿ç”¨æœ‰å‘å›¾çš„æ–¹æ³•è¿›è¡Œç®¡ç†å†…å­˜ï¼Œå®æ—¶ç›‘æ§å¯¹è±¡æ˜¯å¦å¯ä»¥è¾¾åˆ°ï¼Œå¦‚æœä¸å¯åˆ°è¾¾ï¼Œåˆ™å°±å°†å…¶å›æ”¶ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥æ¶ˆé™¤å¼•ç”¨å¾ªç¯çš„é—®é¢˜ã€‚åœ¨Javaè¯­è¨€ä¸­ï¼Œåˆ¤æ–­ä¸€ä¸ªå†…å­˜ç©ºé—´æ˜¯å¦ç¬¦åˆåƒåœ¾æ”¶é›†æ ‡å‡†æœ‰ä¸¤ä¸ªï¼šä¸€ä¸ªæ˜¯ç»™å¯¹è±¡èµ‹äºˆäº†ç©ºå€¼nullï¼Œä»¥ä¸‹å†æ²¡æœ‰è°ƒç”¨è¿‡ï¼Œå¦ä¸€ä¸ªæ˜¯ç»™å¯¹è±¡èµ‹äºˆäº†æ–°å€¼ï¼Œè¿™æ ·é‡æ–°åˆ†é…äº†å†…å­˜ç©ºé—´ã€‚ 2.Javaå†…å­˜æ³„æ¼å¼•èµ·çš„åŸå›  å†…å­˜æ³„æ¼æ˜¯æŒ‡æ— ç”¨å¯¹è±¡ï¼ˆä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼‰æŒç»­å æœ‰å†…å­˜æˆ–æ— ç”¨å¯¹è±¡çš„å†…å­˜å¾—ä¸åˆ°åŠæ—¶é‡Šæ”¾ï¼Œä»è€Œé€ æˆå†…å­˜ç©ºé—´çš„æµªè´¹ç§°ä¸ºå†…å­˜æ³„æ¼ã€‚å†…å­˜æ³„éœ²æœ‰æ—¶ä¸ä¸¥é‡ä¸”ä¸æ˜“å¯Ÿè§‰ï¼Œè¿™æ ·å¼€å‘è€…å°±ä¸çŸ¥é“å­˜åœ¨å†…å­˜æ³„éœ²ï¼Œä½†æœ‰æ—¶ä¹Ÿä¼šå¾ˆä¸¥é‡ï¼Œä¼šæç¤ºä½ Out of memoryã€‚j Javaå†…å­˜æ³„æ¼çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡æŒæœ‰çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡çš„å¼•ç”¨å°±å¾ˆå¯èƒ½å‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œå°½ç®¡çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡å·²ç»ä¸å†éœ€è¦ï¼Œä½†æ˜¯å› ä¸ºé•¿ç”Ÿå‘½å‘¨æœŸæŒæœ‰å®ƒçš„å¼•ç”¨è€Œå¯¼è‡´ä¸èƒ½è¢«å›æ”¶ï¼Œè¿™å°±æ˜¯Javaä¸­å†…å­˜æ³„æ¼çš„å‘ç”Ÿåœºæ™¯ã€‚å…·ä½“ä¸»è¦æœ‰å¦‚ä¸‹å‡ å¤§ç±»ï¼š 1ã€é™æ€é›†åˆç±»å¼•èµ·å†…å­˜æ³„æ¼ï¼š åƒHashMapã€Vectorç­‰çš„ä½¿ç”¨æœ€å®¹æ˜“å‡ºç°å†…å­˜æ³„éœ²ï¼Œè¿™äº›é™æ€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå’Œåº”ç”¨ç¨‹åºä¸€è‡´ï¼Œä»–ä»¬æ‰€å¼•ç”¨çš„æ‰€æœ‰çš„å¯¹è±¡Objectä¹Ÿä¸èƒ½è¢«é‡Šæ”¾ï¼Œå› ä¸ºä»–ä»¬ä¹Ÿå°†ä¸€ç›´è¢«Vectorç­‰å¼•ç”¨ç€ã€‚ ä¾‹å¦‚ 1234567Static Vector v = new Vector(10);for (int i = 1; i&lt;100; i++)&#123;Object o = new Object();v.add(o);o = null;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¾ªç¯ç”³è¯·Object å¯¹è±¡ï¼Œå¹¶å°†æ‰€ç”³è¯·çš„å¯¹è±¡æ”¾å…¥ä¸€ä¸ªVector ä¸­ï¼Œå¦‚æœä»…ä»…é‡Šæ”¾å¼•ç”¨æœ¬èº«ï¼ˆo=nullï¼‰ï¼Œé‚£ä¹ˆVector ä»ç„¶å¼•ç”¨è¯¥å¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡å¯¹GC æ¥è¯´æ˜¯ä¸å¯å›æ”¶çš„ã€‚å› æ­¤ï¼Œå¦‚æœå¯¹è±¡åŠ å…¥åˆ°Vector åï¼Œè¿˜å¿…é¡»ä»Vector ä¸­åˆ é™¤ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å°†Vectorå¯¹è±¡è®¾ç½®ä¸ºnullã€‚ 2ã€å½“é›†åˆé‡Œé¢çš„å¯¹è±¡å±æ€§è¢«ä¿®æ”¹åï¼Œå†è°ƒç”¨remove()æ–¹æ³•æ—¶ä¸èµ·ä½œç”¨ã€‚ ä¾‹å¦‚ï¼š 123456789101112131415161718192021public static void main(String[] args)&#123;Set&lt;Person&gt; set = new HashSet&lt;Person&gt;();Person p1 = new Person(\"å”åƒ§\",\"pwd1\",25);Person p2 = new Person(\"å­™æ‚Ÿç©º\",\"pwd2\",26);Person p3 = new Person(\"çŒªå…«æˆ’\",\"pwd3\",27);set.add(p1);set.add(p2);set.add(p3);System.out.println(\"æ€»å…±æœ‰:\"+set.size()+\" ä¸ªå…ƒç´ !\"); //ç»“æœï¼šæ€»å…±æœ‰:3 ä¸ªå…ƒç´ !p3.setAge(2); //ä¿®æ”¹p3çš„å¹´é¾„,æ­¤æ—¶p3å…ƒç´ å¯¹åº”çš„hashcodeå€¼å‘ç”Ÿæ”¹å˜set.remove(p3); //æ­¤æ—¶removeä¸æ‰ï¼Œé€ æˆå†…å­˜æ³„æ¼set.add(p3); //é‡æ–°æ·»åŠ ï¼Œå±…ç„¶æ·»åŠ æˆåŠŸSystem.out.println(\"æ€»å…±æœ‰:\"+set.size()+\" ä¸ªå…ƒç´ !\"); //ç»“æœï¼šæ€»å…±æœ‰:4 ä¸ªå…ƒç´ !for (Person person : set)&#123;System.out.println(person);&#125;&#125; 3ã€ç›‘å¬å™¨ åœ¨java ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å’Œç›‘å¬å™¨æ‰“äº¤é“ï¼Œé€šå¸¸ä¸€ä¸ªåº”ç”¨å½“ä¸­ä¼šç”¨åˆ°å¾ˆå¤šç›‘å¬å™¨ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ä¸€ä¸ªæ§ä»¶çš„è¯¸å¦‚addXXXListener()ç­‰æ–¹æ³•æ¥å¢åŠ ç›‘å¬å™¨ï¼Œä½†å¾€å¾€åœ¨é‡Šæ”¾å¯¹è±¡çš„æ—¶å€™å´æ²¡æœ‰è®°ä½å»åˆ é™¤è¿™äº›ç›‘å¬å™¨ï¼Œä»è€Œå¢åŠ äº†å†…å­˜æ³„æ¼çš„æœºä¼šã€‚ 4ã€å„ç§è¿æ¥ æ¯”å¦‚æ•°æ®åº“è¿æ¥ï¼ˆdataSourse.getConnection()ï¼‰ï¼Œç½‘ç»œè¿æ¥(socket)å’Œioè¿æ¥ï¼Œé™¤éå…¶æ˜¾å¼çš„è°ƒç”¨äº†å…¶closeï¼ˆï¼‰æ–¹æ³•å°†å…¶è¿æ¥å…³é—­ï¼Œå¦åˆ™æ˜¯ä¸ä¼šè‡ªåŠ¨è¢«GC å›æ”¶çš„ã€‚å¯¹äºResultset å’ŒStatement å¯¹è±¡å¯ä»¥ä¸è¿›è¡Œæ˜¾å¼å›æ”¶ï¼Œä½†Connection ä¸€å®šè¦æ˜¾å¼å›æ”¶ï¼Œå› ä¸ºConnection åœ¨ä»»ä½•æ—¶å€™éƒ½æ— æ³•è‡ªåŠ¨å›æ”¶ï¼Œè€ŒConnectionä¸€æ—¦å›æ”¶ï¼ŒResultset å’ŒStatement å¯¹è±¡å°±ä¼šç«‹å³ä¸ºNULLã€‚ä½†æ˜¯å¦‚æœä½¿ç”¨è¿æ¥æ± ï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†ï¼Œé™¤äº†è¦æ˜¾å¼åœ°å…³é—­è¿æ¥ï¼Œè¿˜å¿…é¡»æ˜¾å¼åœ°å…³é—­Resultset Statement å¯¹è±¡ï¼ˆå…³é—­å…¶ä¸­ä¸€ä¸ªï¼Œå¦å¤–ä¸€ä¸ªä¹Ÿä¼šå…³é—­ï¼‰ï¼Œå¦åˆ™å°±ä¼šé€ æˆå¤§é‡çš„Statement å¯¹è±¡æ— æ³•é‡Šæ”¾ï¼Œä»è€Œå¼•èµ·å†…å­˜æ³„æ¼ã€‚è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬éƒ½ä¼šåœ¨tryé‡Œé¢å»çš„è¿æ¥ï¼Œåœ¨finallyé‡Œé¢é‡Šæ”¾è¿æ¥ã€‚ 5ã€å†…éƒ¨ç±»å’Œå¤–éƒ¨æ¨¡å—çš„å¼•ç”¨ å†…éƒ¨ç±»çš„å¼•ç”¨æ˜¯æ¯”è¾ƒå®¹æ˜“é—å¿˜çš„ä¸€ç§ï¼Œè€Œä¸”ä¸€æ—¦æ²¡é‡Šæ”¾å¯èƒ½å¯¼è‡´ä¸€ç³»åˆ—çš„åç»§ç±»å¯¹è±¡æ²¡æœ‰é‡Šæ”¾ã€‚æ­¤å¤–ç¨‹åºå‘˜è¿˜è¦å°å¿ƒå¤–éƒ¨æ¨¡å—ä¸ç»æ„çš„å¼•ç”¨ï¼Œä¾‹å¦‚ç¨‹åºå‘˜A è´Ÿè´£A æ¨¡å—ï¼Œè°ƒç”¨äº†B æ¨¡å—çš„ä¸€ä¸ªæ–¹æ³•å¦‚ï¼špublic void registerMsg(Object b);è¿™ç§è°ƒç”¨å°±è¦éå¸¸å°å¿ƒäº†ï¼Œä¼ å…¥äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¾ˆå¯èƒ½æ¨¡å—Bå°±ä¿æŒäº†å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ³¨æ„æ¨¡å—B æ˜¯å¦æä¾›ç›¸åº”çš„æ“ä½œå»é™¤å¼•ç”¨ã€‚ 6ã€å•ä¾‹æ¨¡å¼ ä¸æ­£ç¡®ä½¿ç”¨å•ä¾‹æ¨¡å¼æ˜¯å¼•èµ·å†…å­˜æ³„æ¼çš„ä¸€ä¸ªå¸¸è§é—®é¢˜ï¼Œå•ä¾‹å¯¹è±¡åœ¨åˆå§‹åŒ–åå°†åœ¨JVMçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­å­˜åœ¨ï¼ˆä»¥é™æ€å˜é‡çš„æ–¹å¼ï¼‰ï¼Œå¦‚æœå•ä¾‹å¯¹è±¡æŒæœ‰å¤–éƒ¨çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°†ä¸èƒ½è¢«JVMæ­£å¸¸å›æ”¶ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼š 12345678910111213141516171819class A&#123;public A()&#123;B.getInstance().setA(this);&#125;....&#125;//Bç±»é‡‡ç”¨å•ä¾‹æ¨¡å¼class B&#123;private A a;private static B instance=new B();public B()&#123;&#125;public static B getInstance()&#123;return instance;&#125;public void setA(A a)&#123;this.a=a;&#125;//getter...&#125; æ˜¾ç„¶Bé‡‡ç”¨singletonæ¨¡å¼ï¼Œå®ƒæŒæœ‰ä¸€ä¸ªAå¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªAç±»çš„å¯¹è±¡å°†ä¸èƒ½è¢«å›æ”¶ã€‚æƒ³è±¡ä¸‹å¦‚æœAæ˜¯ä¸ªæ¯”è¾ƒå¤æ‚çš„å¯¹è±¡æˆ–è€…é›†åˆç±»å‹ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µ Androidä¸­å¸¸è§çš„å†…å­˜æ³„æ¼æ±‡æ€» é›†åˆç±»æ³„æ¼é›†åˆç±»å¦‚æœä»…ä»…æœ‰æ·»åŠ å…ƒç´ çš„æ–¹æ³•ï¼Œè€Œæ²¡æœ‰ç›¸åº”çš„åˆ é™¤æœºåˆ¶ï¼Œå¯¼è‡´å†…å­˜è¢«å ç”¨ã€‚å¦‚æœè¿™ä¸ªé›†åˆç±»æ˜¯å…¨å±€æ€§çš„å˜é‡ (æ¯”å¦‚ç±»ä¸­çš„é™æ€å±æ€§ï¼Œå…¨å±€æ€§çš„ map ç­‰å³æœ‰é™æ€å¼•ç”¨æˆ– final ä¸€ç›´æŒ‡å‘å®ƒ)ï¼Œé‚£ä¹ˆæ²¡æœ‰ç›¸åº”çš„åˆ é™¤æœºåˆ¶ï¼Œå¾ˆå¯èƒ½å¯¼è‡´é›†åˆæ‰€å ç”¨çš„å†…å­˜åªå¢ä¸å‡ã€‚æ¯”å¦‚ä¸Šé¢çš„å…¸å‹ä¾‹å­å°±æ˜¯å…¶ä¸­ä¸€ç§æƒ…å†µï¼Œå½“ç„¶å®é™…ä¸Šæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­è‚¯å®šä¸ä¼šå†™è¿™ä¹ˆ 2B çš„ä»£ç ï¼Œä½†ç¨ä¸æ³¨æ„è¿˜æ˜¯å¾ˆå®¹æ˜“å‡ºç°è¿™ç§æƒ…å†µï¼Œæ¯”å¦‚æˆ‘ä»¬éƒ½å–œæ¬¢é€šè¿‡ HashMap åšä¸€äº›ç¼“å­˜ä¹‹ç±»çš„äº‹ï¼Œè¿™ç§æƒ…å†µå°±è¦å¤šç•™ä¸€äº›å¿ƒçœ¼ã€‚ å•ä¾‹é€ æˆçš„å†…å­˜æ³„æ¼ç”±äºå•ä¾‹çš„é™æ€ç‰¹æ€§ä½¿å¾—å…¶ç”Ÿå‘½å‘¨æœŸè·Ÿåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·é•¿ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨ä¸æ°å½“çš„è¯ï¼Œå¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ã€‚æ¯”å¦‚ä¸‹é¢ä¸€ä¸ªå…¸å‹çš„ä¾‹å­ï¼Œ 12345678910111213public class AppManager &#123;private static AppManager instance;private Context context;private AppManager(Context context) &#123;this.context = context;&#125;public static AppManager getInstance(Context context) &#123;if (instance == null) &#123;instance = new AppManager(context);&#125;return instance;&#125;&#125; è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„å•ä¾‹æ¨¡å¼ï¼Œå½“åˆ›å»ºè¿™ä¸ªå•ä¾‹çš„æ—¶å€™ï¼Œç”±äºéœ€è¦ä¼ å…¥ä¸€ä¸ªContextï¼Œæ‰€ä»¥è¿™ä¸ªContextçš„ç”Ÿå‘½å‘¨æœŸçš„é•¿çŸ­è‡³å…³é‡è¦ï¼š 1ã€å¦‚æœæ­¤æ—¶ä¼ å…¥çš„æ˜¯ Application çš„ Contextï¼Œå› ä¸º Application çš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¯æ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥è¿™å°†æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ 2ã€å¦‚æœæ­¤æ—¶ä¼ å…¥çš„æ˜¯ Activity çš„ Contextï¼Œå½“è¿™ä¸ª Context æ‰€å¯¹åº”çš„ Activity é€€å‡ºæ—¶ï¼Œç”±äºè¯¥ Context çš„å¼•ç”¨è¢«å•ä¾‹å¯¹è±¡æ‰€æŒæœ‰ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸç­‰äºæ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰€ä»¥å½“å‰ Activity é€€å‡ºæ—¶å®ƒçš„å†…å­˜å¹¶ä¸ä¼šè¢«å›æ”¶ï¼Œè¿™å°±é€ æˆæ³„æ¼äº†ã€‚ æ­£ç¡®çš„æ–¹å¼åº”è¯¥æ”¹ä¸ºä¸‹é¢è¿™ç§æ–¹å¼ï¼š 12345678910111213public class AppManager &#123;private static AppManager instance;private Context context;private AppManager(Context context) &#123;this.context = context.getApplicationContext();// ä½¿ç”¨Application çš„context&#125;public static AppManager getInstance(Context context) &#123;if (instance == null) &#123;instance = new AppManager(context);&#125;return instance;&#125;&#125; æˆ–è€…è¿™æ ·å†™ï¼Œè¿ Context éƒ½ä¸ç”¨ä¼ è¿›æ¥äº†ï¼š 12345678910111213141516171819202122232425262728åœ¨ä½ çš„ Application ä¸­æ·»åŠ ä¸€ä¸ªé™æ€æ–¹æ³•ï¼ŒgetContext() è¿”å› Application çš„ contextï¼Œ...context = getApplicationContext();... /** * è·å–å…¨å±€çš„context * @return è¿”å›å…¨å±€contextå¯¹è±¡ */ public static Context getContext()&#123; return context; &#125;public class AppManager &#123;private static AppManager instance;private Context context;private AppManager() &#123;this.context = MyApplication.getContext();// ä½¿ç”¨Application çš„context&#125;public static AppManager getInstance() &#123;if (instance == null) &#123;instance = new AppManager();&#125;return instance;&#125;&#125; åŒ¿åå†…éƒ¨ç±»/éé™æ€å†…éƒ¨ç±»å’Œå¼‚æ­¥çº¿ç¨‹éé™æ€å†…éƒ¨ç±»åˆ›å»ºé™æ€å®ä¾‹é€ æˆçš„å†…å­˜æ³„æ¼ æœ‰çš„æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šåœ¨å¯åŠ¨é¢‘ç¹çš„Activityä¸­ï¼Œä¸ºäº†é¿å…é‡å¤åˆ›å»ºç›¸åŒçš„æ•°æ®èµ„æºï¼Œå¯èƒ½ä¼šå‡ºç°è¿™ç§å†™æ³•ï¼š 123456789101112131415public class MainActivity extends AppCompatActivity &#123;private static TestResource mResource = null;@Overrideprotected void onCreate(Bundle savedInstanceState) &#123;super.onCreate(savedInstanceState);setContentView(R.layout.activity_main);if(mManager == null)&#123;mManager = new TestResource();&#125;//...&#125;class TestResource &#123;//...&#125;&#125; è¿™æ ·å°±åœ¨Activityå†…éƒ¨åˆ›å»ºäº†ä¸€ä¸ªéé™æ€å†…éƒ¨ç±»çš„å•ä¾‹ï¼Œæ¯æ¬¡å¯åŠ¨Activityæ—¶éƒ½ä¼šä½¿ç”¨è¯¥å•ä¾‹çš„æ•°æ®ï¼Œè¿™æ ·è™½ç„¶é¿å…äº†èµ„æºçš„é‡å¤åˆ›å»ºï¼Œä¸è¿‡è¿™ç§å†™æ³•å´ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Œå› ä¸ºéé™æ€å†…éƒ¨ç±»é»˜è®¤ä¼šæŒæœ‰å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œè€Œè¯¥éé™æ€å†…éƒ¨ç±»åˆåˆ›å»ºäº†ä¸€ä¸ªé™æ€çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸå’Œåº”ç”¨çš„ä¸€æ ·é•¿ï¼Œè¿™å°±å¯¼è‡´äº†è¯¥é™æ€å®ä¾‹ä¸€ç›´ä¼šæŒæœ‰è¯¥Activityçš„å¼•ç”¨ï¼Œå¯¼è‡´Activityçš„å†…å­˜èµ„æºä¸èƒ½æ­£å¸¸å›æ”¶ã€‚æ­£ç¡®çš„åšæ³•ä¸ºï¼š å°†è¯¥å†…éƒ¨ç±»è®¾ä¸ºé™æ€å†…éƒ¨ç±»æˆ–å°†è¯¥å†…éƒ¨ç±»æŠ½å–å‡ºæ¥å°è£…æˆä¸€ä¸ªå•ä¾‹ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨Contextï¼Œè¯·æŒ‰ç…§ä¸Šé¢æ¨èçš„ä½¿ç”¨Application çš„ Contextã€‚å½“ç„¶ï¼ŒApplication çš„ context ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸èƒ½éšä¾¿ä¹±ç”¨ï¼Œå¯¹äºæœ‰äº›åœ°æ–¹åˆ™å¿…é¡»ä½¿ç”¨ Activity çš„ Contextï¼Œå¯¹äºApplicationï¼ŒServiceï¼ŒActivityä¸‰è€…çš„Contextçš„åº”ç”¨åœºæ™¯å¦‚ä¸‹ï¼š å…¶ä¸­ï¼š NO1è¡¨ç¤º Application å’Œ Service å¯ä»¥å¯åŠ¨ä¸€ä¸ª Activityï¼Œä¸è¿‡éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ task ä»»åŠ¡é˜Ÿåˆ—ã€‚è€Œå¯¹äº Dialog è€Œè¨€ï¼Œåªæœ‰åœ¨ Activity ä¸­æ‰èƒ½åˆ›å»º åŒ¿åå†…éƒ¨ç±»androidå¼€å‘ç»å¸¸ä¼šç»§æ‰¿å®ç°Activity/Fragment/Viewï¼Œæ­¤æ—¶å¦‚æœä½ ä½¿ç”¨äº†åŒ¿åç±»ï¼Œå¹¶è¢«å¼‚æ­¥çº¿ç¨‹æŒæœ‰äº†ï¼Œé‚£è¦å°å¿ƒäº†ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æªæ–½è¿™æ ·ä¸€å®šä¼šå¯¼è‡´æ³„éœ² 1234567891011public class MainActivity extends Activity &#123;...Runnable ref1 = new MyRunable();Runnable ref2 = new Runnable() &#123; @Override public void run() &#123; &#125;&#125;; ...&#125; ref1å’Œref2çš„åŒºåˆ«æ˜¯ï¼Œref2ä½¿ç”¨äº†åŒ¿åå†…éƒ¨ç±»ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹è¿è¡Œæ—¶è¿™ä¸¤ä¸ªå¼•ç”¨çš„å†…å­˜ï¼š å¯ä»¥çœ‹åˆ°ï¼Œref1æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ã€‚ ä½†ref2è¿™ä¸ªåŒ¿åç±»çš„å®ç°å¯¹è±¡é‡Œé¢å¤šäº†ä¸€ä¸ªå¼•ç”¨ï¼š this$0è¿™ä¸ªå¼•ç”¨æŒ‡å‘MainActivity.thisï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰çš„MainActivityå®ä¾‹ä¼šè¢«ref2æŒæœ‰ï¼Œå¦‚æœå°†è¿™ä¸ªå¼•ç”¨å†ä¼ å…¥ä¸€ä¸ªå¼‚æ­¥çº¿ç¨‹ï¼Œæ­¤çº¿ç¨‹å’Œæ­¤Acitivityç”Ÿå‘½å‘¨æœŸä¸ä¸€è‡´çš„æ—¶å€™ï¼Œå°±é€ æˆäº†Activityçš„æ³„éœ²ã€‚ Handler é€ æˆçš„å†…å­˜æ³„æ¼Handler çš„ä½¿ç”¨é€ æˆçš„å†…å­˜æ³„æ¼é—®é¢˜åº”è¯¥è¯´æ˜¯æœ€ä¸ºå¸¸è§äº†ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸ºäº†é¿å… ANR è€Œä¸åœ¨ä¸»çº¿ç¨‹è¿›è¡Œè€—æ—¶æ“ä½œï¼Œåœ¨å¤„ç†ç½‘ç»œä»»åŠ¡æˆ–è€…å°è£…ä¸€äº›è¯·æ±‚å›è°ƒç­‰apiéƒ½å€ŸåŠ©Handleræ¥å¤„ç†ï¼Œä½† Handler ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå¯¹äº Handler çš„ä½¿ç”¨ä»£ç ç¼–å†™ä¸€ä¸è§„èŒƒå³æœ‰å¯èƒ½é€ æˆå†…å­˜æ³„æ¼ã€‚å¦å¤–ï¼Œæˆ‘ä»¬çŸ¥é“ Handlerã€Message å’Œ MessageQueue éƒ½æ˜¯ç›¸äº’å…³è”åœ¨ä¸€èµ·çš„ï¼Œä¸‡ä¸€ Handler å‘é€çš„ Message å°šæœªè¢«å¤„ç†ï¼Œåˆ™è¯¥ Message åŠå‘é€å®ƒçš„ Handler å¯¹è±¡å°†è¢«çº¿ç¨‹ MessageQueue ä¸€ç›´æŒæœ‰ã€‚ ç”±äº Handler å±äº TLS(Thread Local Storage) å˜é‡, ç”Ÿå‘½å‘¨æœŸå’Œ Activity æ˜¯ä¸ä¸€è‡´çš„ã€‚å› æ­¤è¿™ç§å®ç°æ–¹å¼ä¸€èˆ¬å¾ˆéš¾ä¿è¯è·Ÿ View æˆ–è€… Activity çš„ç”Ÿå‘½å‘¨æœŸä¿æŒä¸€è‡´ï¼Œæ•…å¾ˆå®¹æ˜“å¯¼è‡´æ— æ³•æ­£ç¡®é‡Šæ”¾ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š 1234567891011121314151617181920212223public class SampleActivity extends Activity &#123;private final Handler mLeakyHandler = new Handler() &#123;@Overridepublic void handleMessage(Message msg) &#123; // ...&#125;&#125;@Overrideprotected void onCreate(Bundle savedInstanceState) &#123;super.onCreate(savedInstanceState);// Post a message and delay its execution for 10 minutes.mLeakyHandler.postDelayed(new Runnable() &#123; @Override public void run() &#123; /* ... */ &#125;&#125;, 1000 * 60 * 10);// Go back to the previous Activity.finish();&#125;&#125; åœ¨è¯¥ SampleActivity ä¸­å£°æ˜äº†ä¸€ä¸ªå»¶è¿Ÿ10åˆ†é’Ÿæ‰§è¡Œçš„æ¶ˆæ¯ Messageï¼ŒmLeakyHandler å°†å…¶ push è¿›äº†æ¶ˆæ¯é˜Ÿåˆ— MessageQueue é‡Œã€‚å½“è¯¥ Activity è¢« finish() æ‰æ—¶ï¼Œå»¶è¿Ÿæ‰§è¡Œä»»åŠ¡çš„ Message è¿˜ä¼šç»§ç»­å­˜åœ¨äºä¸»çº¿ç¨‹ä¸­ï¼Œå®ƒæŒæœ‰è¯¥ Activity çš„ Handler å¼•ç”¨ï¼Œæ‰€ä»¥æ­¤æ—¶ finish() æ‰çš„ Activity å°±ä¸ä¼šè¢«å›æ”¶äº†ä»è€Œé€ æˆå†…å­˜æ³„æ¼ï¼ˆå›  Handler ä¸ºéé™æ€å†…éƒ¨ç±»ï¼Œå®ƒä¼šæŒæœ‰å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œåœ¨è¿™é‡Œå°±æ˜¯æŒ‡ SampleActivityï¼‰ã€‚ ä¿®å¤æ–¹æ³•ï¼šåœ¨ Activity ä¸­é¿å…ä½¿ç”¨éé™æ€å†…éƒ¨ç±»ï¼Œæ¯”å¦‚ä¸Šé¢æˆ‘ä»¬å°† Handler å£°æ˜ä¸ºé™æ€çš„ï¼Œåˆ™å…¶å­˜æ´»æœŸè·Ÿ Activity çš„ç”Ÿå‘½å‘¨æœŸå°±æ— å…³äº†ã€‚åŒæ—¶é€šè¿‡å¼±å¼•ç”¨çš„æ–¹å¼å¼•å…¥ Activityï¼Œé¿å…ç›´æ¥å°† Activity ä½œä¸º context ä¼ è¿›å»ï¼Œè§ä¸‹é¢ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class SampleActivity extends Activity &#123; /** * Instances of static inner classes do not hold an implicit * reference to their outer class. */ private static class MyHandler extends Handler &#123; private final WeakReference&lt;SampleActivity&gt; mActivity; public MyHandler(SampleActivity activity) &#123; mActivity = new WeakReference&lt;SampleActivity&gt;(activity); &#125; @Override public void handleMessage(Message msg) &#123; SampleActivity activity = mActivity.get(); if (activity != null) &#123; // ... &#125; &#125; &#125; private final MyHandler mHandler = new MyHandler(this); /** * Instances of anonymous classes do not hold an implicit * reference to their outer class when they are \"static\". */ private static final Runnable sRunnable = new Runnable() &#123; @Override public void run() &#123; /* ... */ &#125; &#125;; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); // Post a message and delay its execution for 10 minutes. mHandler.postDelayed(sRunnable, 1000 * 60 * 10); // Go back to the previous Activity. finish(); &#125;&#125; ç»¼è¿°ï¼Œå³æ¨èä½¿ç”¨é™æ€å†…éƒ¨ç±» + WeakReference è¿™ç§æ–¹å¼ã€‚æ¯æ¬¡ä½¿ç”¨å‰æ³¨æ„åˆ¤ç©ºã€‚ å‰é¢æåˆ°äº† WeakReferenceï¼Œæ‰€ä»¥è¿™é‡Œå°±ç®€å•çš„è¯´ä¸€ä¸‹ Java å¯¹è±¡çš„å‡ ç§å¼•ç”¨ç±»å‹ã€‚ Javaå¯¹å¼•ç”¨çš„åˆ†ç±»æœ‰ Strong reference, SoftReference, WeakReference, PhatomReference å››ç§ã€‚ åœ¨Androidåº”ç”¨çš„å¼€å‘ä¸­ï¼Œä¸ºäº†é˜²æ­¢å†…å­˜æº¢å‡ºï¼Œåœ¨å¤„ç†ä¸€äº›å ç”¨å†…å­˜å¤§è€Œä¸”å£°æ˜å‘¨æœŸè¾ƒé•¿çš„å¯¹è±¡æ—¶å€™ï¼Œå¯ä»¥å°½é‡åº”ç”¨è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨æŠ€æœ¯ã€‚ è½¯/å¼±å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ï¼Œå¦‚æœè½¯å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªè½¯å¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚åˆ©ç”¨è¿™ä¸ªé˜Ÿåˆ—å¯ä»¥å¾—çŸ¥è¢«å›æ”¶çš„è½¯/å¼±å¼•ç”¨çš„å¯¹è±¡åˆ—è¡¨ï¼Œä»è€Œä¸ºç¼“å†²å™¨æ¸…é™¤å·²å¤±æ•ˆçš„è½¯/å¼±å¼•ç”¨ã€‚ å‡è®¾æˆ‘ä»¬çš„åº”ç”¨ä¼šç”¨åˆ°å¤§é‡çš„é»˜è®¤å›¾ç‰‡ï¼Œæ¯”å¦‚åº”ç”¨ä¸­æœ‰é»˜è®¤çš„å¤´åƒï¼Œé»˜è®¤æ¸¸æˆå›¾æ ‡ç­‰ç­‰ï¼Œè¿™äº›å›¾ç‰‡å¾ˆå¤šåœ°æ–¹ä¼šç”¨åˆ°ã€‚å¦‚æœæ¯æ¬¡éƒ½å»è¯»å–å›¾ç‰‡ï¼Œç”±äºè¯»å–æ–‡ä»¶éœ€è¦ç¡¬ä»¶æ“ä½œï¼Œé€Ÿåº¦è¾ƒæ…¢ï¼Œä¼šå¯¼è‡´æ€§èƒ½è¾ƒä½ã€‚æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘å°†å›¾ç‰‡ç¼“å­˜èµ·æ¥ï¼Œéœ€è¦çš„æ—¶å€™ç›´æ¥ä»å†…å­˜ä¸­è¯»å–ã€‚ä½†æ˜¯ï¼Œç”±äºå›¾ç‰‡å ç”¨å†…å­˜ç©ºé—´æ¯”è¾ƒå¤§ï¼Œç¼“å­˜å¾ˆå¤šå›¾ç‰‡éœ€è¦å¾ˆå¤šçš„å†…å­˜ï¼Œå°±å¯èƒ½æ¯”è¾ƒå®¹æ˜“å‘ç”ŸOutOfMemoryå¼‚å¸¸ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨è½¯/å¼±å¼•ç”¨æŠ€æœ¯æ¥é¿å…è¿™ä¸ªé—®é¢˜å‘ç”Ÿã€‚ä»¥ä¸‹å°±æ˜¯é«˜é€Ÿç¼“å†²å™¨çš„é›å½¢ï¼š é¦–å…ˆå®šä¹‰ä¸€ä¸ªHashMapï¼Œä¿å­˜è½¯å¼•ç”¨å¯¹è±¡ã€‚ 1private Map &lt;String, SoftReference&lt;Bitmap&gt;&gt; imageCache = new HashMap &lt;String, SoftReference&lt;Bitmap&gt;&gt; (); å†æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¿å­˜Bitmapçš„è½¯å¼•ç”¨åˆ°HashMapã€‚ ä½¿ç”¨è½¯å¼•ç”¨ä»¥åï¼Œåœ¨OutOfMemoryå¼‚å¸¸å‘ç”Ÿä¹‹å‰ï¼Œè¿™äº›ç¼“å­˜çš„å›¾ç‰‡èµ„æºçš„å†…å­˜ç©ºé—´å¯ä»¥è¢«é‡Šæ”¾æ‰çš„ï¼Œä»è€Œé¿å…å†…å­˜è¾¾åˆ°ä¸Šé™ï¼Œé¿å…Crashå‘ç”Ÿã€‚ å¦‚æœåªæ˜¯æƒ³é¿å…OutOfMemoryå¼‚å¸¸çš„å‘ç”Ÿï¼Œåˆ™å¯ä»¥ä½¿ç”¨è½¯å¼•ç”¨ã€‚å¦‚æœå¯¹äºåº”ç”¨çš„æ€§èƒ½æ›´åœ¨æ„ï¼Œæƒ³å°½å¿«å›æ”¶ä¸€äº›å ç”¨å†…å­˜æ¯”è¾ƒå¤§çš„å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¼±å¼•ç”¨ã€‚ å¦å¤–å¯ä»¥æ ¹æ®å¯¹è±¡æ˜¯å¦ç»å¸¸ä½¿ç”¨æ¥åˆ¤æ–­é€‰æ‹©è½¯å¼•ç”¨è¿˜æ˜¯å¼±å¼•ç”¨ã€‚å¦‚æœè¯¥å¯¹è±¡å¯èƒ½ä¼šç»å¸¸ä½¿ç”¨çš„ï¼Œå°±å°½é‡ç”¨è½¯å¼•ç”¨ã€‚å¦‚æœè¯¥å¯¹è±¡ä¸è¢«ä½¿ç”¨çš„å¯èƒ½æ€§æ›´å¤§äº›ï¼Œå°±å¯ä»¥ç”¨å¼±å¼•ç”¨ã€‚ okï¼Œç»§ç»­å›åˆ°ä¸»é¢˜ã€‚å‰é¢æ‰€è¯´çš„ï¼Œåˆ›å»ºä¸€ä¸ªé™æ€Handlerå†…éƒ¨ç±»ï¼Œç„¶åå¯¹ Handler æŒæœ‰çš„å¯¹è±¡ä½¿ç”¨å¼±å¼•ç”¨ï¼Œè¿™æ ·åœ¨å›æ”¶æ—¶ä¹Ÿå¯ä»¥å›æ”¶ Handler æŒæœ‰çš„å¯¹è±¡ï¼Œä½†æ˜¯è¿™æ ·åšè™½ç„¶é¿å…äº† Activity æ³„æ¼ï¼Œä¸è¿‡ Looper çº¿ç¨‹çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¿˜æ˜¯å¯èƒ½ä¼šæœ‰å¾…å¤„ç†çš„æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ Activity çš„ Destroy æ—¶æˆ–è€… Stop æ—¶åº”è¯¥ç§»é™¤æ¶ˆæ¯é˜Ÿåˆ— MessageQueue ä¸­çš„æ¶ˆæ¯ã€‚ ä¸‹é¢å‡ ä¸ªæ–¹æ³•éƒ½å¯ä»¥ç§»é™¤ Messageï¼š 123456789public final void removeCallbacks(Runnable r);public final void removeCallbacks(Runnable r, Object token);public final void removeCallbacksAndMessages(Object token);public final void removeMessages(int what);public final void removeMessages(int what, Object object); å°½é‡é¿å…ä½¿ç”¨ static æˆå‘˜å˜é‡å¦‚æœæˆå‘˜å˜é‡è¢«å£°æ˜ä¸º staticï¼Œé‚£æˆ‘ä»¬éƒ½çŸ¥é“å…¶ç”Ÿå‘½å‘¨æœŸå°†ä¸æ•´ä¸ªappè¿›ç¨‹ç”Ÿå‘½å‘¨æœŸä¸€æ ·ã€‚ è¿™ä¼šå¯¼è‡´ä¸€ç³»åˆ—é—®é¢˜ï¼Œå¦‚æœä½ çš„appè¿›ç¨‹è®¾è®¡ä¸Šæ˜¯é•¿é©»å†…å­˜çš„ï¼Œé‚£å³ä½¿appåˆ‡åˆ°åå°ï¼Œè¿™éƒ¨åˆ†å†…å­˜ä¹Ÿä¸ä¼šè¢«é‡Šæ”¾ã€‚æŒ‰ç…§ç°åœ¨æ‰‹æœºappå†…å­˜ç®¡ç†æœºåˆ¶ï¼Œå å†…å­˜è¾ƒå¤§çš„åå°è¿›ç¨‹å°†ä¼˜å…ˆå›æ”¶ï¼Œyiâ€™weiå¦‚æœæ­¤appåšè¿‡è¿›ç¨‹äº’ä¿ä¿æ´»ï¼Œé‚£ä¼šé€ æˆappåœ¨åå°é¢‘ç¹é‡å¯ã€‚å½“æ‰‹æœºå®‰è£…äº†ä½ å‚ä¸å¼€å‘çš„appä»¥åä¸€å¤œæ—¶é—´æ‰‹æœºè¢«æ¶ˆè€—ç©ºäº†ç”µé‡ã€æµé‡ï¼Œä½ çš„appä¸å¾—ä¸è¢«ç”¨æˆ·å¸è½½æˆ–è€…é™é»˜ã€‚ è¿™é‡Œä¿®å¤çš„æ–¹æ³•æ˜¯ï¼š ä¸è¦åœ¨ç±»åˆå§‹æ—¶åˆå§‹åŒ–é™æ€æˆå‘˜ã€‚å¯ä»¥è€ƒè™‘lazyåˆå§‹åŒ–ã€‚æ¶æ„è®¾è®¡ä¸Šè¦æ€è€ƒæ˜¯å¦çœŸçš„æœ‰å¿…è¦è¿™æ ·åšï¼Œå°½é‡é¿å…ã€‚å¦‚æœæ¶æ„éœ€è¦è¿™ä¹ˆè®¾è®¡ï¼Œé‚£ä¹ˆæ­¤å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä½ æœ‰è´£ä»»ç®¡ç†èµ·æ¥ã€‚ é¿å… override finalize()1ã€finalize æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶é—´ä¸ç¡®å®šï¼Œä¸èƒ½ä¾èµ–ä¸å®ƒæ¥é‡Šæ”¾ç´§ç¼ºçš„èµ„æºã€‚æ—¶é—´ä¸ç¡®å®šçš„åŸå› æ˜¯ï¼š è™šæ‹Ÿæœºè°ƒç”¨GCçš„æ—¶é—´ä¸ç¡®å®š Finalize daemonçº¿ç¨‹è¢«è°ƒåº¦åˆ°çš„æ—¶é—´ä¸ç¡®å®š 2ã€finalize æ–¹æ³•åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå³ä½¿å¯¹è±¡è¢«å¤æ´»ï¼Œå¦‚æœå·²ç»æ‰§è¡Œè¿‡äº† finalize æ–¹æ³•ï¼Œå†æ¬¡è¢« GC æ—¶ä¹Ÿä¸ä¼šå†æ‰§è¡Œäº†ï¼ŒåŸå› æ˜¯ï¼š å«æœ‰ finalize æ–¹æ³•çš„ object æ˜¯åœ¨ new çš„æ—¶å€™ç”±è™šæ‹Ÿæœºç”Ÿæˆäº†ä¸€ä¸ª finalize reference åœ¨æ¥å¼•ç”¨åˆ°è¯¥Objectçš„ï¼Œè€Œåœ¨ finalize æ–¹æ³•æ‰§è¡Œçš„æ—¶å€™ï¼Œè¯¥ object æ‰€å¯¹åº”çš„ finalize Reference ä¼šè¢«é‡Šæ”¾æ‰ï¼Œå³ä½¿åœ¨è¿™ä¸ªæ—¶å€™æŠŠè¯¥ object å¤æ´»(å³ç”¨å¼ºå¼•ç”¨å¼•ç”¨ä½è¯¥ object )ï¼Œå†ç¬¬äºŒæ¬¡è¢« GC çš„æ—¶å€™ç”±äºæ²¡æœ‰äº† finalize reference ä¸ä¹‹å¯¹åº”ï¼Œæ‰€ä»¥ finalize æ–¹æ³•ä¸ä¼šå†æ‰§è¡Œã€‚ 3ã€å«æœ‰Finalizeæ–¹æ³•çš„objectéœ€è¦è‡³å°‘ç»è¿‡ä¸¤è½®GCæ‰æœ‰å¯èƒ½è¢«é‡Šæ”¾ã€‚ èµ„æºæœªå…³é—­é€ æˆçš„å†…å­˜æ³„æ¼å¯¹äºä½¿ç”¨äº†BraodcastReceiverï¼ŒContentObserverï¼ŒFileï¼Œæ¸¸æ ‡ Cursorï¼ŒStreamï¼ŒBitmapç­‰èµ„æºçš„ä½¿ç”¨ï¼Œåº”è¯¥åœ¨Activityé”€æ¯æ—¶åŠæ—¶å…³é—­æˆ–è€…æ³¨é”€ï¼Œå¦åˆ™è¿™äº›èµ„æºå°†ä¸ä¼šè¢«å›æ”¶ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚ ä¸€äº›ä¸è‰¯ä»£ç é€ æˆçš„å†…å­˜å‹åŠ›æœ‰äº›ä»£ç å¹¶ä¸é€ æˆå†…å­˜æ³„éœ²ï¼Œä½†æ˜¯å®ƒä»¬ï¼Œæˆ–æ˜¯å¯¹æ²¡ä½¿ç”¨çš„å†…å­˜æ²¡è¿›è¡Œæœ‰æ•ˆåŠæ—¶çš„é‡Šæ”¾ï¼Œæˆ–æ˜¯æ²¡æœ‰æœ‰æ•ˆçš„åˆ©ç”¨å·²æœ‰çš„å¯¹è±¡è€Œæ˜¯é¢‘ç¹çš„ç”³è¯·æ–°å†…å­˜ã€‚ æ¯”å¦‚ï¼š Bitmap æ²¡è°ƒç”¨ recycle()æ–¹æ³•ï¼Œå¯¹äº Bitmap å¯¹è±¡åœ¨ä¸ä½¿ç”¨æ—¶,æˆ‘ä»¬åº”è¯¥å…ˆè°ƒç”¨ recycle() é‡Šæ”¾å†…å­˜ï¼Œç„¶åæ‰å®ƒè®¾ç½®ä¸º null. å› ä¸ºåŠ è½½ Bitmap å¯¹è±¡çš„å†…å­˜ç©ºé—´ï¼Œä¸€éƒ¨åˆ†æ˜¯ java çš„ï¼Œä¸€éƒ¨åˆ† C çš„ï¼ˆå› ä¸º Bitmap åˆ†é…çš„åº•å±‚æ˜¯é€šè¿‡ JNI è°ƒç”¨çš„ )ã€‚ è€Œè¿™ä¸ª recyle() å°±æ˜¯é’ˆå¯¹ C éƒ¨åˆ†çš„å†…å­˜é‡Šæ”¾ã€‚ æ„é€  Adapter æ—¶ï¼Œæ²¡æœ‰ä½¿ç”¨ç¼“å­˜çš„ convertView ,æ¯æ¬¡éƒ½åœ¨åˆ›å»ºæ–°çš„ converViewã€‚è¿™é‡Œæ¨èä½¿ç”¨ ViewHolderã€‚ æ€»ç»“å¯¹ Activity ç­‰ç»„ä»¶çš„å¼•ç”¨åº”è¯¥æ§åˆ¶åœ¨ Activity çš„ç”Ÿå‘½å‘¨æœŸä¹‹å†…ï¼› å¦‚æœä¸èƒ½å°±è€ƒè™‘ä½¿ç”¨ getApplicationContext æˆ–è€… getApplicationï¼Œä»¥é¿å… Activity è¢«å¤–éƒ¨é•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡å¼•ç”¨è€Œæ³„éœ²ã€‚ å°½é‡ä¸è¦åœ¨é™æ€å˜é‡æˆ–è€…é™æ€å†…éƒ¨ç±»ä¸­ä½¿ç”¨éé™æ€å¤–éƒ¨æˆå‘˜å˜é‡ï¼ˆåŒ…æ‹¬context )ï¼Œå³ä½¿è¦ä½¿ç”¨ï¼Œä¹Ÿè¦è€ƒè™‘é€‚æ—¶æŠŠå¤–éƒ¨æˆå‘˜å˜é‡ç½®ç©ºï¼›ä¹Ÿå¯ä»¥åœ¨å†…éƒ¨ç±»ä¸­ä½¿ç”¨å¼±å¼•ç”¨æ¥å¼•ç”¨å¤–éƒ¨ç±»çš„å˜é‡ã€‚ å¯¹äºç”Ÿå‘½å‘¨æœŸæ¯”Activityé•¿çš„å†…éƒ¨ç±»å¯¹è±¡ï¼Œå¹¶ä¸”å†…éƒ¨ç±»ä¸­ä½¿ç”¨äº†å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡ï¼Œå¯ä»¥è¿™æ ·åšé¿å…å†…å­˜æ³„æ¼ï¼š å°†å†…éƒ¨ç±»æ”¹ä¸ºé™æ€å†…éƒ¨ç±» é™æ€å†…éƒ¨ç±»ä¸­ä½¿ç”¨å¼±å¼•ç”¨æ¥å¼•ç”¨å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡ Handler çš„æŒæœ‰çš„å¼•ç”¨å¯¹è±¡æœ€å¥½ä½¿ç”¨å¼±å¼•ç”¨ï¼Œèµ„æºé‡Šæ”¾æ—¶ä¹Ÿå¯ä»¥æ¸…ç©º Handler é‡Œé¢çš„æ¶ˆæ¯ã€‚æ¯”å¦‚åœ¨ Activity onStop æˆ–è€… onDestroy çš„æ—¶å€™ï¼Œå–æ¶ˆæ‰è¯¥ Handler å¯¹è±¡çš„ Messageå’Œ Runnable. åœ¨ Java çš„å®ç°è¿‡ç¨‹ä¸­ï¼Œä¹Ÿè¦è€ƒè™‘å…¶å¯¹è±¡é‡Šæ”¾ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯åœ¨ä¸ä½¿ç”¨æŸå¯¹è±¡æ—¶ï¼Œæ˜¾å¼åœ°å°†æ­¤å¯¹è±¡èµ‹å€¼ä¸º nullï¼Œæ¯”å¦‚ä½¿ç”¨å®ŒBitmap åå…ˆè°ƒç”¨ recycle()ï¼Œå†èµ‹ä¸ºnull,æ¸…ç©ºå¯¹å›¾ç‰‡ç­‰èµ„æºæœ‰ç›´æ¥å¼•ç”¨æˆ–è€…é—´æ¥å¼•ç”¨çš„æ•°ç»„ï¼ˆä½¿ç”¨ array.clear() ; array = nullï¼‰ç­‰ï¼Œæœ€å¥½éµå¾ªè°åˆ›å»ºè°é‡Šæ”¾çš„åŸåˆ™ã€‚ æ­£ç¡®å…³é—­èµ„æºï¼Œå¯¹äºä½¿ç”¨äº†BraodcastReceiverï¼ŒContentObserverï¼ŒFileï¼Œæ¸¸æ ‡ Cursorï¼ŒStreamï¼ŒBitmapç­‰èµ„æºçš„ä½¿ç”¨ï¼Œåº”è¯¥åœ¨Activityé”€æ¯æ—¶åŠæ—¶å…³é—­æˆ–è€…æ³¨é”€ã€‚ ä¿æŒå¯¹å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„æ•æ„Ÿï¼Œç‰¹åˆ«æ³¨æ„å•ä¾‹ã€é™æ€å¯¹è±¡ã€å…¨å±€æ€§é›†åˆç­‰çš„ç”Ÿå‘½å‘¨æœŸã€‚ åŸæ–‡é“¾æ¥","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"å†…å­˜æ³„æ¼","slug":"å†…å­˜æ³„æ¼","permalink":"https://yangxiaoge.github.io/tags/å†…å­˜æ³„æ¼/"}]},{"title":"æœ‰äººå‘æˆ‘åé¦ˆäº†ä¸€ä¸ªbug","slug":"æœ‰äººå‘æˆ‘åé¦ˆäº†ä¸€ä¸ªbug","date":"2016-09-23T04:55:26.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2016/09/23/æœ‰äººå‘æˆ‘åé¦ˆäº†ä¸€ä¸ªbug/","link":"","permalink":"https://yangxiaoge.github.io/2016/09/23/æœ‰äººå‘æˆ‘åé¦ˆäº†ä¸€ä¸ªbug/","excerpt":"æœ¬æ–‡åŸæ–‡åœ°å€ : Midaoiå°ç«™ å‰è¨€ è¿™ç¯‡æ–‡ç« éå¸¸æœ‰æ„æ€ï¼ è‹±æ–‡åŸæ–‡ â†’","text":"æœ¬æ–‡åŸæ–‡åœ°å€ : Midaoiå°ç«™ å‰è¨€ è¿™ç¯‡æ–‡ç« éå¸¸æœ‰æ„æ€ï¼ è‹±æ–‡åŸæ–‡ â†’ //æˆ‘æ˜¯ä¸€ä¸ªAndroidå¼€å‘è€…ï¼Œä½†æˆ‘æƒ³è¿™ä¸ªæ•…äº‹å¯¹ä»»ä½•å¼€å‘è€…éƒ½ä¼šå¼•èµ·å…±é¸£çš„ æœ‰äººå‘ä½ åé¦ˆäº†ä¸€ä¸ª bugã€‚ â€œ26 æ¥¼ä¼šè®®å®¤çš„ç¯äº®ç€ã€‚å®ƒéœ€è¦è¢«ç†„ç­ã€‚â€bug çš„å¤‡æ³¨é‡Œå†™é“â€œä½ åº”è¯¥èƒ½åœ¨ 5 åˆ†é’Ÿå†…æå®šï¼Œåªè¦æŒ‰ä¸€ä¸‹å¼€å…³å°±å¥½äº†ã€‚â€œ ä½ å»äº† 26 æ¥¼çš„ä¼šè®®å®¤ã€‚ç¯çš„ç¡®äº®ç€ï¼Œä½†æˆ¿é—´é‡Œæ²¡æœ‰ç¯çš„å¼€å…³ã€‚ æ‰€ä»¥ï¼Œä½ å‡†å¤‡å®‰è£…ä¸€ä¸ªã€‚ä½†è®¾è®¡å¸ˆè¯´ï¼Œå®ƒä¼šç ´åæˆ¿é—´çš„ç¾æ„Ÿã€‚å¦å¤–ï¼Œå¢™å£æ˜¯æ··å‡åœŸã€‚ä½ éœ€è¦åˆé€‚çš„å·¥å…·æ‰èƒ½å®‰è£…å¼€å…³ã€‚ä½†æ˜¯ï¼Œæ²¡æœ‰äººä¼šæ‰¹å‡†è´­ä¹°è¿™äº›å·¥å…·ã€‚å¦‚æœæ²¡æœ‰åˆé€‚çš„å·¥å…·ï¼Œå®‰è£…å¼€å…³å°†éœ€è¦ä¸¤å¤©ã€‚ä»–ä»¬å¸Œæœ›ä½ ç°åœ¨å°±èƒ½æŠŠç¯å…³ä¸Šï¼Œå› ä¸ºä»–ä»¬å®³æ€• CEO å¯èƒ½å¿ƒè¡€æ¥æ½®å†³å®šå» 26 æ¥¼é€›é€›ï¼Œå¹¶æ°å¥½è·¯è¿‡äº†ä¼šè®®å®¤ï¼Œé—®ä¸ºä»€ä¹ˆç¯æ˜¯äº®ç€çš„ã€‚ ç°åœ¨ä½ ä¸æ–­åœ°æ”¶åˆ°é‚®ä»¶ï¼Œè¯¢é—®ä¸ºä»€ä¹ˆä¼šè®®å®¤çš„ç¯è¿˜æ˜¯äº®ç€çš„ã€‚ç°åœ¨ä½ ä¸å¾—ä¸ç¾¤å‘ä¸€å°é‚®ä»¶è¯´æ˜æƒ…å†µï¼Œå‡ äººå¼€å§‹äº†ä¸€ä¸ªææ…Œçš„ç”µå­é‚®ä»¶é“¾ã€‚ ä½ çŸ¥é“ï¼Œå¦‚æœä½ æœŸå¾…ç€é—®é¢˜èƒ½å¤Ÿè¢«é‚®ä»¶è®¨è®ºè§£å†³ï¼ˆè€Œä¸å®é™…åšç‚¹ä»€ä¹ˆï¼‰ï¼Œè¿™ä¸ªé—®é¢˜æ°¸è¿œä¹Ÿä¸ä¼šå¾—åˆ°ä¿®å¤ã€‚bug ç³»ç»Ÿé‡Œï¼Œè¿™ä¸ª bug å½’ä½ å¤„ç†ï¼Œè€Œä¸”å®ƒçš„æœ€åæœŸé™å°±æ˜¯ä»Šå¤©ã€‚å¦‚æœé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œä¼šæœ‰éº»çƒ¦çš„æ˜¯ä½ ã€‚æ‰€ä»¥ï¼Œä½ è®¾æ³•è¿›åˆ°äº† 26 æ¥¼èµ°å»Šçš„å¤©èŠ±æ¿é‡Œï¼Œæ‰¾åˆ°äº†ä¼šè®®å®¤ç¯çš„ç”µçº¿ï¼Œä¸€åˆ€åˆ‡æ–­ã€‚é—®é¢˜è§£å†³äº†ã€‚ ä¸ºäº†å¹³æ¯åœ¨ç”µå­é‚®ä»¶é“¾é‡Œçš„ææ…Œï¼Œä½ (å†æ¬¡ç¾¤å‘é‚®ä»¶)è¯´æ˜äº†ä½ æ˜¯å¦‚ä½•è§£å†³é—®é¢˜çš„ã€‚ é‚®ç®±å®‰é™äº†ä¸€é˜µã€‚å½“å®ƒå†æ¬¡å“ä¸ªä¸åœçš„æ—¶å€™ï¼Œæ¯ä¸ªäººéƒ½åœ¨æ‹…å¿ƒï¼Œç°åœ¨ä¼šè®®å®¤çš„ç¯æ— æ³•å¼€å¯å’Œå…³é—­ã€‚å¦‚æœ CEO æƒ³åœ¨é‚£é‡Œå¼€ä¼šæ€ä¹ˆåŠï¼Ÿå› æ­¤ï¼Œä»–ä»¬è¦æ±‚ä½ â€œæŠŠç¯çš„ç”µçº¿ç‰µå¼•åˆ°åœ°ä¸‹å®¤å»â€ã€‚å½“æœ‰äººéœ€è¦å¼€å…³ç¯æ—¶ï¼Œä»–ä»¬ä¼šé€šçŸ¥ä½ åˆ°åœ°ä¸‹å®¤å»ï¼Œè¿æ¥æˆ–æ–­å¼€ç”µçº¿ã€‚ ä½ æŠ—è®®è¿™ä¸ªè’è°¬çš„è§£å†³æ–¹æ¡ˆã€‚ä½ çš„ä¸Šå¸è¯´ï¼Œâ€œæ˜¯çš„ï¼Œæˆ‘çŸ¥é“è¿™ä¸ç†æƒ³ã€‚ä½†å®ƒæ˜¯ç°åœ¨å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆã€‚â€œ è¿™æ—¶ï¼Œä½ é¢ä¸´ç€é€‰æ‹©ã€‚ä½ å¯ä»¥ç…§ç€ä»–ä»¬è¯´çš„åšï¼Œæˆ–è€…è¾èŒä»¥ç¤ºæŠ—è®®ï¼Œå¦è°‹é«˜å°±ã€‚ä½†ä½ çŸ¥é“ï¼Œä¸€æ—¦ä½ å¼€å§‹äº†æ–°çš„å·¥ä½œï¼Œæ–°çš„ä»–ä»¬å¾ˆå¯èƒ½ä¹Ÿä¼šè¦æ±‚ä½ åšè¿™ä¹ˆç™½ç—´çš„äº‹ï¼Œå¦‚æœä¸æ˜¯æ›´ç™½ç—´çš„è¯ã€‚ ä½ æŠŠ 26 æ¥¼çš„ç”µçº¿ç‰µå¼•åˆ°äº†åœ°ä¸‹å®¤ã€‚å½“ä½ è¿›å…¥åœ°ä¸‹å®¤åï¼Œå‘ç°å·²ç»æœ‰å‡ åæ¡ç”µçº¿æŒ‚åœ¨å¢™ä¸Šï¼Œä½ çŸ¥é“ä½ ä¸æ˜¯ä¸€ä¸ªäººï¼Œä¹ŸçŸ¥é“äº†è¿™ä¸ªç™½ç—´æƒ³æ³•æ˜¯ä»å“ªæ¥çš„ã€‚ä½ è°ƒæ•´å¥½äº†ç”µçº¿ï¼Œå°½äººäº‹åœ°è´´ä¸Šæ ‡è®°ï¼Œé»˜é»˜åœ°å‘ä¸‹ä¸€ä¸ªå¯èƒ½å¤„ç†å®ƒçš„å“¥ä»¬é“æ­‰ã€‚ ç»ˆäºï¼Œä½ å›åˆ°äº†ä½ çš„åŠå…¬æ¡Œï¼Œä½ æ”¶åˆ°äº†ä¸€ä¸ªæ–°çš„ reportã€‚ QA é‡æ–°å¼€å¯äº† bugã€‚bug æè¿°é‡Œè¯´â€œæˆ¿é—´è¿˜æ˜¯äº®ç€ã€‚â€ ä½ å›åˆ° 26 æ¥¼çš„ä¼šè®®å®¤ã€‚ç¯æ˜¯ç­ç€çš„ã€‚ä½ è¿”å›åŠå…¬æ¡Œå‰ï¼Œå…³é—­äº† bugï¼Œæ³¨æ˜ä½ å·²ç»äº²è‡ªæ£€æŸ¥è¿‡äº†ã€‚ QA å†æ¬¡é‡æ–°å¼€å¯äº† bugã€‚â€œæˆ¿é—´è¿˜äº®ç€â€bug æè¿°é‡ŒåšæŒã€‚å†æ¬¡äº²çœ¼ç¡®è®¤ç¯æ³¡ç­ç€åï¼Œä½ å°†æƒ…å†µæ±‡æŠ¥ç»™äº†ä¸Šå¸ã€‚ä»–å»ºè®®ä½ å»åœ°ä¸‹å®¤æ£€æŸ¥ç”µçº¿ã€‚ä½ æŠ—è®®è¯´ä½ æ­£ç›´ç›¯ç›¯åœ°çœ‹ç€ç¯ï¼Œå®ƒå°±æ˜¯ç­ç€çš„ã€‚ â€œæˆ‘çŸ¥é“ï¼Œä½†å»æ£€æŸ¥ä¸€ä¸‹ã€‚è¿™æ ·ä¸€æ¥ä½ å°±å¯ä»¥å‘Šè¯‰ QA ä½ ç¡®è®¤äº†æ‰€æœ‰æµç¨‹ã€‚â€ ä½ å¹äº†å£æ°”ï¼Œå‰å¾€åœ°ä¸‹å®¤ã€‚æœç„¶ï¼Œç”µçº¿æ²¡æœ‰è¿æ¥ï¼Œåˆ‡å£ä¸¤ç«¯éƒ½å¥½å¥½åœ°è¢«åŒ…è£¹ç€ã€‚å®ƒä»¬ä¸å¯èƒ½ä»¥ä»»ä½•ä½ èƒ½ç†è§£çš„æ–¹å¼å¯¼ç”µã€‚ ä½ å‘ QA åé¦ˆï¼Œä½ æ£€æŸ¥äº†ç”µçº¿ï¼Œå®ƒä»¬æ²¡æœ‰è¿æ¥ç€ï¼Œä½ æ­£çœ‹ç€ç¯æ³¡ï¼Œå®ƒæ˜¯ç†„ç­çš„ã€‚ â€œæˆ‘ä¸æ˜¯æŒ‡ç¯æ³¡ï¼Œâ€QA è¯´ã€‚ â€œbug é‡Œæè¿°çš„æ˜¯æˆ¿é—´é‡Œçš„å…‰ã€‚æˆ¿é—´ç°åœ¨ä»ç„¶ä¸å¤Ÿæš—ã€‚ä½ åº”è¯¥æ‹‰ä¸‹ç™¾å¶çª—ã€‚â€œä½ å›åº”è¯´ç™¾å¶çª—ä¸å½’ä½ ç®¡ï¼Œbug æè¿°çš„æ˜¯ç¯å…‰ã€‚ QA ä¸ç›¸ä¿¡ä½ ï¼Œå‘å‡ºä¸€ç»„ç”µå­é‚®ä»¶ï¼Œè¯¢é—® bug æ˜¯å¦åŒ…å«ç™¾å¶çª—æ‹‰ä¸‹çš„é—®é¢˜ã€‚ ä½ å¾ˆæ˜¯ç­‰å¾…äº†ä¸€ä¼šï¼Œé‚®ç®±åˆä¸€æ¬¡å“èµ·äº†ã€‚ â€œä»ç†è®ºä¸Šè¯´ï¼Œâ€ä»–ä»¬é—®ï¼Œâ€œå¦‚æœå…‰å¤ªäº®æˆ–å¤ªæš—çš„è¯ï¼Œåœ¨ 26 æ¥¼ä¼šè®®å®¤å¼€ä¼šçš„äººèƒ½è‡ªç”±æ‹‰ä¸Šæˆ–æ‹‰ä¸‹ç™¾å¶çª—å—ï¼Ÿâ€ æ˜¯çš„ï¼Œä»–ä»¬å¯ä»¥ï¼Œä½ å›å¤ã€‚ â€œä»»ä½•ä¸€ä¸ªæ™®é€šäººéƒ½èƒ½åšåˆ°å—ï¼Ÿä»–ä»¬å°±ä¸éœ€è¦ä½ åšäº†å—ï¼Ÿâ€œæ˜¯çš„ï¼Œä»»ä½•æ™®é€šäººã€‚ä¸ï¼Œä»–ä»¬ä¸ä¼šéœ€è¦ä½ ã€‚ä»»ä½•äººéƒ½å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ â€œå¤ªå¥½äº†ã€‚é‚£ä¹ˆï¼Œç¯å…‰é—®é¢˜æš‚æ—¶åˆ°æ­¤ä¸ºæ­¢ã€‚æˆ‘ä¼šå®‰æ’å¦‚ä½•å¤„ç†ç™¾å¶çª—çš„ä¼šè®®ã€‚â€œ bug è¢«å…³é—­äº†ã€‚ç°åœ¨ï¼ŒCEOï¼Œå¯èƒ½ä»æ‰€æœ‰å…³äº 26 æ¥¼ä¼šè®®å®¤çš„è®¨è®ºä¸­æ„Ÿè§‰åˆ°äº†ä»€ä¹ˆï¼Œå¸Œæœ›åœ¨é‚£é‡Œå¼€ä¼šã€‚ä½ æ”¶åˆ°äº†å‡ å°å¸Œæœ›å¼€ç¯çš„æƒŠæ…Œå¤±æªçš„é‚®ä»¶ã€‚ ä½ å»äº†åœ°ä¸‹å®¤ï¼Œè¿ä¸Šç”µçº¿ï¼Œå¹¶è¿”å›åŠå…¬æ¡Œã€‚ä½ çš„æ”¶ä»¶ç®±å¤šäº† 32 ä¸ªæ–°çš„æ¶ˆæ¯ã€‚ â€œå‡ºé—®é¢˜äº†-ç¯è¿˜æ˜¯ç†„ç­çš„!â€â€œæœ‰ä¸ªé—®é¢˜-æ²¡æœ‰ç¯å…‰!â€ â€œä½ æ”¶åˆ°æˆ‘ä»¬å‘çš„é‚®ä»¶äº†å—ï¼Ÿç­‰ç­‰ç­‰ç­‰ã€‚ ç¬¬ 32 å°é‚®ä»¶è¯´é“:â€œæ²¡äº‹-ç¯äº®äº†ã€‚â€ è¿™ä¸ª(æŒ‡ 32 å°é‚®ä»¶)è¿‡ç¨‹ï¼Œæˆ–å¤šæˆ–å°‘åœ°ï¼Œåœ¨å¼€å…³ç¯æ—¶åå¤å‘ç”Ÿã€‚ å¦‚æœè¦è¯´æœ‰ä»€ä¹ˆå¥½æ¶ˆæ¯çš„è¯ï¼Œé‚£å°±æ˜¯åœ¨ä¼šè®®ç»“æŸåï¼Œå¤§å®¶ç”šè‡³éƒ½å¿˜è®°äº† 26 æ¥¼æœ‰ä¸ªä¼šè®®å®¤ï¼Œä½ ä¹Ÿä¸éœ€è¦å¯¹å®ƒåšä»»ä½•å¤„ç†ã€‚","categories":[{"name":"bugå°åœºæ™¯","slug":"bugå°åœºæ™¯","permalink":"https://yangxiaoge.github.io/categories/bugå°åœºæ™¯/"}],"tags":[{"name":"article","slug":"article","permalink":"https://yangxiaoge.github.io/tags/article/"}]},{"title":"Windowså¸¸ç”¨å·¥å…·","slug":"Windowså¸¸ç”¨å·¥å…·","date":"2016-09-21T07:24:00.000Z","updated":"2017-09-20T01:41:45.600Z","comments":true,"path":"2016/09/21/Windowså¸¸ç”¨å·¥å…·/","link":"","permalink":"https://yangxiaoge.github.io/2016/09/21/Windowså¸¸ç”¨å·¥å…·/","excerpt":"é¦–å…ˆç”³æ˜æœ¬æ–‡è½¬è½½ï¼Œ æœ¬æ–‡ç”± Michaelç¿” åˆ›ä½œï¼Œ åŸºäºåŸæ–‡æœ‰æ‰€æ”¹åŠ¨ ! æ€»ç»“ä¸€ä¸‹è‡ªå·±å¸¸ç”¨çš„è½¯ä»¶å·¥å…·ï¼Œæœ‰æ­£ç‰ˆå¼€æºçš„ï¼Œè¿˜æ˜¯å°½é‡ä¸è¦å»æ‰¾ç ´è§£ç‰ˆã€ç»¿è‰²ç‰ˆçš„äº†ï¼Œå…»æˆå¥½çš„ä¹ æƒ¯ï¼š","text":"é¦–å…ˆç”³æ˜æœ¬æ–‡è½¬è½½ï¼Œ æœ¬æ–‡ç”± Michaelç¿” åˆ›ä½œï¼Œ åŸºäºåŸæ–‡æœ‰æ‰€æ”¹åŠ¨ ! æ€»ç»“ä¸€ä¸‹è‡ªå·±å¸¸ç”¨çš„è½¯ä»¶å·¥å…·ï¼Œæœ‰æ­£ç‰ˆå¼€æºçš„ï¼Œè¿˜æ˜¯å°½é‡ä¸è¦å»æ‰¾ç ´è§£ç‰ˆã€ç»¿è‰²ç‰ˆçš„äº†ï¼Œå…»æˆå¥½çš„ä¹ æƒ¯ï¼š Windownså¸¸ç”¨è½¯ä»¶å½•åˆ¶Gifå·¥å…·LICEcapå½•åˆ¶Gifå·¥å…·ScreenToGif å·¥å…·ç›¸å½“ä¸é”™ï¼Œè€Œä¸”æ˜¯ç»¿è‰²è½¯ä»¶ï¼ŒçœŸè‰¯å¿ƒ~~ çœ‹å›¾FastStoneImageViewer å…è´¹è½¯ä»¶ï¼Œå¥½ç”¨åˆ°çˆ†ï¼æ²¡å¹¿å‘Šï¼åŠŸèƒ½é½å…¨ï¼ä¸å…‰èƒ½çœ‹å›¾ï¼Œè¿˜èƒ½ä¿®å›¾ï¼Picasa3 Googleçš„å›¾ç‰‡ç®¡ç†è½¯ä»¶(å·²ç»åœæ­¢æœåŠ¡äº†)Photos Google ç›¸å†Œç…§ç‰‡æœåŠ¡ (æœ¬äººiPhone6å†…å­˜16Gä¼¤ä¸èµ·(ï¼›â€²âŒ’`), æœæ–­å¤‡ä»½åˆ°Google Photosäº†!!!) æ–‡ä»¶æœç´¢Listary å°ä¼—è½¯ä»¶ä»‹ç»ï¼Œè¶…çº§å¥½ç”¨çš„æ–‡ä»¶æœç´¢å·¥å…·ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ï¼Œéšæ—¶æœç´¢Everything ä¹Ÿæ˜¯ä¼ è¯´ä¸­çš„æ–‡æ¡£æœç´¢ç¥å™¨ï¼å…¶ä»–åŠŸèƒ½æœ‰å¾…å¼€å‘â€¦â€¦ æ–‡ä»¶æ•´ç†Q-Dir æœ‰æ—¶å€™éœ€è¦åœ¨æ–‡ä»¶å¤¹ä¹‹é—´ç§»åŠ¨æ–‡ä»¶ï¼Œè¿™æ—¶å€™ï¼Œè¿™ä¸ªæ•´ç†ç¥å™¨å°±èƒ½æ´¾ä¸Šç”¨åœºäº†ï¼Clover 3 è¿™æ¬¾æ–‡ä»¶å¤¹ä½“éªŒè·Ÿæµè§ˆå™¨ä¸€æ ·ï¼Œä¸ä¼šæœ‰å¤šçª—å£ï¼Œä¸ä¼šæ‚ä¹±æ— ç«  ! â€” ä¸ªäººç›®å‰åœ¨ç”¨ pdfæŸ¥çœ‹ç¦æ˜•pdfé˜…è¯»æ­£ç‰ˆ2345çœ‹å›¾ç‹ ä½ æ²¡çœ‹é”™ï¼Œ2345å°±æ˜¯è¿™ä¹ˆå¼ºå¤§~ è§†é¢‘æ’­æ”¾PotPlayer åŒçƒ¦äº†æš´é£ä¸€æ‰“å¼€å°±æ˜¯å¹¿å‘Šï¼Œå‘ç°äº†è¿™æ¬¾æ’­æ”¾å™¨ï¼Œæ²¡å¹¿å‘Šï¼èƒ½åŠ›å‡ºè‰²ï¼ è§†é¢‘ä¸‹è½½ç¡•é¼  æœ‰çš„ä¹Ÿä¸èƒ½ä¸‹è½½äº†ï¼Œæ¯”å¦‚ä¼˜é…· è§†é¢‘ä¸‹è½½ç¥å™¨ï¼ä¸ºäº†ä¸‹è½½PCä¸Šçš„ç½‘æ˜“å…¬å¼€è¯¾å‘ç°çš„å·¥å…·ï¼Œå¾ˆå¤šè§†é¢‘ç½‘ç«™éƒ½èƒ½ä¸‹è½½ï¼ åŒæ­¥ç›˜360äº‘ç›˜ç™¾åº¦äº‘è¿™ä¸¤æ¬¾åŒæ­¥ç›˜çœŸæ˜¯ç»™æˆ‘å¸¦æ¥äº†å¾ˆå¤§çš„ä¾¿åˆ©ï¼Œå®‰å…¨æ€§å•¥çš„ä¹Ÿä¸ç”¨å»è¾ƒçœŸï¼Œéå¾—æ•´å•¥Dropbox(éœ€è¦æ¢¯å­)ï¼Œæ¯•ç«Ÿè‡ªå·±ä¹Ÿæ²¡å•¥é‡è¦éšç§æ–‡ä»¶â€¦â€¦ æ–‡ä»¶åˆ é™¤Unlockerä¸‹è½½ å½“ä½ é‡å‘½åæˆ–åˆ é™¤ä¸€ä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹æ—¶ï¼ŒWindows å¼¹å‡ºå¯¹è¯æ¡†æç¤ºä½ â€œæ— æ³•åˆ é™¤ xxx:å®ƒæ­£åœ¨è¢«å…¶å®ƒç”¨æˆ·/ç¨‹åºä½¿ç”¨!â€ï¼Œæ€ä¹ˆåŠ?å…¶å®è…¾è®¯ç”µè„‘ç®¡å®¶çš„ æ–‡ä»¶ç²‰ç¢ åŠŸèƒ½ä¹Ÿå¯ä»¥ â€” ä¸ªäººåœ¨ç”¨ æµè§ˆå™¨Chrome å¾ˆå å†…å­˜ï¼Œä½†å¯åŠ¨é€Ÿåº¦ã€æ ‡ç­¾ã€æ‰©å±•åŒæ­¥ç­‰çœŸæ˜¯åšçš„æ£’ï¼ä¸€ä¸ªè´¦å·ï¼Œèµ°éå¤©ä¸‹~å®‰åˆ©ä¸‹çŸ¥ä¹ä¸Šçš„æ€»ç»“çš„Chromeæ‰©å±• ~~éœ€è¦æ›´å¤šçš„æ’ä»¶å¯ä»¥å»çŸ¥ä¹æœç´¢ä¸‹ ç¬”è®°å°è±¡ç¬”è®° å¾ˆæ£’ï¼è£å‰ªã€æœç´¢ã€æ ‡ç­¾ç­‰ç»†èŠ‚åŠŸèƒ½åšçš„å¾ˆåˆ°ä½ï¼ç®€æ´å¤§æ°”çš„é£æ ¼ï¼Œå¾ˆå–œæ¬¢ã€‚â€” ç›®å‰åœ¨ç”¨ä¸ºçŸ¥ç¬”è®° å›½å†…è‰¯å¿ƒç¬”è®°å…¬å¸ï¼Œåšçš„ä¹Ÿå¾ˆæ£’ï¼ä»£ç é«˜äº®ã€Markdownç­‰ç­‰éƒ½ä¸€åº”ä¿±å…¨ï¼Œè¿˜æœ‰ä¸°å¯Œçš„æ’ä»¶~ æˆªå›¾æœç‹—è¾“å…¥æ³• å“ˆå“ˆï¼Œæ²¡çœ‹é”™ï¼å°±æ˜¯å®ƒï¼å®‰è£…æˆªå›¾æ‰©å±•ä¹‹åï¼Œå¿«æ·é”®å°±èƒ½æˆªå›¾ï¼Œå“ªä¸ªç”µè„‘éƒ½okï¼Œå¤šæ–¹ä¾¿ï¼æœç‹—è¾“å…¥æ³•æŠ€å·§æ€»ç»“ é‚®ç®±è¿™ä¸ªå°±æ¯”è¾ƒå¤šäº†ï¼Œ ç›®å‰åœ¨ç”¨ Gmailï¼Œ126ï¼ŒQQç­‰ å°ä¼—è½¯ä»¶Wgesture ç”¨æƒ¯æµè§ˆå™¨é¼ æ ‡æ‰‹åŠ¿çš„åŒå¿—ï¼Œè¿™ä¸ªç»å¯¹æ˜¯ä½ ä»¬çš„ç¦åˆ©ï¼å…¨å±€é¼ æ ‡æ‰‹åŠ¿ï¼ï¼ï¼ åŠ å¯†å·¥å…·Wise Folder Hider Free éšç§æ–‡ä»¶æ€ä¹ˆä¿å­˜ï¼Ÿè¿™ä¸ªè·å¥–æ— æ•°çš„å·¥å…·ï¼Œå…è´¹ç‰ˆè¶³å¤Ÿç”¨å•¦ï¼ Windowsä¸‹çš„å¼€å‘å·¥å…·æ§åˆ¶å°cmder å¦‚æœåŒå€¦äº†Windowsä¸‹æ§åˆ¶å°ä¸‘é™‹ä¸æ–¹ä¾¿çš„æ ·å­ï¼Œå¯ä»¥è¯•è¯•è¿™ä¸ªã€‚ ç¼–è¾‘å™¨Sublime TextNotepad++Atom IDEè¯´åˆ°IDEå½“ç„¶ç¦»ä¸å¼€ jetbrainså…¨å®¶æ¡¶ è‰¯å¿ƒå…¬å¸ï¼Œå­¦ç”Ÿå…šå…è´¹ï¼å‰ææ˜¯è¦æœ‰æ•™è‚²é‚®ç®±~jetbrainså…¨å®¶æ¡¶: IntelliJ IDEAï¼ŒPhpStormï¼ŒWebStormï¼ŒPycharm -pythonå¼€å‘ï¼ŒAndroid Studioä¹Ÿæ˜¯å®ƒå®¶æä¾›æ”¯æŒçš„ï¼Œç­‰ç­‰Redo pythonè°ƒè¯•å¾ˆæ–¹ä¾¿ï¼Œç•Œé¢æœ‰ç‚¹ç±»ä¼¼R-studioã€PyScripter pythonå¼€å‘ SSåšå®Œä¸€ä¸ªCoderï¼Œsséƒ½æ‡‚çš„å§ï¼Œå­¦ä¹ å·¥ä½œä¸“ç”¨ï¼Œå†é…åˆGoogleæœç´¢ (æŸåº¦è¦æ…é‡ä½¿ç”¨ï¼)ï¼Œæ•ˆç‡å¤§å¤§æå‡~~ æœªå®Œå¾…ç»­~~","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://yangxiaoge.github.io/categories/å·¥å…·/"}],"tags":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"https://yangxiaoge.github.io/tags/å·¥å…·/"}]},{"title":"daocloudæŒç»­é›†æˆä¸ªäººåšå®¢","slug":"daocloudæŒç»­é›†æˆä¸ªäººåšå®¢","date":"2016-09-20T05:46:54.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2016/09/20/daocloudæŒç»­é›†æˆä¸ªäººåšå®¢/","link":"","permalink":"https://yangxiaoge.github.io/2016/09/20/daocloudæŒç»­é›†æˆä¸ªäººåšå®¢/","excerpt":"","text":"è¯¦æƒ…è§æˆ‘åŸºå‹littlefisherçš„æ–‡ç« : Hexo + DaoCloud æŒç»­é›†æˆ","categories":[{"name":"æŒç»­é›†æˆ","slug":"æŒç»­é›†æˆ","permalink":"https://yangxiaoge.github.io/categories/æŒç»­é›†æˆ/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://yangxiaoge.github.io/tags/Hexo/"},{"name":"æŒç»­é›†æˆ","slug":"æŒç»­é›†æˆ","permalink":"https://yangxiaoge.github.io/tags/æŒç»­é›†æˆ/"}]},{"title":"æˆ‘çš„æ¼”è¯´","slug":"æˆ‘çš„æ¼”è¯´","date":"2016-09-20T01:16:59.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2016/09/20/æˆ‘çš„æ¼”è¯´/","link":"","permalink":"https://yangxiaoge.github.io/2016/09/20/æˆ‘çš„æ¼”è¯´/","excerpt":"","text":"æ­¤æ–‡æ˜¯ä¸€ä¸ªæ¼”ç¤ºpptçš„demo,åªè¦æ‰“å¼€ç½‘é¡µå°±èƒ½éšæ—¶éšåœ°å±•ç¤º! ä½¿ç”¨çš„æ˜¯é»„ç„å¼€å‘çš„æ¼”è¯´åœ¨çº¿å·¥å…· Watch Fullscreen â†’ ä½ å¯ä»¥é€šè¿‡æ‰«æäºŒç»´ç åœ¨æ‰‹æœºä¸Šè§‚çœ‹ ä¸Šä¸€å¼ ubuntuçš„å›¾ç‰‡","categories":[{"name":"åœ¨çº¿PPT","slug":"åœ¨çº¿PPT","permalink":"https://yangxiaoge.github.io/categories/åœ¨çº¿PPT/"}],"tags":[{"name":"æ¼”è¯´","slug":"æ¼”è¯´","permalink":"https://yangxiaoge.github.io/tags/æ¼”è¯´/"}]},{"title":"å¼€æºé¡¹ç›®æ”¶é›†","slug":"å¼€æºé¡¹ç›®æ”¶é›†","date":"2016-09-14T03:39:56.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2016/09/14/å¼€æºé¡¹ç›®æ”¶é›†/","link":"","permalink":"https://yangxiaoge.github.io/2016/09/14/å¼€æºé¡¹ç›®æ”¶é›†/","excerpt":"AndroidTVLauncher çŒ«æ¡Œé¢ - ä¸­å›½é¦–ä½ 00 å CEO å…¬ç„¶æŠ„è¢­ã€å¤åˆ¶æˆ‘çš„å¼€æºä½œå“, åŸä½œè€…çš„é¡¹ç›®éƒ½å¾ˆæ£’ï¼åšå†³æŠµåˆ¶è¿™ç§ç‚’ä½œæŠ„è¢­è¡Œä¸ºï¼ Androidæœ€æ–°æºç æ±‡æ€» Arsenal Trinea wanandroid_é¸¿æ´‹ç»´æŠ¤ æå®¢å¯¼èˆª osplus QQä¸Šæ‹‰å¼¹å‡ºé”®ç›˜ AndroidKeyboardListener å„ç§ä¸‹æ‹‰æ•ˆæœSpringView(ç¾å›¾,QQç½‘é¡µä¸‹æ‹‰ç­‰ç­‰) ç­‰ç­‰â€¦","text":"AndroidTVLauncher çŒ«æ¡Œé¢ - ä¸­å›½é¦–ä½ 00 å CEO å…¬ç„¶æŠ„è¢­ã€å¤åˆ¶æˆ‘çš„å¼€æºä½œå“, åŸä½œè€…çš„é¡¹ç›®éƒ½å¾ˆæ£’ï¼åšå†³æŠµåˆ¶è¿™ç§ç‚’ä½œæŠ„è¢­è¡Œä¸ºï¼ Androidæœ€æ–°æºç æ±‡æ€» Arsenal Trinea wanandroid_é¸¿æ´‹ç»´æŠ¤ æå®¢å¯¼èˆª osplus QQä¸Šæ‹‰å¼¹å‡ºé”®ç›˜ AndroidKeyboardListener å„ç§ä¸‹æ‹‰æ•ˆæœSpringView(ç¾å›¾,QQç½‘é¡µä¸‹æ‹‰ç­‰ç­‰) ç­‰ç­‰â€¦ å°è±¡ç¬”è®°(ç›®å‰ä¸å¯¹å¤–å…¬å¸ƒ) æ”¶é›†ä¸­(é¸¿æ´‹,éƒ­éœ–å¾®ä¿¡åšå®¢éƒ½å¯ä»¥å…³æ³¨ä¸‹)â€¦ æ»´æ»´æ»´~~~æ¥ä¸åŠè§£é‡Šäº†! å¿«ä¸Šè½¦! ä¸é”™çš„åšå®¢å’Œå·¥å…·ç½‘ç«™ ä»¿QQ6.0ä¾§æ»‘æ•ˆæœ AndroidåŠ¨æ€ç”ŸæˆéªŒè¯ç VerificationCode View Androidå¼€å‘äººå‘˜ä¸å¾—ä¸æ”¶é›†çš„ä»£ç (æŒç»­æ›´æ–°ä¸­) æ¸…æ™°çµæ´»ç®€å•æ˜“ç”¨çš„åº”ç”¨æ›´æ–°åº“ å¤šè¯­è¨€åˆ‡æ¢åº“ mpté¡¹ç›®ä½¿ç”¨ä¸­ calligraphy(é«˜æ•ˆåŠ è½½å­—ä½“åº“) mpté¡¹ç›®ä½¿ç”¨ä¸­ material-dialogs QuickDevLib TakePhoto StatusBarUtilçŠ¶æ€æ å·¥å…·ç±» å¾®ç¬‘ä¸‹æ‹‰åˆ·æ–° å„ç§å¸ƒå±€ä¸‹æ‹‰åˆ·æ–°æ•ˆæœ å¤šFragmentåµŒå¥—åº“, ä»¿çŸ¥ä¹ç­‰ ä»¿ç…§ç½‘æ˜“äº‘éŸ³ä¹(2.9.0)ç•Œé¢çš„ç»ƒä¹ é¡¹ç›® æ‰‹åŠ¿å¼•å¯¼ é«˜ä»¿QQé™„è¿‘çš„äººé›·è¾¾æ‰«æå›¾ SwipeMenuListView é«˜ä»¿WeChat ã€ŠAndroidå¼€å‘è‰ºæœ¯æ¢ç´¢ã€‹ä¹¦ä¸­æºä»£ç  é¸¿æ´‹okhttpçš„å°è£…ç±» appæŒ‡å‘æ€§åŠŸèƒ½é«˜äº®çš„åº“_é¸¿æ´‹å†™çš„ Material Design Bottom çŸ¥ä¹ Android å®¢æˆ·ç«¯å¯åŠ¨é¡µåŠ¨ç”»æ•ˆæœå®ç° ä»¿flymeæ‚¬æµ®çƒ wuchangfeng/one åå°ç”¨pythonæŠ“æ•°æ®å­˜å‚¨åœ¨LeanCloud - å¯¹åº”çš„åç«¯ åˆç†çš„è¿›ç¨‹ä¿æ´» æ‰“ä¸æ­»çš„å°å¼º,æ°¸ä¸crashçš„Android Fragmentationä¸€ä¸ªå¼ºå¤§çš„Android Fragmentç®¡ç†åº“,apkä¸‹è½½ - 2017å¹´2æœˆ20æ—¥09:54:56 Android ç›´æ’­æ’­æ”¾å™¨+å¼¹å¹•ä½¿ç”¨æ€»ç»“ - 2017å¹´2æœˆ16æ—¥16:02:06 ã€Šäº‘é˜…ã€‹ä¸€ä¸ªä»¿ç½‘æ˜“äº‘éŸ³ä¹UIï¼Œä½¿ç”¨Gank.IoåŠè±†ç“£Apiå¼€å‘çš„å¼€æºé¡¹ç›® é«˜ä»¿å¾®ä¿¡6.3.31 androidå„ç§æµç¨‹æºç è§£æ AndroidStudioâ€”â€”Freelineçš„ä½¿ç”¨â€”éƒ­éœ–å…¬ä¼—å· Androidè·¯ç”±æ¡†æ¶ æ¯•ä¸šè®¾è®¡â€”â€”okHttpå°è£…+php+xampp+retrofitå°è£…+rx+mvc+æ–‡æ¡£çš„æˆå“app RapidFloatingActionButton sealtalk-androidï¼šåŸºäºèäº‘å¼€å‘çš„ Android ç‰ˆå³æ—¶é€šè®¯ï¼ˆIMï¼‰åº”ç”¨ç¨‹åº - å—¨è±¹ - é¸¿æ´‹å¾®ä¿¡æ¨è DropDownMenuå¼€æºåº“ SmartRefreshLayout - Android æ™ºèƒ½ä¸‹æ‹‰åˆ·æ–°æ¡†æ¶-SmartRefreshLayout easy_mock_api - ç»™å®¢æˆ·ç«¯ï¼ˆAndroid iOSï¼‰åŒå­¦çš„æ¨¡æ‹Ÿjsonæ¥å£çš„å°å·¥å…· ç”¨nodejsï¼ˆexpress+reactï¼‰æ­å»ºçš„æç®€çš„æœåŠ¡å™¨ï¼Œç»™å®šä¸€ä¸ªurlå°±è¿”å›ä¸€ä¸ªç‰¹å®šçš„Jsonæ•°æ®ï¼Œæä¾›ç»™å®¢æˆ·ç«¯å¼€å‘åŒå­¦ç”¨çš„æ¨¡æ‹ŸJsonæœåŠ¡å™¨æ¥å£çš„é¡¹ç›®ï¼Œé¡¹ç›®å°½å¯èƒ½çš„ç®€å•ï¼Œæ ¸å¿ƒä»£ç åªæœ‰100å¤šè¡Œï¼Œç®€å•è€Œå®ç”¨ï¼Œæ–¹ä¾¿æ‰©å±•ã€‚ Spotlight-æ”¯æŒå¼•å¯¼è·¯å¾„é«˜äº®çš„æ–¹æ¡ˆã€‚ Matisse - çŸ¥ä¹å›¾ç‰‡é€‰æ‹©47.TelegramGallery - æŠ½å– Telegram ç›¸å†ŒåŠŸèƒ½ ä»¿å…¨æ°‘TV é«˜ä»¿å…¨æ°‘ç›´æ’­ï¼ˆå…¨æ°‘TVï¼‰ é«˜ä»¿iOS æ»šè½®å®ç° çœå¸‚åŒº åŸå¸‚é€‰æ‹©ä¸‰çº§è”åŠ¨ å²ä¸Šæœ€ç®€å•ä¾§æ»‘èœå•52.GankMM â€“ å¹²è´§è¥ - åŒ…å« æ³¡ç½‘ï¼Œå¤©æ°”ï¼Œå¸¸ç”¨å·¥å…·ï¼Œæ¢è‚¤ç­‰52.Android å½•éŸ³åŠŸèƒ½ç›´æ¥æ‹¿å»ç”¨ - codeå°ç”Ÿ53.Android å®ç° dialog çš„ 3D ç¿»è½¬54.360Â° å…¨æ™¯å›¾ç‰‡ã€å…¨æ™¯è§†é¢‘å·¥ç¨‹55.Android-SVProgressHUD ç²¾ä»¿ iOS çš„æç¤ºåº“","categories":[],"tags":[]},{"title":"Android Studioå¸¸ç”¨æ’ä»¶æ•´ç†(å¤§å›¾é¢„è­¦!)","slug":"Android Studioå¸¸ç”¨æ’ä»¶æ•´ç†(å¤§å›¾é¢„è­¦!)","date":"2016-08-31T01:51:51.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2016/08/31/Android Studioå¸¸ç”¨æ’ä»¶æ•´ç†(å¤§å›¾é¢„è­¦!)/","link":"","permalink":"https://yangxiaoge.github.io/2016/08/31/Android Studioå¸¸ç”¨æ’ä»¶æ•´ç†(å¤§å›¾é¢„è­¦!)/","excerpt":"","text":"è¯¦æƒ…è§: ä¹ æƒ¯æ²‰é»˜çš„Blog","categories":[{"name":"Android Studioæ’ä»¶","slug":"Android-Studioæ’ä»¶","permalink":"https://yangxiaoge.github.io/categories/Android-Studioæ’ä»¶/"}],"tags":[{"name":"Android Studio","slug":"Android-Studio","permalink":"https://yangxiaoge.github.io/tags/Android-Studio/"}]},{"title":"bughdè®©bugæ— å¤„éå½¢","slug":"bughdè®©bugæ— å¤„éå½¢","date":"2016-08-17T01:21:05.000Z","updated":"2017-09-20T01:41:45.600Z","comments":true,"path":"2016/08/17/bughdè®©bugæ— å¤„éå½¢/","link":"","permalink":"https://yangxiaoge.github.io/2016/08/17/bughdè®©bugæ— å¤„éå½¢/","excerpt":"BugHD å¸®åŠ© Androidå¼€å‘, å´©æºƒåˆ†æ &amp; æ£€æµ‹æ›´æ–°&amp; å¼€æ”¾ APIã€‚ å¦‚ä½•åœ¨appä¸­é…ç½®ï¼Ÿ è¯¦è§å®˜æ–¹æ–‡æ¡£ MumuXié¡¹ç›®ä¸­å·²ç»é…ç½®å¥½äº†,å¯ä»¥ä¾›å‚è€ƒ é›†æˆåˆ°appä¸­åˆ†ä¸ºå¦‚ä¸‹å‡ æ­¥: General KeyGeneral Key ç”¨æ¥å”¯ä¸€æ ‡è¯†æ‚¨çš„åº”ç”¨ï¼Œä¸ºé˜²æ­¢åˆ«äººæ»¥ç”¨ï¼Œè¯·å‹¿æ³„éœ²ï¼Œå»ºç«‹æ¯ä¸ªé¡¹ç›®æ—¶å°†è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®å¯¹åº”çš„ General Keyï¼Œå¯åœ¨é¡¹ç›®åˆ—è¡¨é¡µæŸ¥çœ‹æ¯ä¸ªé¡¹ç›®å¯¹åº”çš„ General Keyå€¼","text":"BugHD å¸®åŠ© Androidå¼€å‘, å´©æºƒåˆ†æ &amp; æ£€æµ‹æ›´æ–°&amp; å¼€æ”¾ APIã€‚ å¦‚ä½•åœ¨appä¸­é…ç½®ï¼Ÿ è¯¦è§å®˜æ–¹æ–‡æ¡£ MumuXié¡¹ç›®ä¸­å·²ç»é…ç½®å¥½äº†,å¯ä»¥ä¾›å‚è€ƒ é›†æˆåˆ°appä¸­åˆ†ä¸ºå¦‚ä¸‹å‡ æ­¥: General KeyGeneral Key ç”¨æ¥å”¯ä¸€æ ‡è¯†æ‚¨çš„åº”ç”¨ï¼Œä¸ºé˜²æ­¢åˆ«äººæ»¥ç”¨ï¼Œè¯·å‹¿æ³„éœ²ï¼Œå»ºç«‹æ¯ä¸ªé¡¹ç›®æ—¶å°†è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®å¯¹åº”çš„ General Keyï¼Œå¯åœ¨é¡¹ç›®åˆ—è¡¨é¡µæŸ¥çœ‹æ¯ä¸ªé¡¹ç›®å¯¹åº”çš„ General Keyå€¼ å¯¼å…¥SDK â€“&gt;å…¶ä¸€æ–¹æ³•: é€šè¿‡ Gradle è‡ªåŠ¨æ„å»ºåœ¨é¡¹ç›®çš„ build.gradleï¼ˆTop-level build fileï¼Œé¡¹ç›®æœ€å¤–å±‚çš„ build.gradle æ–‡ä»¶ï¼‰ä¸­æ·»åŠ è¿™ä¸ª maven repositoriesï¼Œä¾‹å¦‚ï¼š 1234567891011121314151617181920buildscript &#123; repositories &#123; jcenter() &#125; dependencies &#123; classpath 'com.android.tools.build:gradle:1.0.0' &#125;&#125;allprojects &#123; repositories &#123; jcenter() maven &#123; url \"http://maven.bughd.com/public\" &#125; &#125;&#125; åœ¨è¦é›†æˆçš„é¡¹ç›®ä¸­çš„ build.gradle ä¸­æ·»åŠ ä¾èµ–ï¼Œå¦‚ä¸‹ï¼š 123dependencies &#123; compile 'im.fir:fir-sdk:latest.integration@aar'&#125; é…ç½®123456789101112131415&lt;manifestâ€¦â€¦&gt; &lt;!-- å¿…é€‰ --&gt; &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"&gt;&lt;/uses-permission&gt; &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"&gt;&lt;/uses-permission&gt; &lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt; &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\"&gt;&lt;/uses-permission&gt; &lt;!-- å¯é€‰ --&gt; &lt;uses-permission android:name=\"android.permission.GET_TASKS\"&gt;&lt;/uses-permission&gt; &lt;application â€¦â€¦&gt; &lt;activity â€¦â€¦/&gt; &lt;meta-data android:value=\"ä½ çš„GENERAL_KEY\" android:name=\"BUG_HD_SDK_GENERAL_KEY\" /&gt; &lt;/application&gt;&lt;/manifest&gt; è°ƒç”¨SDKç»§æ‰¿ Applicationï¼Œå¹¶åœ¨ onCreate() æ–¹æ³•ä¸­çš„ç¬¬ä¸€è¡ŒåŠ å…¥ FIR.init(this) 123456789public class MyApplication extends Application &#123; @Override public void onCreate() &#123; super.onCreate(); FIR.init(this); &#125;&#125; ä¿®æ”¹ AndroidManifest.xmlï¼Œåœ¨å…¶ä¸­åŠ å…¥ android:name=&quot;xxxx&quot;ï¼Œä½¿ç”¨ç»§æ‰¿è¿‡çš„çš„ application ç±»,ä¾‹å¦‚ 12345678&lt;application android:name=\".MyApplication\" android:allowBackup=\"true\" android:icon=\"@drawable/ic_launcher\" android:label=\"@string/app_name\" android:theme=\"@style/AppTheme\" &gt; ....&lt;/application&gt; å¦‚ä¸Šé…ç½®å½’çº³,å°±æ˜¯3æ­¥æœ€åçœ‹ä¸‹åˆ†æç•Œé¢","categories":[{"name":"BugHD","slug":"BugHD","permalink":"https://yangxiaoge.github.io/categories/BugHD/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"}]},{"title":"Gitè¯­æ³•","slug":"Gitè¯­æ³•","date":"2016-08-03T08:13:45.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2016/08/03/Gitè¯­æ³•/","link":"","permalink":"https://yangxiaoge.github.io/2016/08/03/Gitè¯­æ³•/","excerpt":"æœ¬æ–‡æ‘˜è‡ªæˆ‘çš„å°ä¼™ä¼´KevinJin å¼€æºä¸­å›½çš„ Pro Gitï¼ˆä¸­æ–‡ç‰ˆï¼‰ 1ã€GitåŸºç¡€1.1 åˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿå¸¸ç”¨æ“ä½œ: å…‹éš†è¿œç¨‹ä»“åº“git clone &lt;/path/to/repository&gt; æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€git status","text":"æœ¬æ–‡æ‘˜è‡ªæˆ‘çš„å°ä¼™ä¼´KevinJin å¼€æºä¸­å›½çš„ Pro Gitï¼ˆä¸­æ–‡ç‰ˆï¼‰ 1ã€GitåŸºç¡€1.1 åˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿå¸¸ç”¨æ“ä½œ: å…‹éš†è¿œç¨‹ä»“åº“git clone &lt;/path/to/repository&gt; æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€git status æ·»åŠ æ›´æ”¹åˆ°æš‚å­˜åŒºgit add &lt;filename&gt;&nbsp;&nbsp;æ·»åŠ æŸä¸ªæ–‡ä»¶git add .&nbsp;&nbsp;æ·»åŠ å½“å‰ç›®å½•åŠå­ç›®å½•æ‰€æœ‰æ–‡ä»¶git add -A &nbsp;&nbsp;æ·»åŠ æ‰€æœ‰æ”¹åŠ¨ ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä»¥å®é™…æäº¤æ”¹åŠ¨git commit -m &quot;ä»£ç æäº¤ä¿¡æ¯&quot; åˆ†æ”¯æ“ä½œgit branch &lt;branch name&gt;&nbsp;&nbsp;æ–°å»ºåˆ†æ”¯git checkout &lt;branch name&gt;&nbsp;&nbsp;åˆ‡æ¢åˆ°æŸä¸ªåˆ†æ”¯git branch -d &lt;branch name&gt;&nbsp;&nbsp;åˆ é™¤åˆ†æ”¯ è¦åˆå¹¶å…¶ä»–åˆ†æ”¯ï¼ˆå¯ä»¥æ˜¯ä»»ä½•è¿œç¨‹åˆ†æ”¯æˆ–æœ¬åœ°åˆ†æ”¯ï¼‰åˆ°ä½ çš„å½“å‰åˆ†æ”¯ï¼Œæ‰§è¡Œï¼šgit merge &lt;branch&gt;&nbsp;&nbsp;//git merge devgit merge origin/dev è·å–è¿œç¨‹ä»“åº“æ”¹åŠ¨git fetch &lt;remote&gt;&nbsp;&nbsp;//git fetch origin è·å–è¿œç¨‹ä»“åº“æ”¹åŠ¨ï¼ŒåŒæ—¶åˆå¹¶ï¼ˆmergeï¼‰åˆ°å½“å‰åˆ†æ”¯git pull &lt;remote&gt; &lt;branch&gt;&nbsp;&nbsp;//git pull origin dev&nbsp;&nbsp;è·å–è¿œç¨‹ä»“åº“originçš„devåˆ†æ”¯ï¼Œåˆå¹¶åˆ°å½“å‰åˆ†æ”¯ æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“git push &lt;remote&gt; &lt;branch&gt;&nbsp;&nbsp;//git push origin dev&nbsp;&nbsp;æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“originçš„devåˆ†æ”¯ 1.2 Gitåˆå§‹åŒ–ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æœ¬åœ°ä»“åº“å®‰è£…gitåï¼Œé…ç½®è‡ªå·±çš„ä¸ªäººä¿¡æ¯git config --global user.name &quot;KevinJin614&quot;git config --global user.email &quot;***@qq.com&quot;åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ï¼Œç„¶åæ‰§è¡Œgit init git addgit commitä»¥åˆ›å»ºæ–°çš„ git ä»“åº“ 1.3 Gitæš‚å­˜åŒºä½ çš„æœ¬åœ°ä»“åº“ç”± git ç»´æŠ¤çš„ä¸‰æ£µâ€œæ ‘â€ç»„æˆã€‚ç¬¬ä¸€ä¸ªæ˜¯ä½ çš„å·¥ä½œç›®å½•ï¼Œå®ƒæŒæœ‰å®é™…æ–‡ä»¶ï¼›ç¬¬äºŒä¸ªæ˜¯æš‚å­˜åŒºï¼ˆIndexï¼‰,å®ƒåƒä¸ªç¼“å­˜åŒºåŸŸï¼Œä¸´æ—¶ä¿å­˜ä½ çš„æ”¹åŠ¨ï¼›æœ€åæ˜¯ HEADï¼Œå®ƒæŒ‡å‘ä½ æœ€åä¸€æ¬¡æäº¤çš„ç»“æœã€‚HEADå’Œåˆ†æ”¯éƒ½æ˜¯å¼•ç”¨ã€‚ä½¿ç”¨git status [-s] æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€ï¼Œæ·»åŠ -så‚æ•°ä»¥ç²¾ç®€æ¨¡å¼æ˜¾ç¤º å½“æ‰§è¡Œgit reset HEADå‘½ä»¤æ—¶ï¼Œæš‚å­˜åŒºçš„ç›®å½•æ ‘ä¼šè¢«é‡å†™ï¼Œè¢«masteråˆ†æ”¯æŒ‡å‘çš„ç›®å½•æ ‘æ‰€æ›¿æ¢ï¼Œä½†æ˜¯å·¥ä½œåŒºä¸å—å½±å“ã€‚ å½“æ‰§è¡Œgit rm --cached &lt;file&gt;å‘½ä»¤æ—¶ï¼Œä¼šç›´æ¥ä»æš‚å­˜åŒºåˆ é™¤æ–‡ä»¶ï¼Œå·¥ä½œåŒºåˆ™ä¸åšå‡ºæ”¹å˜ã€‚ å½“æ‰§è¡Œgit checkout.æˆ–è€…git checkout -- &lt;file&gt;å‘½ä»¤æ—¶ï¼Œä¼šç”¨æš‚å­˜åŒºå…¨éƒ¨æˆ–æŒ‡å®šçš„æ–‡ä»¶æ›¿æ¢å·¥ä½œåŒºçš„æ–‡ä»¶ã€‚è¿™ä¸ªæ“ä½œå¾ˆå±é™©ï¼Œä¼šæ¸…é™¤å·¥ä½œåŒºä¸­æœªæ·»åŠ åˆ°æš‚å­˜åŒºçš„æ”¹åŠ¨ã€‚ å½“æ‰§è¡Œgit checkout HEAD .æˆ–è€…git checkout HEAD &lt;file&gt;å‘½ä»¤æ—¶ï¼Œä¼šç”¨HEADæŒ‡å‘çš„masteråˆ†æ”¯ä¸­çš„å…¨éƒ¨æˆ–è€…éƒ¨åˆ†æ–‡ä»¶æ›¿æ¢æš‚å­˜åŒºå’Œä»¥åŠå·¥ä½œåŒºä¸­çš„æ–‡ä»¶ã€‚è¿™ä¸ªå‘½ä»¤ä¹Ÿæ˜¯æå…·å±é™©æ€§çš„ï¼Œå› ä¸ºä¸ä½†ä¼šæ¸…é™¤å·¥ä½œåŒºä¸­æœªæäº¤çš„æ”¹åŠ¨ï¼Œä¹Ÿä¼šæ¸…é™¤æš‚å­˜åŒºä¸­æœªæäº¤çš„æ”¹åŠ¨ã€‚ 1.4 git diff å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ¯”è¾ƒgit diff [--] [&lt;path&gt;â€¦] æš‚å­˜åŒºå’ŒæŸæ¬¡æäº¤ï¼ˆå¦‚HEADï¼‰æ¯”è¾ƒgit diff --cached [&lt;commit&gt;] [--] [&lt;path&gt;â€¦] å·¥ä½œåŒºå’ŒæŸæ¬¡æäº¤ï¼ˆå¦‚HEADï¼‰æ¯”è¾ƒgit diff [&lt;commit&gt;] [--] [&lt;path&gt;â€¦] æ¯”è¾ƒä»»æ„ä¸¤æ¬¡commitä¹‹é—´çš„æ”¹åŠ¨git diff &lt;commit&gt; &lt;commit&gt; [--] [&lt;path&gt;] æ‰€æœ‰çš„difféƒ½å¯ä»¥ç”¨difftoolæ›¿ä»£ 1.5 git reseté‡ç½®æš‚å­˜åŒºgit resetgit reset --hard HEAD^ é‡ç½®å‘½ä»¤ï¼ˆgit resetï¼‰æ˜¯Gitæœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æœ€å±é™©ï¼Œæœ€å®¹æ˜“è¯¯ç”¨çš„å‘½ä»¤ã€‚æ¥çœ‹çœ‹git resetå‘½ä»¤çš„ç”¨æ³•ã€‚ç”¨æ³•ä¸€ï¼šgit reset [-q] [&lt;commit&gt;] [--] &lt;paths&gt;...ç”¨æ³•äºŒï¼šgit reset [--soft | --mixed | --hard | --merge | --keep] [-q] [&lt;commit&gt;] ä¸Šé¢åˆ—å‡ºäº†ä¸¤ä¸ªç”¨æ³•ï¼Œå…¶ä¸­ éƒ½æ˜¯å¯é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨å¼•ç”¨æˆ–è€…æäº¤IDï¼Œå¦‚æœçœç•¥ åˆ™ç›¸å½“äºä½¿ç”¨äº†HEADçš„æŒ‡å‘ä½œä¸ºæäº¤IDã€‚ä¸Šé¢åˆ—å‡ºçš„ä¸¤ç§ç”¨æ³•çš„åŒºåˆ«åœ¨äºï¼Œç¬¬ä¸€ç§ç”¨æ³•åœ¨å‘½ä»¤ä¸­åŒ…å«è·¯å¾„ã€‚ä¸ºäº†é¿å…è·¯å¾„å’Œå¼•ç”¨ï¼ˆæˆ–è€…æäº¤IDï¼‰åŒåè€Œå†²çªï¼Œå¯ä»¥åœ¨å‰ç”¨ä¸¤ä¸ªè¿ç»­çš„çŸ­çº¿ï¼ˆå‡å·ï¼‰ä½œä¸ºåˆ†éš”ã€‚ ç¬¬ä¸€ç§ç”¨æ³•ï¼ˆåŒ…å«äº†è·¯å¾„çš„ç”¨æ³•ï¼‰ä¸ä¼šé‡ç½®å¼•ç”¨ï¼Œæ›´ä¸ä¼šæ”¹å˜å·¥ä½œåŒºï¼Œè€Œæ˜¯ç”¨æŒ‡å®šæäº¤çŠ¶æ€ï¼ˆï¼‰ä¸‹çš„æ–‡ä»¶ï¼ˆï¼‰æ›¿æ¢æ‰æš‚å­˜åŒºä¸­çš„æ–‡ä»¶ã€‚ä¾‹å¦‚å‘½ä»¤git reset HEAD ç›¸å½“äºå–æ¶ˆä¹‹å‰æ‰§è¡Œçš„git add å‘½ä»¤æ—¶æ”¹å˜çš„æš‚å­˜åŒºã€‚ ç¬¬äºŒç§ç”¨æ³•ï¼ˆä¸ä½¿ç”¨è·¯å¾„çš„ç”¨æ³•ï¼‰åˆ™ä¼šé‡ç½®å¼•ç”¨ã€‚æ ¹æ®ä¸åŒçš„é€‰é¡¹ï¼Œå¯ä»¥å¯¹æš‚å­˜åŒºæˆ–è€…å·¥ä½œåŒºè¿›è¡Œé‡ç½®ã€‚å‚ç…§ä¸‹é¢çš„ç‰ˆæœ¬åº“æ¨¡å‹å›¾ï¼Œæ¥çœ‹ä¸€çœ‹ä¸åŒçš„å‚æ•°å¯¹ç¬¬äºŒç§é‡ç½®è¯­æ³•çš„å½±å“ã€‚ å‘½ä»¤æ ¼å¼: git reset [--soft | --mixed | --hard ] [&lt;commit&gt;] ä½¿ç”¨å‚æ•°â€“hardï¼Œå¦‚ï¼šgit reset --hard &lt;commit&gt;ä¼šæ‰§è¡Œä¸Šå›¾ä¸­çš„1ã€2ã€3å…¨éƒ¨çš„ä¸‰ä¸ªåŠ¨ä½œã€‚å³ï¼š æ›¿æ¢å¼•ç”¨çš„æŒ‡å‘ã€‚å¼•ç”¨æŒ‡å‘æ–°çš„æäº¤IDã€‚ æ›¿æ¢æš‚å­˜åŒºã€‚æ›¿æ¢åï¼Œæš‚å­˜åŒºçš„å†…å®¹å’Œå¼•ç”¨æŒ‡å‘çš„ç›®å½•æ ‘ä¸€è‡´ã€‚ æ›¿æ¢å·¥ä½œåŒºã€‚æ›¿æ¢åï¼Œå·¥ä½œåŒºçš„å†…å®¹å˜å¾—å’Œæš‚å­˜åŒºä¸€è‡´ï¼Œä¹Ÿå’ŒHEADæ‰€æŒ‡å‘çš„ç›®å½•æ ‘å†…å®¹ç›¸åŒã€‚ ä½¿ç”¨å‚æ•°â€“softï¼Œå¦‚:git reset --soft &lt;commit&gt;ä¼šæ‰§è¡Œä¸Šå›¾ä¸­çš„æ“ä½œ1ã€‚å³åªæ›´æ”¹å¼•ç”¨çš„æŒ‡å‘ï¼Œä¸æ”¹å˜æš‚å­˜åŒºå’Œå·¥ä½œåŒºã€‚ ä½¿ç”¨å‚æ•°â€“mixedæˆ–è€…ä¸ä½¿ç”¨å‚æ•°ï¼ˆç¼ºçœå³ä¸ºâ€“mixedï¼‰ï¼Œå¦‚:git reset &lt;commit&gt;ä¼šæ‰§è¡Œä¸Šå›¾ä¸­çš„æ“ä½œ1å’Œæ“ä½œ2ã€‚å³æ›´æ”¹å¼•ç”¨çš„æŒ‡å‘ä»¥åŠé‡ç½®æš‚å­˜åŒºï¼Œä½†æ˜¯ä¸æ”¹å˜å·¥ä½œåŒºã€‚ä¸‹é¢é€šè¿‡ä¸€äº›ç¤ºä¾‹ï¼Œçœ‹ä¸€ä¸‹é‡ç½®å‘½ä»¤çš„ä¸åŒç”¨æ³•ã€‚ å‘½ä»¤ï¼šgit resetä»…ç”¨HEADæŒ‡å‘çš„ç›®å½•æ ‘é‡ç½®æš‚å­˜åŒºï¼Œå·¥ä½œåŒºä¸ä¼šå—åˆ°å½±å“ï¼Œç›¸å½“äºå°†ä¹‹å‰ç”¨git addå‘½ä»¤æ›´æ–°åˆ°æš‚å­˜åŒºçš„å†…å®¹æ’¤å‡ºæš‚å­˜åŒºã€‚å¼•ç”¨ä¹Ÿæœªæ”¹å˜ï¼Œå› ä¸ºå¼•ç”¨é‡ç½®åˆ°HEADç›¸å½“äºæ²¡æœ‰é‡ç½®ã€‚ å‘½ä»¤ï¼šgit reset HEADåŒä¸Šã€‚ å‘½ä»¤ï¼šgit reset -- filenameä»…å°†æ–‡ä»¶filenameæ’¤å‡ºæš‚å­˜åŒºï¼Œæš‚å­˜åŒºä¸­å…¶ä»–æ–‡ä»¶ä¸æ”¹å˜ã€‚ç›¸å½“äºå¯¹å‘½ä»¤git add filenameçš„åå‘æ“ä½œã€‚ å‘½ä»¤ï¼šgit reset HEAD filenameåŒä¸Šã€‚ å‘½ä»¤ï¼šgit reset --soft HEAD^å·¥ä½œåŒºå’Œæš‚å­˜åŒºä¸æ”¹å˜ï¼Œä½†æ˜¯å¼•ç”¨å‘å‰å›é€€ä¸€æ¬¡ã€‚å½“å¯¹æœ€æ–°æäº¤çš„æäº¤è¯´æ˜æˆ–è€…æäº¤çš„æ›´æ”¹ä¸æ»¡æ„æ—¶ï¼Œæ’¤é”€æœ€æ–°çš„æäº¤ä»¥ä¾¿é‡æ–°æäº¤ã€‚åœ¨ä¹‹å‰æ›¾ç»ä»‹ç»è¿‡ä¸€ä¸ªä¿®è¡¥æäº¤å‘½ä»¤git commit --amendï¼Œç”¨äºå¯¹æœ€æ–°çš„æäº¤è¿›è¡Œé‡æ–°æäº¤ä»¥ä¿®è¡¥é”™è¯¯çš„æäº¤è¯´æ˜æˆ–è€…é”™è¯¯çš„æäº¤æ–‡ä»¶ã€‚ä¿®è¡¥æäº¤å‘½ä»¤å®é™…ä¸Šç›¸å½“äºæ‰§è¡Œäº†ä¸‹é¢ä¸¤æ¡å‘½ä»¤ã€‚ï¼ˆæ³¨ï¼šæ–‡ä»¶.git/COMMIT_EDITMSGä¿å­˜äº†ä¸Šæ¬¡çš„æäº¤æ—¥å¿—ï¼‰$ git reset --soft HEAD^$ git commit -e -F .git/COMMIT_EDITMSG å‘½ä»¤ï¼šgit reset HEAD^å·¥ä½œåŒºä¸æ”¹å˜ï¼Œä½†æ˜¯æš‚å­˜åŒºä¼šå›é€€åˆ°ä¸Šä¸€æ¬¡æäº¤ä¹‹å‰ï¼Œå¼•ç”¨ä¹Ÿä¼šå›é€€ä¸€æ¬¡ã€‚ å‘½ä»¤ï¼šgit reset --mixed HEAD^åŒä¸Šã€‚ å‘½ä»¤ï¼šgit reset --hard HEAD^å½»åº•æ’¤é”€æœ€è¿‘çš„æäº¤ã€‚å¼•ç”¨å›é€€åˆ°å‰ä¸€æ¬¡ï¼Œè€Œä¸”å·¥ä½œåŒºå’Œæš‚å­˜åŒºéƒ½ä¼šå›é€€åˆ°ä¸Šä¸€æ¬¡æäº¤çš„çŠ¶æ€ã€‚è‡ªä¸Šä¸€æ¬¡ä»¥æ¥çš„æäº¤å…¨éƒ¨ä¸¢å¤±ã€‚ 1.6 git checkoutæ£€å‡ºåˆ°å·¥ä½œåŒº æ£€å‡ºå‘½ä»¤ï¼ˆgit checkoutï¼‰æ˜¯Gitæœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ï¼ŒåŒæ ·ä¹Ÿå¾ˆå±é™©ï¼Œå› ä¸ºè¿™æ¡å‘½ä»¤ä¼šé‡å†™å·¥ä½œåŒºã€‚ç”¨æ³•ä¸€ï¼š git checkout [-q] [&lt;commit&gt;] [--] &lt;paths&gt;...ç”¨æ³•äºŒï¼š git checkout [&lt;branch&gt;]ç”¨æ³•ä¸‰ï¼š git checkout [-m] [[-b|--orphan] &lt;new_branch&gt;] [&lt;start_point&gt;] ä¸Šé¢åˆ—å‡ºçš„ç¬¬ä¸€ç§ç”¨æ³•å’Œç¬¬äºŒç§ç”¨æ³•çš„åŒºåˆ«åœ¨äºï¼Œç¬¬ä¸€ç§ç”¨æ³•åœ¨å‘½ä»¤ä¸­åŒ…å«è·¯å¾„&lt;paths&gt;ã€‚ä¸ºäº†é¿å…è·¯å¾„å’Œå¼•ç”¨ï¼ˆæˆ–è€…æäº¤IDï¼‰åŒåè€Œå†²çªï¼Œå¯ä»¥åœ¨&lt;paths&gt;å‰ç”¨ä¸¤ä¸ªè¿ç»­çš„çŸ­çº¿ï¼ˆå‡å·ï¼‰ä½œä¸ºåˆ†éš”ã€‚&gt; ç¬¬ä¸€ç§ç”¨æ³•çš„&lt;commit&gt;æ˜¯å¯é€‰é¡¹ï¼Œå¦‚æœçœç•¥åˆ™ç›¸å½“äºä»æš‚å­˜åŒºï¼ˆindexï¼‰è¿›è¡Œæ£€å‡ºã€‚è¿™å’Œä¸Šä¸€ç« çš„é‡ç½®å‘½ä»¤å¤§ä¸ç›¸åŒï¼šé‡ç½®çš„é»˜è®¤å€¼æ˜¯HEADï¼Œè€Œæ£€å‡ºçš„é»˜è®¤å€¼æ˜¯æš‚å­˜åŒºã€‚å› æ­¤é‡ç½®ä¸€èˆ¬ç”¨äºé‡ç½®æš‚å­˜åŒºï¼ˆé™¤éä½¿ç”¨â€“hardå‚æ•°ï¼Œå¦åˆ™ä¸é‡ç½®å·¥ä½œåŒºï¼‰ï¼Œè€Œæ£€å‡ºå‘½ä»¤ä¸»è¦æ˜¯è¦†ç›–å·¥ä½œåŒºï¼ˆå¦‚æœ&lt;commit&gt;ä¸çœç•¥ï¼Œä¹Ÿä¼šæ›¿æ¢æš‚å­˜åŒºä¸­ç›¸åº”çš„æ–‡ä»¶ï¼‰ã€‚ ç¬¬ä¸€ç§ç”¨æ³•ï¼ˆåŒ…å«äº†è·¯å¾„&lt;paths&gt;çš„ç”¨æ³•ï¼‰ä¸ä¼šæ”¹å˜HEADå¤´æŒ‡é’ˆï¼Œä¸»è¦æ˜¯ç”¨äºæŒ‡å®šç‰ˆæœ¬çš„æ–‡ä»¶è¦†ç›–å·¥ä½œåŒºä¸­å¯¹åº”çš„æ–‡ä»¶ã€‚å¦‚æœçœç•¥&lt;commit&gt;ï¼Œä¼šæ‹¿æš‚å­˜åŒºçš„æ–‡ä»¶è¦†ç›–å·¥ä½œåŒºçš„æ–‡ä»¶ï¼Œå¦åˆ™ç”¨æŒ‡å®šæäº¤ä¸­çš„æ–‡ä»¶è¦†ç›–æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­å¯¹åº”çš„æ–‡ä»¶ã€‚ ç¬¬äºŒç§ç”¨æ³•ï¼ˆä¸ä½¿ç”¨è·¯å¾„&lt;paths&gt;çš„ç”¨æ³•ï¼‰åˆ™ä¼šæ”¹å˜HEADå¤´æŒ‡é’ˆã€‚ä¹‹æ‰€ä»¥åé¢çš„å‚æ•°å†™ä½œ&lt;branch&gt;ï¼Œæ˜¯å› ä¸ºåªæœ‰HEADåˆ‡æ¢åˆ°ä¸€ä¸ªåˆ†æ”¯æ‰å¯ä»¥å¯¹æäº¤è¿›è¡Œè·Ÿè¸ªï¼Œå¦åˆ™ä»ç„¶ä¼šè¿›å…¥â€œåˆ†ç¦»å¤´æŒ‡é’ˆâ€çš„çŠ¶æ€ã€‚åœ¨â€œåˆ†ç¦»å¤´æŒ‡é’ˆâ€çŠ¶æ€ä¸‹çš„æäº¤ä¸èƒ½è¢«å¼•ç”¨å…³è”åˆ°è€Œå¯èƒ½ä¼šä¸¢å¤±ã€‚æ‰€ä»¥ç”¨æ³•äºŒæœ€ä¸»è¦çš„ä½œç”¨å°±æ˜¯åˆ‡æ¢åˆ°åˆ†æ”¯ã€‚å¦‚æœçœç•¥&lt;branch&gt;åˆ™ç›¸å½“äºå¯¹å·¥ä½œåŒºè¿›è¡ŒçŠ¶æ€æ£€æŸ¥ã€‚ ç¬¬ä¸‰ç§ç”¨æ³•ä¸»è¦æ˜¯åˆ›å»ºå’Œåˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯ï¼ˆ&lt;new_branch&gt;ï¼‰ï¼Œæ–°çš„åˆ†æ”¯ä»&lt;start_point&gt;æŒ‡å®šçš„æäº¤å¼€å§‹åˆ›å»ºã€‚æ–°åˆ†æ”¯å’Œæˆ‘ä»¬ç†Ÿæ‚‰çš„masteråˆ†æ”¯æ²¡æœ‰ä»€ä¹ˆå®è´¨çš„ä¸åŒï¼Œéƒ½æ˜¯åœ¨refs/headså‘½åç©ºé—´ä¸‹çš„å¼•ç”¨ã€‚å…³äºåˆ†æ”¯å’Œgit checkoutå‘½ä»¤çš„è¿™ä¸ªç”¨æ³•ä¼šåœ¨åé¢çš„ç« èŠ‚åšå…·ä½“çš„ä»‹ç»ã€‚ 1.7 æ–‡ä»¶å¿½ç•¥.gitignore æ–‡ä»¶.gitignoreçš„ä½œç”¨èŒƒå›´æ˜¯å…¶æ‰€å¤„çš„ç›®å½•åŠå…¶å­ç›®å½•å¿½ç•¥åªå¯¹æœªè·Ÿè¸ªæ–‡ä»¶æœ‰æ•ˆï¼Œå¯¹äºå·²åŠ å…¥ç‰ˆæœ¬åº“çš„æ–‡ä»¶æ— æ•ˆ Gitçš„å¿½ç•¥æ–‡ä»¶çš„è¯­æ³•è§„åˆ™ï¼š å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–è€…ä»¥äº•å·ï¼ˆ#ï¼‰å¼€å§‹çš„è¡Œè¢«å¿½ç•¥ã€‚ å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œå‚è§Linuxæ‰‹å†Œï¼šglob(7)ã€‚ä¾‹å¦‚ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰ä»£è¡¨ä»»æ„å¤šå­—ç¬¦ï¼Œé—®å·ï¼ˆ?ï¼‰ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·ï¼ˆ[abc]ï¼‰ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ç­‰ã€‚ å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨æ˜è¦å¿½ç•¥çš„æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œéå­ç›®å½•çš„æ–‡ä»¶ã€‚ å¦‚æœåç§°çš„æœ€åé¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨æ˜è¦å¿½ç•¥çš„æ˜¯æ•´ä¸ªç›®å½•ï¼ŒåŒåæ–‡ä»¶ä¸å¿½ç•¥ï¼Œå¦åˆ™åŒåçš„æ–‡ä»¶å’Œç›®å½•éƒ½å¿½ç•¥ã€‚ é€šè¿‡åœ¨åç§°çš„æœ€å‰é¢æ·»åŠ ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œä»£è¡¨ä¸å¿½ç•¥ã€‚ ä¸‹é¢çš„æ–‡ä»¶å¿½ç•¥ç¤ºä¾‹ï¼ŒåŒ…å«äº†ä¸Šè¿°è¦ç‚¹ï¼š# è¿™æ˜¯æ³¨é‡Šè¡Œ â€”â€” è¢«å¿½ç•¥*.a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# å¿½ç•¥æ‰€æœ‰ä»¥.a ä¸ºæ‰©å±•åçš„æ–‡ä»¶ã€‚!lib.a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# ä½†æ˜¯ lib.a æ–‡ä»¶æˆ–è€…ç›®å½•ä¸è¦å¿½ç•¥ï¼Œå³ä½¿å‰é¢è®¾ç½®äº†å¯¹ .a çš„å¿½ç•¥ã€‚/TODO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# åªå¿½ç•¥æ ¹ç›®å½•ä¸‹çš„ TODO æ–‡ä»¶ï¼Œå­ç›®å½•çš„ TODO æ–‡ä»¶ä¸å¿½ç•¥ã€‚build&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# å¿½ç•¥æ‰€æœ‰ build/ ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚doc/.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# å¿½ç•¥æ–‡ä»¶å¦‚ doc/notes.txtï¼Œä½†æ˜¯æ–‡ä»¶å¦‚ doc/server/arch.txt ä¸è¢«å¿½ç•¥ã€‚ 1.8 åˆ†æ”¯ç®¡ç†git branch æŸ¥çœ‹åˆ†æ”¯git branch -r æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯git branch &lt;branch name&gt;åˆ›å»ºåˆ†æ”¯ åˆ›å»ºä¸€ä¸ªå«åšâ€œfeature_xâ€çš„åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢è¿‡å»ï¼šgit checkout -b feature_xåˆ‡æ¢å›ä¸»åˆ†æ”¯ï¼šgit checkout masterå†æŠŠæ–°å»ºçš„åˆ†æ”¯åˆ æ‰ï¼šgit branch -d feature_x 2ã€è¿œç¨‹ç‰ˆæœ¬åº“ å…‹éš†è¿œç¨‹ä»“åº“git clone &lt;url&gt; æ·»åŠ è¿œç¨‹ä»“åº“git remote add &lt;name&gt; &lt;url&gt; åˆ é™¤è¿œç¨‹ä»“åº“git remote remove &lt;name&gt;git fetch [remote]git pull [remote [refspec]]= git fetch + git mergegit push [remote] [branch] å¿«è¿›å¼æ¨é€ git push å¼ºåˆ¶éå¿«è¿›å¼æ¨é€ git push -f Tracking ä»è¿œç¨‹åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ï¼Œä¼šç›´æ¥æ·»åŠ å¯¹åº”çš„trackinggit checkout -b test origin/master æ‰‹åŠ¨ä¸ºåˆ†æ”¯æ·»åŠ trackinggit branch --set-upstream master origin/next git merge git merge &lt;branch&gt;[--no-ff ] Fast forward &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gitå…è®¸æ‰§è¡Œå¿«è¿›å¼åˆå¹¶ï¼Œæ·»åŠ â€“no-ffå‚æ•°å¼ºåˆ¶ä¸ä½¿ç”¨å¿« 3ã€æœ€ä½³å®è·µ ä¿æŒWorking directory clean é•¿æœŸåˆ†æ”¯ç”±äº Git ä½¿ç”¨ç®€å•çš„ä¸‰æ–¹åˆå¹¶ï¼Œæ‰€ä»¥å°±ç®—åœ¨è¾ƒé•¿ä¸€æ®µæ—¶é—´å†…ï¼Œåå¤å¤šæ¬¡æŠŠæŸä¸ªåˆ†æ”¯åˆå¹¶åˆ°å¦ä¸€åˆ†æ”¯ï¼Œä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾äº‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤šä¸ªå¼€æ”¾çš„åˆ† æ”¯ï¼Œæ¯ä¸ªåˆ†æ”¯ç”¨äºå®Œæˆç‰¹å®šçš„ä»»åŠ¡ï¼Œéšç€å¼€å‘çš„æ¨è¿›ï¼Œä½ å¯ä»¥éšæ—¶æŠŠæŸä¸ªç‰¹æ€§åˆ†æ”¯çš„æˆæœå¹¶åˆ°å…¶ä»–åˆ†æ”¯ä¸­ã€‚è®¸å¤šä½¿ç”¨ Git çš„å¼€å‘è€…éƒ½å–œæ¬¢ç”¨è¿™ç§æ–¹å¼æ¥å¼€å±•å·¥ä½œï¼Œæ¯”å¦‚ä»…åœ¨ master åˆ†æ”¯ä¸­ä¿ç•™å®Œå…¨ç¨³å®šçš„ä»£ç ï¼Œå³å·²ç»å‘å¸ƒæˆ–å³å°†å‘å¸ƒçš„ä»£ç ã€‚ä¸æ­¤åŒæ—¶ï¼Œä»–ä»¬è¿˜æœ‰ä¸€ä¸ªå ä¸º develop æˆ– next çš„å¹³è¡Œåˆ†æ”¯ï¼Œä¸“é—¨ç”¨äºåç»­çš„å¼€å‘ï¼Œæˆ–ä»…ç”¨äºç¨³å®šæ€§æµ‹è¯• â€” å½“ç„¶å¹¶ä¸æ˜¯è¯´ä¸€å®šè¦ç»å¯¹ç¨³å®šï¼Œä¸è¿‡ä¸€æ—¦è¿›å…¥æŸç§ç¨³å®šçŠ¶æ€ï¼Œä¾¿å¯ä»¥æŠŠå®ƒåˆå¹¶åˆ° master é‡Œã€‚è¿™æ ·ï¼Œåœ¨ç¡®ä¿è¿™äº›å·²å®Œæˆçš„ç‰¹æ€§åˆ†æ”¯ï¼ˆçŸ­æœŸåˆ†æ”¯ï¼‰èƒ½å¤Ÿé€šè¿‡æ‰€æœ‰æµ‹è¯•ï¼Œå¹¶ä¸”ä¸ä¼šå¼•å…¥æ›´å¤šé”™è¯¯ä¹‹åï¼Œå°±å¯ä»¥å¹¶åˆ°ä¸»å¹²åˆ†æ”¯ä¸­ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡çš„å‘å¸ƒã€‚æœ¬è´¨ä¸Šæˆ‘ä»¬åˆšæ‰è°ˆè®ºçš„ï¼Œæ˜¯éšç€æäº¤å¯¹è±¡ä¸æ–­å³ç§»çš„æŒ‡é’ˆã€‚ç¨³å®šåˆ†æ”¯çš„æŒ‡é’ˆæ€»æ˜¯åœ¨æäº¤å†å²ä¸­è½åä¸€å¤§æˆªï¼Œè€Œå‰æ²¿åˆ†æ”¯æ€»æ˜¯æ¯”è¾ƒé å‰ã€‚ ç‰¹æ€§åˆ†æ”¯ç‰¹æ€§åˆ†æ”¯ä»developåˆ†æ”¯åˆ†å‡ºï¼Œæœ€ç»ˆå¿…é¡»åˆå¹¶å›developã€‚ç‰¹æ€§åˆ†æ”¯ï¼ˆä¹Ÿå«ä¸»é¢˜åˆ†æ”¯ï¼‰ç”¨äºå¼€å‘æ–°ç‰¹æ€§ã€‚æ¯ä¸ªæ–°ç‰¹æ€§å¼€ä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œæœ€ç»ˆä¼šåˆå¹¶å›developï¼ˆå½“ç‰¹æ€§å¼€å‘å®Œæ¯•çš„æ—¶å€™ï¼‰ï¼Œæˆ–è€…æ”¾å¼ƒï¼ˆå¦‚æœæœ€ç»ˆå†³å®šä¸å¼€å‘è¿™ ä¸ªç‰¹æ€§ï¼‰ã€‚ç‰¹æ€§åˆ†æ”¯åªå­˜åœ¨äºå¼€å‘è€…çš„ä»“åº“ä¸­ã€‚åœ¨ä»»ä½•è§„æ¨¡çš„é¡¹ç›®ä¸­éƒ½å¯ä»¥ä½¿ç”¨ç‰¹æ€§ï¼ˆTopicï¼‰åˆ†æ”¯ã€‚ä¸€ä¸ªç‰¹æ€§åˆ†æ”¯æ˜¯æŒ‡ä¸€ä¸ªçŸ­æœŸçš„ï¼Œç”¨æ¥å®ç°å•ä¸€ç‰¹æ€§æˆ–ä¸å…¶ç›¸å…³å·¥ä½œçš„åˆ†æ”¯ã€‚å¯èƒ½ä½ åœ¨ä»¥å‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ é‡Œä»æœªåšè¿‡ç±»ä¼¼è¿™æ ·çš„äº‹æƒ…ï¼Œå› ä¸ºé€šå¸¸åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯æ¶ˆè€—å¤ªå¤§ã€‚ç„¶è€Œåœ¨ Git ä¸­ï¼Œä¸€å¤©ä¹‹å†…å»ºç«‹ã€ä½¿ç”¨ã€åˆå¹¶å†åˆ é™¤å¤šä¸ªåˆ†æ”¯æ˜¯å¸¸è§çš„äº‹ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼Œåœ¨æäº¤äº†è‹¥å¹²æ›´æ–°åï¼ŒæŠŠå®ƒä»¬åˆå¹¶åˆ°ä¸»å¹²åˆ†æ”¯ï¼Œç„¶ååˆ é™¤ã€‚è¯¥æŠ€æœ¯å…è®¸ä½ è¿…é€Ÿä¸”å®Œå…¨çš„è¿›è¡Œè¯­å¢ƒåˆ‡æ¢ â€” å› ä¸ºä½ çš„å·¥ä½œåˆ†æ•£åœ¨ä¸åŒçš„åˆ† æ”¯é‡Œï¼Œæ¯ä¸ªåˆ†æ”¯é‡Œçš„æ”¹å˜éƒ½å’Œå®ƒçš„ç›®æ ‡ç‰¹æ€§ç›¸å…³ï¼Œæµè§ˆä»£ç ä¹‹ç±»çš„äº‹æƒ…å› è€Œå˜å¾—æ›´ç®€å•äº†ã€‚ä½ å¯ä»¥æŠŠä½œå‡ºçš„æ”¹å˜ä¿æŒåœ¨ç‰¹æ€§åˆ†æ”¯ä¸­å‡ åˆ†é’Ÿï¼Œå‡ å¤©ç”šè‡³å‡ ä¸ªæœˆï¼Œç­‰ å®ƒä»¬æˆç†Ÿä»¥åå†åˆå¹¶ï¼Œè€Œä¸ç”¨åœ¨ä¹å®ƒä»¬å»ºç«‹çš„é¡ºåºæˆ–è€…è¿›åº¦ã€‚ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚è¯·çœ‹å›¾ï¼Œç”±ä¸‹å¾€ä¸Šï¼Œèµ·å…ˆæˆ‘ä»¬åœ¨ master å·¥ä½œåˆ° C1ï¼Œç„¶åå¼€å§‹ä¸€ä¸ªæ–°åˆ†æ”¯ iss91 å°è¯•ä¿®å¤ 91 å·ç¼ºé™·ï¼Œæäº¤åˆ° C6 çš„æ—¶å€™ï¼Œåˆå†’ å‡ºä¸€ä¸ªè§£å†³è¯¥é—®é¢˜çš„æ–°åŠæ³•ï¼Œäºæ˜¯ä»ä¹‹å‰ C4 çš„åœ°æ–¹åˆåˆ†å‡ºä¸€ä¸ªåˆ†æ”¯ iss91v2ï¼Œå¹²åˆ° C8 çš„æ—¶å€™ï¼Œåˆå›åˆ°ä¸»å¹² master ä¸­æäº¤äº† C9 å’Œ C10ï¼Œå†å›åˆ° iss91v2 ç»§ç»­ å·¥ä½œï¼Œæäº¤ C11ï¼Œæ¥ç€ï¼Œåˆå†’å‡ºä¸ªä¸å¤ªç¡®å®šçš„æƒ³æ³•ï¼Œä» master çš„æœ€æ–°æäº¤ C10 å¤„å¼€äº†ä¸ªæ–°çš„åˆ†æ”¯ dumbidea åšäº›è¯•éªŒã€‚ç°åœ¨ï¼Œå‡å®šä¸¤ä»¶äº‹æƒ…ï¼šæˆ‘ä»¬æœ€ç»ˆå†³å®šä½¿ç”¨ç¬¬äºŒä¸ªè§£å†³æ–¹æ¡ˆï¼Œå³ iss91v2 ä¸­çš„åŠæ³•ï¼›å¦å¤–ï¼Œæˆ‘ä»¬æŠŠ dumbidea åˆ†æ”¯æ‹¿ç»™åŒäº‹ä»¬çœ‹äº†ä»¥åï¼Œå‘ç°å®ƒç«Ÿç„¶æ˜¯ä¸ªå¤©æ‰ä¹‹ ä½œã€‚æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å‡†å¤‡æŠ›å¼ƒåŸæ¥çš„ iss91 åˆ†æ”¯ï¼ˆå®é™…ä¸Šä¼šä¸¢å¼ƒ C5 å’Œ C6ï¼‰ï¼Œç›´æ¥åœ¨ä¸»å¹²ä¸­å¹¶å…¥å¦å¤–ä¸¤ä¸ªåˆ†æ”¯ã€‚æœ€ç»ˆçš„æäº¤å†å²å°†å˜æˆè¿™æ ·ï¼šè¯·åŠ¡å¿…ç‰¢è®°è¿™äº›åˆ†æ”¯å…¨éƒ¨éƒ½æ˜¯æœ¬åœ°åˆ†æ”¯ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚å½“ä½ åœ¨ä½¿ç”¨åˆ†æ”¯åŠåˆå¹¶çš„æ—¶å€™ï¼Œä¸€åˆ‡éƒ½æ˜¯åœ¨ä½ è‡ªå·±çš„Gitä»“åº“ä¸­è¿›è¡Œçš„â€”å®Œå…¨ä¸æ¶‰åŠä¸æœåŠ¡å™¨çš„äº¤äº’ã€‚ æäº¤åšå° gitä¿å­˜ç”¨æˆ·åã€å¯†ç 1.åœ¨Windowsä¸­æ·»åŠ ä¸€ä¸ªHOMEç¯å¢ƒå˜é‡ï¼Œå€¼ä¸º%USERPROFILE%ï¼Œå¦‚ä¸‹å›¾ï¼š2.åœ¨â€œå¼€å§‹&gt;è¿è¡Œâ€ä¸­æ‰“å¼€%Home%ï¼Œæ–°å»ºä¸€ä¸ªåä¸ºâ€œ_netrcâ€çš„æ–‡ä»¶ã€‚3.ç”¨è®°äº‹æœ¬æ‰“å¼€_netrcæ–‡ä»¶ï¼Œè¾“å…¥GitæœåŠ¡å™¨åã€ç”¨æˆ·åã€å¯†ç ï¼Œå¹¶ä¿å­˜ã€‚ç¤ºä¾‹å¦‚ä¸‹machine github.comlogin ç”¨æˆ·åpassword å¯†ç  é…ç½®git mergetoolå’Œgit difftoolé€šè¿‡git configå‘½ä»¤é…ç½®difftool:git config --global diff.tool bcgit config --global difftool.bc.cmd &quot;\\&quot;c:/program files/beyond compare 3/bcomp.exe\\&quot; \\&quot;\\$LOCAL\\&quot; \\&quot;\\$REMOTE\\&quot;&quot;git config --global difftool.prompt falseé…ç½®mergetool:git config --global merge.tool bcgit config --global mergetool.bc.cmd &quot;\\&quot;c:/program files/beyond compare 3/bcomp.exe\\&quot; \\&quot;\\$LOCAL\\&quot; \\&quot;\\$REMOTE\\&quot; \\&quot;\\$BASE\\&quot; \\&quot;\\$MERGED\\&quot;&quot;git config --global mergetool.bc.trustExitCode trueä¸ç”Ÿæˆå¤‡ä»½æ–‡ä»¶git config --global mergetool.keepBackup falseç›´æ¥ä¿®æ”¹%USERPROFILE%.gitconfigæ–‡ä»¶ï¼Œå®Œæ•´æ–‡ä»¶å¦‚ä¸‹ï¼š[user]&nbsp;&nbsp;&nbsp;&nbsp;name = ç”¨æˆ·å&nbsp;&nbsp;&nbsp;&nbsp;email = é‚®ç®±[diff]&nbsp;&nbsp;&nbsp;&nbsp;tool = bc[difftool &quot;bc&quot;]&nbsp;&nbsp;&nbsp;&nbsp;cmd = \\&quot;C:/bc4/BCompare.exe\\&quot; \\&quot;$LOCAL\\&quot; \\&quot;$REMOTE\\&quot;[difftool]&nbsp;&nbsp;&nbsp;&nbsp;prompt = false[merge]&nbsp;&nbsp;&nbsp;&nbsp;tool = bc[mergetool &quot;bc&quot;]&nbsp;&nbsp;&nbsp;&nbsp;cmd = \\&quot;C:/bc4/BCompare.exe\\&quot; \\&quot;$LOCAL\\&quot; \\&quot;$REMOTE\\&quot; \\&quot;$BASE\\&quot; \\&quot;$MERGED\\&quot;&nbsp;&nbsp;&nbsp;&nbsp;trustExitCode = true[mergetool]&nbsp;&nbsp;&nbsp;&nbsp;keepBackup = false 4ã€å…¶ä»–ç‰¹æ€§ git rebase git stash detached head åˆ†ç¦»çš„å¤´æŒ‡é’ˆ git reflog","categories":[{"name":"Git","slug":"Git","permalink":"https://yangxiaoge.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yangxiaoge.github.io/tags/Git/"}]},{"title":"å®ç°å¤šè¡Œå¤šåˆ—çš„RadioButton","slug":"å®ç°å¤šè¡Œå¤šåˆ—çš„RadioButton","date":"2016-08-02T10:21:33.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2016/08/02/å®ç°å¤šè¡Œå¤šåˆ—çš„RadioButton/","link":"","permalink":"https://yangxiaoge.github.io/2016/08/02/å®ç°å¤šè¡Œå¤šåˆ—çš„RadioButton/","excerpt":"ç”±äºæœ€è¿‘çš„é¡¹ç›®ä¸­å¤šå¤„éœ€è¦ç”¨åˆ°å¤šè¡Œå¤šåˆ—çš„RadioButton,è€ŒgoogleåŸç”Ÿçš„RadioGroupåˆä¸èƒ½å®ç°!å› æ­¤å°±è¦è‡ªå·±åŠ¨æ‰‹å®ç°äº†~ æ³¨æ„:è¿™é‡Œæ‰€è¯´çš„RadioButtonéƒ½æ˜¯åœ¨ä»£ç ä¸­åŠ¨æ€æ·»åŠ çš„! çœ‹ä¸‹æ•ˆæœå›¾:","text":"ç”±äºæœ€è¿‘çš„é¡¹ç›®ä¸­å¤šå¤„éœ€è¦ç”¨åˆ°å¤šè¡Œå¤šåˆ—çš„RadioButton,è€ŒgoogleåŸç”Ÿçš„RadioGroupåˆä¸èƒ½å®ç°!å› æ­¤å°±è¦è‡ªå·±åŠ¨æ‰‹å®ç°äº†~ æ³¨æ„:è¿™é‡Œæ‰€è¯´çš„RadioButtonéƒ½æ˜¯åœ¨ä»£ç ä¸­åŠ¨æ€æ·»åŠ çš„! çœ‹ä¸‹æ•ˆæœå›¾: å¼€å§‹é€ è½®å­: åˆ†ä¸ºå››æ­¥é‡å†™RadioGroupâ€“&gt;ç›®çš„æ˜¯ä½¿ RadioButtonå¯ä»¥è‡ªåŠ¨æ¢è¡Œå¸ƒå±€ä¸­å¼•ç”¨MyRadioGroupAutoä»£ç ä¸­æ ¹æ®æ•°æ®åŠ¨æ€æ·»åŠ RadioButton,ç„¶åMyRadioGroupé€šè¿‡addViewæŠŠRadioButtonåŠ è¿›å» è¿™é‡Œéœ€è¦è®²ä¸‹RadioButtonçš„å‡ ä¸ªå±æ€§ radioButton.setPadding(20, 0, screenWidth / 6, 0);// è®¾ç½®æ–‡å­—è·ç¦»æŒ‰é’®å›¾ç‰‡å››å‘¨çš„è·ç¦» radioButton.setButtonDrawable(R.drawable.transfer_radiobutton_drawable); //ç‚¹å‡»æ•ˆæœ radioButton.setTag(loanAndFeeList.get(i)); // è®¾ç½®tag,å¯ä»¥å­˜ä¸€äº›æ•°æ® radioButton.setTextSize(13); //é»˜è®¤å•ä½æ˜¯ sp radioButton.setHeight(50); //é»˜è®¤å•ä½æ˜¯px RadioButton clickRadioButton = (RadioButton) radioGroup.findViewById(checkedId); //é€šè¿‡RadioGroupå¯¹è±¡è·å–ç‚¹å‡»çš„RadioButtonç»„ä»¶ è®¾ç½®RadioGroupç‚¹å‡»äº‹ä»¶ä¸‹é¢ç›´æ¥ä¸Šä»£ç : ä¸‰æ­¥è‡ªå®šä¹‰MyRadioGroupAuto12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788/** * Author: 0027008122 [yang.jianan@zte.com.cn] * Time: 2016-08-02 11:33 * Version: 1.0 * TaskId: * Description: */ public class MyRadioGroupAuto extends RadioGroup &#123; public MyRadioGroupAuto(Context context) &#123; super(context); &#125; public MyRadioGroupAuto(Context context, AttributeSet attrs) &#123; super(context, attrs); &#125; @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) &#123; //è·å–æœ€å¤§å®½åº¦ int maxWidth = MeasureSpec.getSize(widthMeasureSpec); //è·å–Groupä¸­çš„Childæ•°é‡ int childCount = getChildCount(); //è®¾ç½®Groupçš„å·¦è¾¹è·ï¼Œä¸‹é¢ä¹Ÿä¼šä½¿ç”¨xè®¡ç®—æ¯è¡Œæ‰€å çš„å®½åº¦ int x = 0; //è®¾ç½®Groupçš„ä¸Šè¾¹è·ï¼Œä¸‹é¢ä¹Ÿä¼šä½¿ç”¨yè®¡ç®—Groupæ‰€å çš„é«˜åº¦ int y = 30; //è®¾ç½®Groupçš„è¡Œæ•° int row = 0; for (int index = 0; index &lt; childCount; index++) &#123; final View child = getChildAt(index); if (child.getVisibility() != View.GONE) &#123; child.measure(MeasureSpec.UNSPECIFIED, MeasureSpec.UNSPECIFIED); //é‡æ–°è®¡ç®—childçš„å®½é«˜ int width = child.getMeasuredWidth(); int height = child.getMeasuredHeight(); //æ·»åŠ åˆ°Xä¸­ï¼Œ(width+10) è®¾ç½®childå·¦è¾¹è· x += (width + 10); //è¡Œæ•°*childé«˜åº¦+è¿™æ¬¡childé«˜åº¦=ç°åœ¨Groupçš„é«˜åº¦,(height + 10)è®¾ç½®childä¸Šè¾¹è· y = row * (height + 10) + (height + 10); //å½“å‰è¡Œå®½Xå¤§äºGroupçš„æœ€å¤§å®½åº¦æ—¶ï¼Œè¿›è¡Œæ¢è¡Œ if (x &gt; maxWidth) &#123; //å½“indexä¸ä¸º0æ—¶ï¼Œè¿›è¡Œrow++ï¼Œé˜²æ­¢FirstChildå‡ºç°å¤§äºmaxWidthæ—¶,æå‰è¿›è¡Œrow++ if (index != 0) row++; //childçš„widthå¤§äºmaxWidthæ—¶ï¼Œé‡æ–°è®¾ç½®childçš„widthä¸ºæœ€å¤§å®½åº¦ if (width &gt;= maxWidth) &#123; width = maxWidth - 30; &#125; //é‡æ–°è®¾ç½®å½“å‰X x = (width + 20); //é‡æ–°è®¾ç½®ç°åœ¨Groupçš„é«˜åº¦ y = row * (height + 10) + (height + 10); &#125; &#125; &#125; // è®¾ç½®å®¹å™¨æ‰€éœ€çš„å®½åº¦å’Œé«˜åº¦ setMeasuredDimension(maxWidth, y); &#125; @Override protected void onLayout(boolean changed, int l, int t, int r, int b) &#123; final int childCount = getChildCount(); int maxWidth = r - l; int x = 10; int y = 0; int row = 0; for (int i = 0; i &lt; childCount; i++) &#123; final View child = this.getChildAt(i); if (child.getVisibility() != View.GONE) &#123; int width = child.getMeasuredWidth(); int height = child.getMeasuredHeight(); x += (width + 10); y = row * (height + 10) + (height + 10); if (x &gt; maxWidth) &#123; if (i != 0) row++; if (width &gt;= maxWidth) &#123; width = maxWidth - 30; &#125; x = (width + 20); y = row * (height + 10) + (height + 10); &#125; child.layout(x - width, y - height, x, y); &#125; &#125; &#125;&#125; å¸ƒå±€ä¸­å¼•ç”¨MyRadioGroupAuto123456789&lt;com.ztesoft.zsmart.datamall.app.widget.MyRadioGroupAuto android:id=\"@+id/my_radio_group_auto\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:layout_marginBottom=\"33dp\" android:layout_marginLeft=\"22dp\" android:layout_marginRight=\"22dp\" android:layout_marginTop=\"16dp\"&gt;&lt;/com.ztesoft.zsmart.datamall.app.widget.MyRadioGroupAuto&gt; ä»£ç ä¸­åŠ¨æ€æ·»åŠ RadioButton123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113public class CheckboxRadiobuttonDemo extends Activity &#123; /** * Called when the activity is first created. */ private RadioGroupAuto rgp; private RadioGroup yuansheng; private String[] loanList; private String[] loanFeeList; private List&lt;String&gt; loanAndFeeList; @Override public void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.main); //è·å–å±å¹•ä¿¡æ¯ DisplayMetrics dm = new DisplayMetrics(); getWindowManager().getDefaultDisplay().getMetrics(dm); int screenWidth = dm.widthPixels; loanAndFeeList = new ArrayList&lt;&gt;(); loanList = \"800,1000,1600,200,300,500,700\".split(\",\"); loanFeeList = \"50,80,100,20,30,50,70\".split(\",\"); //æ±‚æœ€å¤§æœ€å°å€¼ (ä¸ºäº†ä¿æŒRadioButtonæ–‡å­—é•¿åº¦ä¸€è‡´,è·Ÿæœ€é•¿çš„ä¿æŒä¸€è‡´!) int max = Integer.parseInt(loanList[0]); int min = Integer.parseInt(loanList[0]); for (String i : loanList) &#123; int j = Integer.parseInt(i); max = max &gt; j ? max : j; min = min &lt; j ? min : j; &#125; String maxS = String.valueOf(max); int maxLen = maxS.length(); for (int i = 0; i &lt; loanList.length; i++) &#123; loanAndFeeList.add( loanList[i] + \",\" + loanFeeList[i]); &#125; rgp = (RadioGroupAuto) findViewById(R.id.RadioGroup01); int len = loanAndFeeList.size(); for (int j = 0; j &lt; len; j++) &#123; RadioButton radioButton = new RadioButton(this); radioButton.setPadding(20, 0, screenWidth / 6, 0); // è®¾ç½®æ–‡å­—è·ç¦»æŒ‰é’®å››å‘¨çš„è·ç¦» radioButton.setButtonDrawable(R.drawable.transfer_radiobutton_drawable); String newLoanList = loanList[j]; if (loanList[j].length() &lt; maxLen) &#123; newLoanList = newLoanList + appendLength(maxLen - loanList[j].length()); // å®ç° TextViewåŒæ—¶æ˜¾ç¤ºä¸¤ç§é£æ ¼æ–‡å­— http://txlong-onz.iteye.com/blog/1142781 SpannableStringBuilder sb = new SpannableStringBuilder(newLoanList); final ForegroundColorSpan fcs = new ForegroundColorSpan(Color.WHITE); sb.setSpan(fcs, loanList[j].length(), maxLen, Spannable.SPAN_INCLUSIVE_INCLUSIVE); radioButton.setText(sb); &#125; else &#123; newLoanList = loanList[j]; radioButton.setText(newLoanList); &#125; radioButton.setId(j); //è®¾ç½®RadioButtonçš„id radioButton.setTag(loanAndFeeList.get(j)); radioButton.setTextSize(13); //é»˜è®¤å•ä½æ˜¯ sp radioButton.setHeight(50); //é»˜è®¤å•ä½æ˜¯px rgp.addView(radioButton); //æ·»åŠ åˆ°RadioGroupä¸­ &#125; rgp.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() &#123; @Override public void onCheckedChanged(RadioGroup group, int checkedId) &#123; RadioButton clickRadioButton = (RadioButton) group.findViewById(checkedId); String tipInfo = \"id: \" + clickRadioButton.getId() + \" text: \" + clickRadioButton.getText() + /*\"hint: \" + clickRadioButton.getHint() +*/ \" tag:\" + clickRadioButton.getTag(); System.out.println(tipInfo); Toast.makeText(CheckboxRadiobuttonDemo.this, tipInfo, Toast.LENGTH_SHORT).show(); &#125; &#125;); //æ ¹æ®è¿™ä¸ªæ¥è®¾ç½®é»˜è®¤é€‰ä¸­çš„é¡¹, æ³¨æ„,è¿™ä¸ªè¦è®¾ç½®åœ¨ç›‘å¬ä¹‹å!,å¦åˆ™é»˜è®¤ç‚¹å‡»ç›‘å¬ä¸åˆ°!è™½ç„¶æœ‰é€‰ä¸­æ•ˆæœ //å‚è€ƒ http://blog.csdn.net/lzqjfly/article/details/16963645 //ä»¥åŠhttp://stackoverflow.com/questions/9175635/how-to-set-radio-button-checked-as-default-in-radiogroup-with-android rgp.check(0); &#125; /** * è¡¥å…¨é•¿åº¦,ä¿æŒæœ€é•¿çš„é•¿åº¦ * * @param count å­—ç¬¦ä¸²é•¿åº¦ * @return è¡¥å…¨åçš„é•¿åº¦ * è¿™é‡Œé•¿åº¦ä¸å¤Ÿçš„å°±ç”¨ \"s\" å ä½, èµ‹å€¼çš„æ—¶å€™å°†å­—ä½“è®¾ç½®ç™½è‰²! */ public String appendLength(int count) &#123; String st = \"\"; if (count &lt; 0) &#123; count = 0; &#125; for (int i = 0; i &lt; count; i++) &#123; st = st + \"s\"; &#125; return st; &#125;&#125; æ€»ç»“:ç¢°åˆ°çš„é—®é¢˜: RadioGroupä¸­RadioButtonä¸èƒ½äº’æ–¥è§£å†³æ–¹æ³•: éœ€è¦ç”¨RadioGroup.check(id),æ¥è®¾ç½®è¢«é»˜è®¤é€‰ä¸­çš„é¡¹ï¼Œå…¶ä¸­idä¸ºRadioButtonçš„idï¼Œå¦‚æœåŠ¨æ€æ·»åŠ çš„RadioButtonï¼Œéœ€è¦è®¾ç½®å¥½idå‚è€ƒ:http://blog.csdn.net/lzqjfly/article/details/16963645 , http://stackoverflow.com/questions/9175635/how-to-set-radio-button-checked-as-default-in-radiogroup-with-android","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"}]},{"title":" Android è¸©è¿‡çš„å‘","slug":"Android-è¸©è¿‡çš„å‘","date":"2016-06-23T03:02:22.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2016/06/23/Android-è¸©è¿‡çš„å‘/","link":"","permalink":"https://yangxiaoge.github.io/2016/06/23/Android-è¸©è¿‡çš„å‘/","excerpt":"AlertDialogå¼¹å‡ºæ¡† æŒ‰é’®åœ¨é«˜ç‰ˆæœ¬ä¸­çœ‹ä¸è§(å…¶å®æ˜¯é¢œè‰²ä¸ºç™½è‰²) (2016-8-16 18:24:05)åœ¨android 6.0ä¸­å˜æˆäº†ä¸‹é¢è¿™ç§å®é™…çš„æ•ˆæœåº”è¯¥æ˜¯å¦‚ä¸‹çš„è§£å†³æ–¹æ³•: å¼•ç”¨v7åŒ…ä¸‹çš„AlertDialog (android.support.v7.app.AlertDialog)","text":"AlertDialogå¼¹å‡ºæ¡† æŒ‰é’®åœ¨é«˜ç‰ˆæœ¬ä¸­çœ‹ä¸è§(å…¶å®æ˜¯é¢œè‰²ä¸ºç™½è‰²) (2016-8-16 18:24:05)åœ¨android 6.0ä¸­å˜æˆäº†ä¸‹é¢è¿™ç§å®é™…çš„æ•ˆæœåº”è¯¥æ˜¯å¦‚ä¸‹çš„è§£å†³æ–¹æ³•: å¼•ç”¨v7åŒ…ä¸‹çš„AlertDialog (android.support.v7.app.AlertDialog) æœ€è¿‘è¢«å¼‚æ­¥è¯·æ±‚å‘äº†å¥½å‡ æ¬¡äº†ï¼(2016-7-28 14:21:18)æ³¨æ„:ç½‘ç»œè¯·æ±‚æ˜¯å¼‚æ­¥çš„,å› æ­¤åœ¨ response è·å–åˆ°æ•°æ®æ—¶ç›´æ¥ä¸ºç»„ä»¶,æˆ–è€…å…¶ä»–ç”¨å¤„,ç›´æ¥è°ƒç”¨,å¦åˆ™å¯èƒ½ç”±äºç½‘ç»œè®¿é—®é€Ÿåº¦è¾ƒæ…¢,å¯¼è‡´ç©ºæŒ‡é’ˆ!å› æ­¤:åœ¨æ¥å£æˆåŠŸresponseä¹‹åæ‰§è¡Œæœ€å®‰å…¨! RadioButtonå¤šè¡Œé˜Ÿåˆ—æ˜¾ç¤ºï¼ï¼ï¼(2016-8-2 18:06:47) ç”±äºåŸç”Ÿçš„RadioGroupåªæ”¯æŒæ¨ªå‘çºµå‘æ’åˆ—RadioButton,æ‰€ä»¥åªèƒ½è‡ªå·±é€ è½®å­!è¯¦æƒ…:è§å¦ä¸€ç¯‡æ–‡ç«  â€“&gt; å®ç°å¤šè¡Œå¤šåˆ—çš„RadioButton å½“å‰é¡µé¢æœ‰å¤šä¸ªEditTextè½¯é”®ç›˜å›è½¦æ ·å¼ä¸€ç›´æ˜¯Next,å¯¼è‡´æ— æ³•å…³é—­è½¯é”®ç›˜!(2016-7-27 13:10:39) å¯ä»¥ä¿®æ”¹EditTextçš„å›è½¦æ ·å¼ï¼Œå³æ˜¯æŠŠEditTextçš„ImeOptionså±æ€§è®¾ç½®æˆä¸åŒçš„å€¼ï¼ŒEnteré”®ä¸Šå°±ä¼šæ˜¾ç¤ºä¸åŒçš„æ–‡å­—æˆ–å›¾æ¡ˆ 1234567891011121314151617181920actionNone : å›è½¦é”®ï¼ŒæŒ‰ä¸‹åå…‰æ ‡åˆ°ä¸‹ä¸€è¡ŒactionGo ï¼š Goï¼ŒactionSearch ï¼š ä¸€ä¸ªæ”¾å¤§é•œactionSend ï¼š SendactionNext ï¼š NextactionDone ï¼š Doneï¼Œéšè—è½¯é”®ç›˜ï¼Œå³ä½¿ä¸æ˜¯æœ€åä¸€ä¸ªæ–‡æœ¬è¾“å…¥æ¡†ä¾‹å¦‚:&lt;EditText android:id=\"@+id/transfer_other_edit\" android:layout_width=\"162dp\" android:layout_height=\"@dimen/height_33\" android:layout_marginLeft=\"22dp\" android:background=\"@drawable/card_edittxt_bg\" android:inputType=\"number\" android:paddingLeft=\"@dimen/padding_13\" android:singleLine=\"true\"-----------&gt;android:imeOptions=\"actionDone\" android:textColor=\"#3f3f3f\" android:textSize=\"13sp\"/&gt; å¤šæ¬¡ç‚¹å‡»æŸ¥è¯¢(è¿…é€Ÿç‚¹å‡»)ï¼ŒlistViewæ•°æ®é‡å¤ï¼ˆ2016-7-25 15:33:44ï¼‰ å•èº«ç‹—çš„æ‰‹é€Ÿäº²æµ‹!(ï¼›â€²âŒ’`) ä¾‹å¦‚:12345678910111213141516171819202122232425262728293031323334353637383940414243444546RequestApi.qryReachargeHistory(Constants.PREFIX + msisdn, params, new StringCallback() &#123; // â‘  åªè¦æŸ¥è¯¢æ–¹æ³•æ‰§è¡Œ,é‚£ä¹ˆè¿™é‡Œç«‹åˆ»æ‰§è¡Œã€‚æ‰€ä»¥å¦‚æœæ‰‹é€Ÿå¿«ï¼Œå°±ç®—clearä¹Ÿæ²¡ç”¨! //rechargeList.clear(); è¿™é‡Œæ˜¯æ²¡ç”¨çš„ @Override public void onResponse(String response) &#123; rechargeList.clear(); // â‘  å¿…é¡»æ­¤å¤„clear, rechargeListå¼‚æ­¥æ‰§è¡Œä¹‹å‰,åŒä¸€ä¸ªæ–¹æ³•ä¸­clearæ‰æœ‰æ•ˆ! Logger.json(response); JsonObject obj = new JsonParser().parse(response).getAsJsonObject(); if (!obj.get(\"rechargeList\").toString().equals(\"null\")) &#123; JsonArray jsonArray = obj.get(\"rechargeList\").getAsJsonArray(); for (int i = 0; i &lt; jsonArray.size(); i++) &#123; Map&lt;String, Object&gt; chargeInfo = new HashMap&lt;&gt;(); JsonObject job = (JsonObject) jsonArray.get(i); chargeInfo.put(\"accountNumber\", /*Constants.PREFIX +*/ accountNumber); chargeInfo.put(\"amount\", job.get(\"amount\").getAsString()); chargeInfo.put(\"tradeType\", job.get(\"tradeType\").getAsString()); chargeInfo.put(\"extendDays\", job.get(\"extendDays\").getAsString()); chargeInfo.put(\"tradeTime\", job.get(\"tradeTime\").getAsString()); chargeInfo.put(\"tradeMethod\", job.get(\"tradeMethod\").getAsString()); rechargeList.add(chargeInfo); // â‘¡æ­¤å¤„å…¶å®æ˜¯å¼‚æ­¥çš„!! &#125; myTopUpHistoryListViewAdapter.notifyDataSetChanged(); if (rechargeList.size() &lt;= 0) &#123; nodataTipsView.setVisibility(View.VISIBLE); rechargeHistoryListview.setVisibility(View.GONE); &#125; else &#123; nodataTipsView.setVisibility(View.GONE); rechargeHistoryListview.setVisibility(View.VISIBLE); &#125; &#125; &#125; @Override public void onError(Request request, Exception e) &#123; if (e != null) &#123; Logger.e(e.getMessage()); &#125; else &#123; Logger.e(\"Exception is null\"); &#125; &#125; &#125;); &#125; åœ¨activityçš„oncreateæ–¹æ³•ä¸­ä½¿ç”¨popupwindowå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼šandroid.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running? çœŸæ˜¯é†‰å•¦,ç ”ç©¶äº†å¥½ä¹…æ— å¤´ç»ªã€‚ çˆ¬å®Œå‘åæˆ‘è‡ªå·±å†™äº†ä¸ªå¼•å¯¼çš„Demo googleäº†å¥½å¤šæ–‡ç« æ‰¾åˆ°äº†åŸå› ï¼ŒåŸæ–‡é“¾æ¥:http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2013/0304/963.htmlé”™è¯¯çš„åŸå› æ˜¯ï¼špopupwindowè¦ä¾é™„äºä¸€ä¸ªactivityï¼Œè€Œactivityçš„onCreate()è¿˜æ²¡æ‰§è¡Œå®Œï¼Œå“ªæ¥çš„popupè®©ä½ å¼¹å‡ºæ¥å˜›ã€‚è§£å†³æ–¹æ³•:åº”æŠŠpop.showAtLocation(parent, Gravity.TOP,0, 0)è¿™ä¸€å¥ç§»å‡ºoncreateæ–¹æ³•ï¼Œåœ¨æ§ä»¶æ¸²æŸ“å®Œæ¯•åå†ä½¿ç”¨(æŒ‰é’®ç‚¹å‡»ç­‰æ—¶æœºæ‰§è¡Œ)ã€‚ å½“ç„¶è¿˜æœ‰ç»ä½³çš„è§£å†³æ–¹æ³•(å…¶å®æ˜¯ä¸è¡Œçš„, å¼•å¯¼é¡µé¢ä¸€ç›´å¾ªç¯!!!)ï¼š123456789101112@Overridepublic void onWindowFocusChanged(boolean hasFocus) &#123; // TODO Auto-generated method stub super.onWindowFocusChanged(hasFocus); if(hasFocus)&#123; newbieGuide(); &#125;&#125;å…¶ä¸­newbieGuide()æ˜¯æˆ‘è‡ªå·±å®šä¹‰çš„ä¸“é—¨æ˜¾ç¤ºpopupwindowçš„ä¸€ä¸ªå‡½æ•°ã€‚å½“activityè·å¾—ç„¦ç‚¹ä¹‹åï¼Œactivityæ˜¯åŠ è½½å®Œæ¯•çš„äº†ï¼Œè¿™ä¸ªæ–¹æ³•çš„æŠ€å·§æ€§æ¯”è¾ƒå¼ºï¼Œå¾ˆéš¾æƒ³åˆ°ã€‚`ä½†æ˜¯`,onWindowFocusChangedæ–¹æ³•ä¸­è¿™ä¹ˆæ‰§è¡Œä¼šé‡å¤popup,å…·ä½“è¦çœ‹éœ€æ±‚,å®åœ¨ä¸è¡Œå°±ç”¨ä¸Šé¢æ–¹æ³•(æŒ‰é’®ç‚¹å‡»æ‰§è¡Œ)!!~","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"}]},{"title":"Android ORMLite æ¡†æ¶ç”¨æ³•","slug":"Android-ORMLite-æ¡†æ¶ç”¨æ³•","date":"2016-06-21T06:02:55.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2016/06/21/Android-ORMLite-æ¡†æ¶ç”¨æ³•/","link":"","permalink":"https://yangxiaoge.github.io/2016/06/21/Android-ORMLite-æ¡†æ¶ç”¨æ³•/","excerpt":"æœ¬æ–‡æ‘˜è‡ª é¸¿ç¥åšå®¢,è‡ªå·±å·æ‡’æ²¡å†™,é¸¿ç¥çš„å†™çš„å¾ˆè¯¦ç»†,ä»–çš„åšå®¢è¿˜æœ‰ ORMLite æ¡†æ¶æœ€ä½³å®è·µ. åŸºäºé¸¿ç¥æ•™ç¨‹è¿ç”¨äº†ORMLiteæ¡†æ¶è¯¦è§æˆ‘çš„Github_QueryCityId è½¬è½½è¯·æ ‡æ˜å‡ºå¤„ï¼šhttp://blog.csdn.net/lmj623565791/article/details/39121377 å¤§å®¶åœ¨Androidé¡¹ç›®ä¸­æˆ–å¤šæˆ–å°‘çš„éƒ½ä¼šä½¿ç”¨æ•°æ®åº“ï¼Œä¸ºäº†æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œå½“ç„¶å°‘ä¸äº†æ•°æ®åº“ORMæ¡†æ¶äº†ï¼Œå°¤å…¶æ˜¯æŸäº›æ•°æ®åº“æ“ä½œç‰¹åˆ«é¢‘ç¹çš„appï¼›æœ¬ç¯‡åšå®¢å°†è¯¦ç»†ä»‹ç»ORMLiteçš„ç®€æ˜“ç”¨æ³•ã€‚","text":"æœ¬æ–‡æ‘˜è‡ª é¸¿ç¥åšå®¢,è‡ªå·±å·æ‡’æ²¡å†™,é¸¿ç¥çš„å†™çš„å¾ˆè¯¦ç»†,ä»–çš„åšå®¢è¿˜æœ‰ ORMLite æ¡†æ¶æœ€ä½³å®è·µ. åŸºäºé¸¿ç¥æ•™ç¨‹è¿ç”¨äº†ORMLiteæ¡†æ¶è¯¦è§æˆ‘çš„Github_QueryCityId è½¬è½½è¯·æ ‡æ˜å‡ºå¤„ï¼šhttp://blog.csdn.net/lmj623565791/article/details/39121377 å¤§å®¶åœ¨Androidé¡¹ç›®ä¸­æˆ–å¤šæˆ–å°‘çš„éƒ½ä¼šä½¿ç”¨æ•°æ®åº“ï¼Œä¸ºäº†æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œå½“ç„¶å°‘ä¸äº†æ•°æ®åº“ORMæ¡†æ¶äº†ï¼Œå°¤å…¶æ˜¯æŸäº›æ•°æ®åº“æ“ä½œç‰¹åˆ«é¢‘ç¹çš„appï¼›æœ¬ç¯‡åšå®¢å°†è¯¦ç»†ä»‹ç»ORMLiteçš„ç®€æ˜“ç”¨æ³•ã€‚ä¸‹é¢å¼€å§‹ä»‹ç»ORMLiteçš„å…¥é—¨ç”¨æ³•~ ä¸‹è½½ ORMLite Jaré¦–å…ˆå»ORMLiteå®˜ç½‘ä¸‹è½½jaråŒ…ï¼Œå¯¹äºAndroidä¸ºï¼šormlite-android-4.48.jar å’Œ ormlite-core-4.48.jar ï¼› ps:è®¿é—®ä¸äº†çš„æœ‹å‹ï¼Œæ–‡ç« æœ«å°¾ä¼šæŠŠjarã€æºç ã€docä¸æœ¬ç¯‡åšå®¢ä¾‹å­ä¸€èµ·æ‰“åŒ…æä¾›ç»™å¤§å®¶ä¸‹è½½ã€‚ é…ç½®Beanç±»æœ‰äº†jar,æˆ‘ä»¬ç›´æ¥æ–°å»ºä¸€ä¸ªé¡¹ç›®ä¸ºï¼šzhy_ormliteï¼Œç„¶åæŠŠjaræ‹·è´åˆ°libsä¸‹ã€‚ ç„¶åæ–°å»ºä¸€ä¸ªåŒ…ï¼šcom.zhy.zhy_ormlite.beanä¸“é—¨ç”¨äºå­˜æ”¾é¡¹ç›®ä¸­çš„Beanï¼Œé¦–å…ˆæ–°å»ºä¸€ä¸ªUser.Java1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.zhy.zhy_ormlite.bean;import com.j256.ormlite.field.DatabaseField;import com.j256.ormlite.table.DatabaseTable;@DatabaseTable(tableName = \"tb_user\")public class User&#123; @DatabaseField(generatedId = true) private int id; @DatabaseField(columnName = \"name\") private String name; @DatabaseField(columnName = \"desc\") private String desc; public User() &#123; &#125; public User(String name, String desc) &#123; this.name = name; this.desc = desc; &#125; public int getId() &#123; return id; &#125; public void setId(int id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getDesc() &#123; return desc; &#125; public void setDesc(String desc) &#123; this.desc = desc; &#125;&#125; é¦–å…ˆåœ¨Userç±»ä¸Šæ·»åŠ @DatabaseTable(tableName = â€œtb_userâ€)ï¼Œæ ‡æ˜è¿™æ˜¯æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ï¼Œæ ‡æ˜ä¸ºtb_userç„¶ååˆ†åˆ«åœ¨å±æ€§ä¸Šæ·»åŠ @DatabaseField(columnName = â€œnameâ€) ï¼ŒcolumnNameçš„å€¼ä¸ºè¯¥å­—æ®µåœ¨æ•°æ®ä¸­çš„åˆ—å@DatabaseField(generatedId = true) ï¼ŒgeneratedId è¡¨ç¤ºidä¸ºä¸»é”®ä¸”è‡ªåŠ¨ç”Ÿæˆ ç¼–å†™DAOç±»åŸç”Ÿçš„æ•°æ®åº“æ“ä½œï¼Œéœ€è¦ç»§æ‰¿SQLiteOpenHelperï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ç»§æ‰¿OrmLiteSqliteOpenHelperï¼Œçœ‹ä»£ç ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102package com.zhy.zhy_ormlite.db;import java.sql.SQLException;import android.content.Context;import android.database.sqlite.SQLiteDatabase;import com.j256.ormlite.android.apptools.OrmLiteSqliteOpenHelper;import com.j256.ormlite.dao.Dao;import com.j256.ormlite.support.ConnectionSource;import com.j256.ormlite.table.TableUtils;import com.zhy.zhy_ormlite.bean.User;public class DatabaseHelper extends OrmLiteSqliteOpenHelper&#123; private static final String TABLE_NAME = \"sqlite-test.db\"; /** * userDao ï¼Œæ¯å¼ è¡¨å¯¹äºä¸€ä¸ª */ private Dao&lt;User, Integer&gt; userDao; private DatabaseHelper(Context context) &#123; super(context, TABLE_NAME, null, 2); &#125; @Override public void onCreate(SQLiteDatabase database, ConnectionSource connectionSource) &#123; try &#123; TableUtils.createTable(connectionSource, User.class); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125; @Override public void onUpgrade(SQLiteDatabase database, ConnectionSource connectionSource, int oldVersion, int newVersion) &#123; try &#123; TableUtils.dropTable(connectionSource, User.class, true); onCreate(database, connectionSource); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125; private static DatabaseHelper instance; /** * å•ä¾‹è·å–è¯¥Helper * * @param context * @return */ public static synchronized DatabaseHelper getHelper(Context context) &#123; if (instance == null) &#123; synchronized (DatabaseHelper.class) &#123; if (instance == null) instance = new DatabaseHelper(context); &#125; &#125; return instance; &#125; /** * è·å¾—userDao * * @return * @throws SQLException */ public Dao&lt;User, Integer&gt; getUserDao() throws SQLException &#123; if (userDao == null) &#123; userDao = getDao(User.class); &#125; return userDao; &#125; /** * é‡Šæ”¾èµ„æº */ @Override public void close() &#123; super.close(); userDao = null; &#125;&#125; è¿™é‡Œæˆ‘ä»¬éœ€è¦ç»§æ‰¿OrmLiteSqliteOpenHelperï¼Œå…¶å®å°±æ˜¯é—´æ¥ç»§æ‰¿äº†SQLiteOpenHelperç„¶åéœ€è¦å®ç°ä¸¤ä¸ªæ–¹æ³•ï¼š1ã€onCreate(SQLiteDatabase database,ConnectionSource connectionSource)åˆ›å»ºè¡¨ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ormliteæä¾›çš„TableUtils.createTable(connectionSource, User.class);è¿›è¡Œåˆ›å»º~2ã€onUpgrade(SQLiteDatabase database, ConnectionSource connectionSource, int oldVersion, int newVersion)æ›´æ–°è¡¨ï¼Œä½¿ç”¨ormliteæä¾›çš„TableUtils.dropTable(connectionSource, User.class, true);è¿›è¡Œåˆ é™¤æ“ä½œ~åˆ é™¤å®Œæˆåï¼Œåˆ«å¿˜äº†ï¼Œåˆ›å»ºæ“ä½œï¼šonCreate(database, connectionSource); ç„¶åä½¿ç”¨å•ä¾‹å…¬å¸ƒå‡ºä¸€ä¸ªåˆ›å»ºå®ä¾‹çš„æ–¹æ³•ï¼ŒgetHelperç”¨äºè·å–æˆ‘ä»¬çš„helpå®ä¾‹ï¼›æœ€åæˆ‘ä»¬å¯èƒ½ä¼šæœ‰å¾ˆå¤šè¡¨å˜›ï¼Œæ¯ä¸ªè¡¨ä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šå•ç‹¬å†™ä¸ªDaoç”¨äºæ“ä½œï¼Œè¿™é‡Œä¸ºäº†ç®€å•æˆ‘å¹¶æ²¡æœ‰æŠ½å–å‡ºæ¥ï¼Œç›´æ¥å†™åœ¨helperä¸­ï¼šæ¯”å¦‚UserDaoçš„è·å–ï¼š1234567891011121314/** * è·å¾—userDao * * @return * @throws SQLException */ public Dao&lt;User, Integer&gt; getUserDao() throws SQLException &#123; if (userDao == null) &#123; userDao = getDao(User.class); &#125; return userDao; &#125; ç„¶åé€šè¿‡è·å–åˆ°çš„Daoå°±å¯ä»¥è¿›è¡ŒUserçš„ä¸€äº›å¸¸ç”¨çš„æ“ä½œäº†ã€‚ æµ‹è¯•æœ€åæ˜¯æµ‹è¯•ï¼Œæˆ‘ä»¬ç›´æ¥åˆ›å»ºäº†ä¸€ä¸ªæµ‹è¯•ç±»è¿›è¡Œæµ‹è¯•12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788```package com.zhy.zhy_ormlite.test;import java.sql.SQLException;import java.util.List;import com.zhy.zhy_ormlite.bean.User;import com.zhy.zhy_ormlite.db.DatabaseHelper;import android.test.AndroidTestCase;import android.util.Log;public class OrmLiteDbTest extends AndroidTestCase&#123; public void testAddUser() &#123; User u1 = new User(\"zhy\", \"2Bé’å¹´\"); DatabaseHelper helper = DatabaseHelper.getHelper(getContext()); try &#123; helper.getUserDao().create(u1); u1 = new User(\"zhy2\", \"2Bé’å¹´\"); helper.getUserDao().create(u1); u1 = new User(\"zhy3\", \"2Bé’å¹´\"); helper.getUserDao().create(u1); u1 = new User(\"zhy4\", \"2Bé’å¹´\"); helper.getUserDao().create(u1); u1 = new User(\"zhy5\", \"2Bé’å¹´\"); helper.getUserDao().create(u1); u1 = new User(\"zhy6\", \"2Bé’å¹´\"); helper.getUserDao().create(u1); testList(); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125; public void testDeleteUser() &#123; DatabaseHelper helper = DatabaseHelper.getHelper(getContext()); try &#123; helper.getUserDao().deleteById(2); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125; public void testUpdateUser() &#123; DatabaseHelper helper = DatabaseHelper.getHelper(getContext()); try &#123; User u1 = new User(\"zhy-android\", \"2Bé’å¹´\"); u1.setId(3); helper.getUserDao().update(u1); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125; public void testList() &#123; DatabaseHelper helper = DatabaseHelper.getHelper(getContext()); try &#123; User u1 = new User(\"zhy-android\", \"2Bé’å¹´\"); u1.setId(2); List&lt;User&gt; users = helper.getUserDao().queryForAll(); Log.e(\"TAG\", users.toString()); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125;&#125;````ç®€å•æµ‹è¯•`äº†ä¸‹CURDï¼Œä½¿ç”¨`AndroidTestCase`è®°å¾—é…ç½®ä¸‹ç¯å¢ƒ ç”¨èµ·æ¥æ˜¯ä¸æ˜¯è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œä¸è¿‡è¿˜æ˜¯å»ºè®®å¤§å®¶ä¾‹å¦‚Userçš„æ•°æ®åº“æ“ä½œï¼Œå•ç‹¬æŠ½å–å‡ºæ¥ä¸ºUserDaoï¼Œå¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728package com.zhy.zhy_ormlite.db;import java.sql.SQLException;import android.content.Context;import com.zhy.zhy_ormlite.bean.User;public class UserDao&#123; private Context context; public UserDao(Context context) &#123; this.context = context; &#125; public void add(User user) &#123; try &#123; DatabaseHelper.getHelper(context).getUserDao().create(user); &#125; catch (SQLException e) &#123; &#125; &#125;//......&#125; æ³¨ï¼šORMLiteè¿˜æä¾›äº†ä¸€äº›åŸºç±»ORMLiteBaseActivityï¼ŒORMLiteBaseServiceä¹‹ç±»çš„ï¼Œä¾¿äºæ•°æ®åº“æ“ä½œçš„ï¼Œè¿™é‡Œä¸åšè€ƒè™‘ï¼Œæ¯•ç«Ÿé¡¹ç›®ä¸­å¾ˆå¤§å¯èƒ½è‡ªå·±ä¹Ÿéœ€è¦ç»§æ‰¿è‡ªå·±çš„BaseActvityä¹‹ç±»çš„ã€‚ ä¸Šé¢ç®€å•ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ORMLiteæ¡†æ¶ï¼ŒAndroid å¿«é€Ÿå¼€å‘ç³»åˆ— ORMLite æ¡†æ¶çš„ä½¿ç”¨ å°†å¯¹å…¶ç”¨æ³•è¿›è¡Œæ·±å…¥çš„ä»‹ç»ã€‚ #æºç ç‚¹å‡»ä¸‹è½½","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"ORMLite","slug":"ORMLite","permalink":"https://yangxiaoge.github.io/tags/ORMLite/"}]},{"title":"Android shape","slug":"Android-shape","date":"2016-06-20T03:25:51.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2016/06/20/Android-shape/","link":"","permalink":"https://yangxiaoge.github.io/2016/06/20/Android-shape/","excerpt":"ä½¿ç”¨shapeå¯ä»¥è‡ªå®šä¹‰å½¢çŠ¶ï¼Œå¯ä»¥å®šä¹‰ä¸‹é¢å››ç§ç±»å‹çš„å½¢çŠ¶ï¼Œé€šè¿‡android:shape å±æ€§æŒ‡å®šï¼š rectangle: çŸ©å½¢ï¼Œé»˜è®¤çš„å½¢çŠ¶ï¼Œå¯ä»¥ç”»å‡ºç›´è§’çŸ©å½¢ã€åœ†è§’çŸ©å½¢ã€å¼§å½¢ç­‰ oval: æ¤­åœ†å½¢ï¼Œç”¨å¾—æ¯”è¾ƒå¤šçš„æ˜¯ç”»æ­£åœ† line: çº¿å½¢ï¼Œå¯ä»¥ç”»å®çº¿å’Œè™šçº¿ ring: ç¯å½¢ï¼Œå¯ä»¥ç”»ç¯å½¢è¿›åº¦æ¡ gradientä»£è¡¨æ¸å˜ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„ä½¿ç”¨ï¼š","text":"ä½¿ç”¨shapeå¯ä»¥è‡ªå®šä¹‰å½¢çŠ¶ï¼Œå¯ä»¥å®šä¹‰ä¸‹é¢å››ç§ç±»å‹çš„å½¢çŠ¶ï¼Œé€šè¿‡android:shape å±æ€§æŒ‡å®šï¼š rectangle: çŸ©å½¢ï¼Œé»˜è®¤çš„å½¢çŠ¶ï¼Œå¯ä»¥ç”»å‡ºç›´è§’çŸ©å½¢ã€åœ†è§’çŸ©å½¢ã€å¼§å½¢ç­‰ oval: æ¤­åœ†å½¢ï¼Œç”¨å¾—æ¯”è¾ƒå¤šçš„æ˜¯ç”»æ­£åœ† line: çº¿å½¢ï¼Œå¯ä»¥ç”»å®çº¿å’Œè™šçº¿ ring: ç¯å½¢ï¼Œå¯ä»¥ç”»ç¯å½¢è¿›åº¦æ¡ gradientä»£è¡¨æ¸å˜ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„ä½¿ç”¨ï¼š12345&lt;gradient android:angle=\"0\" android:centerColor=\"#ff0f00\" android:endColor=\"#ff00ff\" android:startColor=\"#00ff00\" /&gt; solidä»£è¡¨å®å¿ƒï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„ä½¿ç”¨ï¼š12345&lt;stroke android:width=\"10dp\" android:color=\"#00FFFF\" android:dashGap=\"5dp\" android:dashWidth=\"5dp\" /&gt; cornersä»£è¡¨åœ†è§’ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„ä½¿ç”¨ï¼š1&lt;corners android:radius=\"5dp\" /&gt; çœ‹ä¸‹å®Œæ•´çš„shape(drawable/â€¦xml)æ–‡ä»¶:123456789101112131415161718192021222324&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\" å››ç§ç±»å‹ &gt; &lt;!-- æ¸å˜ --&gt; &lt;gradient android:angle=\"0\" android:centerColor=\"#ff0f00\" android:endColor=\"#ff00ff\" android:startColor=\"#00ff00\" /&gt; &lt;!-- å®å¿ƒ --&gt; &lt;solid android:color=\"#F0FFFF\" /&gt; &lt;!-- æè¾¹ --&gt; &lt;stroke android:width=\"10dp\" android:color=\"#00FFFF\" android:dashGap=\"5dp\" android:dashWidth=\"5dp\" /&gt; &lt;!-- åœ†è§’ --&gt; &lt;corners android:radius=\"100dp\" /&gt;&lt;/shape&gt;","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"}]},{"title":"AthenaMIé¡¹ç›®å¯åŠ¨","slug":"Athenaé¡¹ç›®å¯åŠ¨","date":"2016-06-03T08:49:28.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2016/06/03/Athenaé¡¹ç›®å¯åŠ¨/","link":"","permalink":"https://yangxiaoge.github.io/2016/06/03/Athenaé¡¹ç›®å¯åŠ¨/","excerpt":"ä»Šæ—¥å·²å®Œæˆå·¥ä½œ (2016-06-03 16:49:28) ç™»å½•ç•Œé¢( å›½é™…åŒ– ) é¦–é¡µåº•éƒ¨Tabè®¾è®¡å®Œæˆ ä¾§æ»‘Drawerlayout( Googleå®˜æ–¹Demoæ»¡è¶³éœ€æ±‚ ) å…¬å¸é¡¹ç›® ä¸èƒ½ä¸Šæˆªå›¾ (ï½ï¿£â–½ï¿£)ï½","text":"ä»Šæ—¥å·²å®Œæˆå·¥ä½œ (2016-06-03 16:49:28) ç™»å½•ç•Œé¢( å›½é™…åŒ– ) é¦–é¡µåº•éƒ¨Tabè®¾è®¡å®Œæˆ ä¾§æ»‘Drawerlayout( Googleå®˜æ–¹Demoæ»¡è¶³éœ€æ±‚ ) å…¬å¸é¡¹ç›® ä¸èƒ½ä¸Šæˆªå›¾ (ï½ï¿£â–½ï¿£)ï½ æå–å…¬å…±éƒ¨åˆ†(2016-06-04 15:02:17) æ ·å¼ å­—ä½“ drawable(EditTextè™šçº¿æ¡†ç­‰ç­‰) æ­£åœ¨é©¬ä¸åœè¹„çš„coding... é¡¹ç›®å¼€å‘å®Œå†æ¥è¡¥å……","categories":[{"name":"APPå¼€å‘è®°","slug":"APPå¼€å‘è®°","permalink":"https://yangxiaoge.github.io/categories/APPå¼€å‘è®°/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"MI","slug":"MI","permalink":"https://yangxiaoge.github.io/tags/MI/"}]},{"title":"highèµ·æ¥","slug":"ç½‘æ˜“music-2016-5-22","date":"2016-05-22T03:28:07.000Z","updated":"2017-05-27T09:28:57.000Z","comments":true,"path":"2016/05/22/ç½‘æ˜“music-2016-5-22/","link":"","permalink":"https://yangxiaoge.github.io/2016/05/22/ç½‘æ˜“music-2016-5-22/","excerpt":"","text":"","categories":[{"name":"Music","slug":"Music","permalink":"https://yangxiaoge.github.io/categories/Music/"}],"tags":[{"name":"Music","slug":"Music","permalink":"https://yangxiaoge.github.io/tags/Music/"}]},{"title":"ä½¿ç”¨gradleå‘½ä»¤æ‰“åŒ…apk","slug":"ä½¿ç”¨gradleå‘½ä»¤æ‰“åŒ…apk","date":"2016-05-16T11:04:04.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2016/05/16/ä½¿ç”¨gradleå‘½ä»¤æ‰“åŒ…apk/","link":"","permalink":"https://yangxiaoge.github.io/2016/05/16/ä½¿ç”¨gradleå‘½ä»¤æ‰“åŒ…apk/","excerpt":"å‰è¨€ç³»ç»Ÿç¯å¢ƒï¼šWindows7 Android Studioç‰ˆæœ¬ï¼š2.1.1 Gradleç‰ˆæœ¬ï¼š2.8 æ•´ä¸ªè¿‡ç¨‹é»˜è®¤ç¿»å¢™ï¼ æœ¬æ–‡å‚è€ƒäº†Android Studioç³»åˆ—æ•™ç¨‹äº”â€“Gradleå‘½ä»¤è¯¦è§£ä¸å¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼Œgradleé¡¹ç›®æ„å»ºè¿™ä¸¤ç¯‡åšå®¢ä»¥åŠGradleå®˜ç½‘ä¸Šå…³äºGradleä½¿ç”¨è¯´æ˜ã€‚ éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œå¯¹Gradleçš„äº†è§£ä¹Ÿå¤šäº†äº›ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠå¦‚ä½•ç”¨Gradleæ‰“æµ‹è¯•åŒ…å’Œæ­£å¼åŒ…ï¼ˆdebugä¸releaseï¼‰ã€‚Gradleå®˜ç½‘ä¸Šå¯¹Windowså¹³å°çš„Gradleä¹Ÿæœ‰æè¿°ã€‚æ„Ÿè§‰å­¦ä¸œè¥¿è¿˜æ˜¯å¾—å¤šå»å®˜ç½‘ä¸Šçœ‹çœ‹ï¼Œæ¯•ç«Ÿä¸Šé¢éƒ½è®²çš„éå¸¸è¯¦ç»†ã€‚","text":"å‰è¨€ç³»ç»Ÿç¯å¢ƒï¼šWindows7 Android Studioç‰ˆæœ¬ï¼š2.1.1 Gradleç‰ˆæœ¬ï¼š2.8 æ•´ä¸ªè¿‡ç¨‹é»˜è®¤ç¿»å¢™ï¼ æœ¬æ–‡å‚è€ƒäº†Android Studioç³»åˆ—æ•™ç¨‹äº”â€“Gradleå‘½ä»¤è¯¦è§£ä¸å¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼Œgradleé¡¹ç›®æ„å»ºè¿™ä¸¤ç¯‡åšå®¢ä»¥åŠGradleå®˜ç½‘ä¸Šå…³äºGradleä½¿ç”¨è¯´æ˜ã€‚ éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œå¯¹Gradleçš„äº†è§£ä¹Ÿå¤šäº†äº›ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠå¦‚ä½•ç”¨Gradleæ‰“æµ‹è¯•åŒ…å’Œæ­£å¼åŒ…ï¼ˆdebugä¸releaseï¼‰ã€‚Gradleå®˜ç½‘ä¸Šå¯¹Windowså¹³å°çš„Gradleä¹Ÿæœ‰æè¿°ã€‚æ„Ÿè§‰å­¦ä¸œè¥¿è¿˜æ˜¯å¾—å¤šå»å®˜ç½‘ä¸Šçœ‹çœ‹ï¼Œæ¯•ç«Ÿä¸Šé¢éƒ½è®²çš„éå¸¸è¯¦ç»†ã€‚ ä¸‹è½½Gradleä¸ç”ŸæˆAPKåœ¨Android Studioä¸­çš„Terminalçª—å£ä¸‹è¾“å…¥ï¼šgradlew -v ã€‚æ¥æŸ¥çœ‹ä¸‹é¡¹ç›®æ‰€ç”¨çš„Gradleç‰ˆæœ¬ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ‰§è¡Œä¼šå»ä¸‹è½½Gradleä¸‹è½½æˆåŠŸåä¼šå‡ºç°å¦‚ä¸‹ä¿¡æ¯ï¼š æ¥ç€è¾“å…¥ï¼šgradlew cleanã€‚ æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¼šå»ä¸‹è½½Gradleçš„ä¸€äº›ä¾èµ– æœ€åæ‰§è¡Œï¼šgradlew buildã€‚ è¿™ä¸ªå‘½ä»¤ä¼šç›´æ¥ç¼–è¯‘å¹¶ç”Ÿæˆç›¸åº”çš„apkæ–‡ä»¶ï¼Œå¦‚æœçœ‹åˆ°å¦‚ä¸‹å­—æ ·å°±ä»£è¡¨buildæˆåŠŸäº† APKç­¾åå…³äºç­¾åï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ˜¯åœ¨Android Studioèœå•æ é‡Œä¸­buildç›®å½•ä¸‹çš„Generate signed APKè¿™ç§å›¾å½¢ç•Œé¢å®ç°ã€‚ç¬¬äºŒç§æ˜¯ç›´æ¥åœ¨gradle.buildé‡Œé¢é€šè¿‡ä»£ç å®ç°;ä¸è¿‡ä¸¤ç§æ–¹æ³•éƒ½å·®ä¸å¤šã€‚åœ¨è¿™é‡Œæˆ‘åªä»‹ç»ä¸€ä¸‹ç¬¬ä¸€ç§æ–¹æ³•ã€‚ å…ˆæ‰§è¡Œï¼šgradlew clean å‘½ä»¤ï¼Œå°†APKæ–‡ä»¶æ¸…é™¤ã€‚ ç„¶åæ‰§è¡Œï¼šradlew build å‘½ä»¤ï¼Œè¿™ä¸ªæ—¶å€™æ³¨æ„çœ‹Projectç›®å½•ä¸‹å°†å‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æµ‹è¯•ç‰ˆå’Œæœªç­¾åçš„æ­£å¼ç‰ˆ ç”ŸæˆKeystoreæ–‡ä»¶ç‚¹å‡»Android Studioèœå•æ ä¸Šçš„buildâ€”â€”&gt;Generate signed APK å°†å‡ºç°ä¸‹å›¾æ‰€ç¤ºçš„å¯¹è¯æ¡†ã€‚ç”±äºç¬¬ä¸€æ¬¡ä½¿ç”¨è¿˜æ²¡æœ‰åˆ›å»ºKeystoreæ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºä¸€ä¸ªã€‚ æ¥ä¸‹æ¥å‡ºç°å¦‚ä¸‹çš„å¯¹è¯æ¡†ï¼ŒæŒ‰è¦æ±‚å¡«å¥½ä¿¡æ¯åï¼Œç‚¹å‡»OKï¼ˆæ³¨æ„ï¼šè¯·ç‰¢è®°è‡ªå·±è®¾ç½®çš„å¯†ç ï¼Œç­‰ä¼šè¦ç”¨åˆ°ï¼‰ æ¥ä¸‹æ¥å°†è®¾ç½®Keystoreçš„å­˜æ”¾è·¯å¾„åŠå‘½åæ–‡ä»¶åç§°ï¼Œè¯¥æ–‡ä»¶åç¼€é»˜è®¤ä¸ºjksã€‚ç‚¹å‡»OKã€‚ ç”Ÿæˆå¸¦ç­¾åçš„æ­£å¼ç‰ˆAPKå¡«å†™ä¹‹å‰è®¾ç½®çš„å¯†ç ï¼Œç‚¹å‡»Next é€‰æ‹©build Typeä¸ºreleaseï¼Œç‚¹å‡»finish æ¥ä¸‹æ¥ä½ å°†çœ‹åˆ°Projectç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªå¸¦ç­¾åçš„æ­£å¼ç‰ˆ ç‚¹å‡»Android Studioä¸­å³ä¸Šè§’çš„è¿™ä¸ªè·¯å¾„æç¤º å¤§åŠŸå‘Šæˆï¼ï¼ å¸¦ç­¾åçš„æ­£å¼ç‰ˆä»¥åŠæµ‹è¯•ç‰ˆéƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œäº†ã€‚ Gradleå¸¸ç”¨å‘½ä»¤æ›´è¯¦ç»†çš„è¯·Googleä¸‹ gradlewä»£è¡¨ gradle wrapperï¼Œæ„æ€æ˜¯gradleçš„ä¸€å±‚åŒ…è£…ï¼Œå¤§å®¶å¯ä»¥ç†è§£ä¸ºåœ¨è¿™ä¸ªé¡¹ç›®æœ¬åœ°å°±å°è£…äº†gradleï¼Œå³gradle wrapperã€‚ä¸‹é¢åˆ—ä¸¾äº†å‡ ä¸ªå¸¸è§çš„å‘½ä»¤ï¼š gradlew -vï¼šç‰ˆæœ¬å· gradlew cleanï¼šæŠŠä¹‹å‰æ‰“åŒ…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æ–‡ä»¶å…¨éƒ¨æ¸…é™¤(æ³¨æ„ï¼šå’Œç¬¬ä¸€æ¬¡ä¸‹è½½Gradleæ—¶å€™çš„å‘½ä»¤ç›¸åŒï¼Œä½†ä½œç”¨ä¸åŒ) gradlew buildï¼šæ£€æŸ¥ä¾èµ–å¹¶ç¼–è¯‘æ‰“åŒ…(æ³¨æ„ï¼šå’Œç¬¬ä¸€æ¬¡ä¸‹è½½Gradleæ—¶å€™çš„å‘½ä»¤ç›¸åŒï¼Œä½†ä½œç”¨ä¸åŒ) è¿™é‡Œæ³¨æ„çš„æ˜¯ gradlew buildå‘½ä»¤æŠŠdebugã€releaseç¯å¢ƒçš„åŒ…éƒ½æ‰“å‡ºæ¥ï¼Œå¦‚æœæ­£å¼å‘å¸ƒåªéœ€è¦æ‰“Releaseçš„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¿™ä¸¤ä¸ªå‘½ä»¤ï¼š gradlew assembleDebug ç¼–è¯‘å¹¶æ‰“DebugåŒ… gradlew assembleRelease ç¼–è¯‘å¹¶æ‰“Releaseçš„åŒ…","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"Android Studio","slug":"Android-Studio","permalink":"https://yangxiaoge.github.io/tags/Android-Studio/"},{"name":"Gradle","slug":"Gradle","permalink":"https://yangxiaoge.github.io/tags/Gradle/"}]},{"title":"Androidä¸­ä½¿ç”¨Gsonè§£æç¨å¤æ‚çš„JSONæ•°æ®","slug":"Androidä¸­ä½¿ç”¨Gsonè§£æç¨å¤æ‚çš„JSONæ•°æ®","date":"2016-05-05T11:23:35.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2016/05/05/Androidä¸­ä½¿ç”¨Gsonè§£æç¨å¤æ‚çš„JSONæ•°æ®/","link":"","permalink":"https://yangxiaoge.github.io/2016/05/05/Androidä¸­ä½¿ç”¨Gsonè§£æç¨å¤æ‚çš„JSONæ•°æ®/","excerpt":"æ‘˜æŠ„è‡ª http://www.jianshu.com/p/3b8ef7162e69 ä¸€ã€Jsonç®€ä»‹JSONå®˜ç½‘(ä¸­æ–‡ç‰ˆ)ï¼šhttp://www.json.org/json-zh.html JSON(JavaScript Object Notation)æ˜¯ä¸€ç§è½»é‡çº§(è½»é‡çº§ï¼Ÿç®€å•ã€æ˜“æ“ä½œã€å¿«æ·)çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚ä¸»è¦ç›®çš„å°±æ˜¯ç»™å‡ºä¸€å¥—é€šç”¨çš„æ•°æ®æ ¼å¼ï¼Œå¤§å®¶æŒ‰ç…§è¿™ç§æ ¼å¼å®šä¹‰è‡ªå·±çš„æ•°æ®ï¼Œæ–¹ä¾¿æ•°æ®çš„äº¤æ¢ã€‚ç‰¹ç‚¹æ˜¯(ç›¸å¯¹æ¥è¯´) æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼Œæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆ ã€‚","text":"æ‘˜æŠ„è‡ª http://www.jianshu.com/p/3b8ef7162e69 ä¸€ã€Jsonç®€ä»‹JSONå®˜ç½‘(ä¸­æ–‡ç‰ˆ)ï¼šhttp://www.json.org/json-zh.html JSON(JavaScript Object Notation)æ˜¯ä¸€ç§è½»é‡çº§(è½»é‡çº§ï¼Ÿç®€å•ã€æ˜“æ“ä½œã€å¿«æ·)çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚ä¸»è¦ç›®çš„å°±æ˜¯ç»™å‡ºä¸€å¥—é€šç”¨çš„æ•°æ®æ ¼å¼ï¼Œå¤§å®¶æŒ‰ç…§è¿™ç§æ ¼å¼å®šä¹‰è‡ªå·±çš„æ•°æ®ï¼Œæ–¹ä¾¿æ•°æ®çš„äº¤æ¢ã€‚ç‰¹ç‚¹æ˜¯(ç›¸å¯¹æ¥è¯´) æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼Œæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆ ã€‚Rulesï¼š â€œå/å€¼â€å¯¹çš„é›†åˆï¼ˆA collection of name/value pairsï¼‰ã€‚ä¸åŒçš„è¯­è¨€ä¸­ï¼Œå®ƒè¢«ç†è§£ä¸ºå¯¹è±¡ï¼ˆobjectï¼‰ï¼Œçºªå½•ï¼ˆrecordï¼‰ï¼Œç»“æ„ï¼ˆstructï¼‰ï¼Œå­—å…¸ï¼ˆdictionaryï¼‰ï¼Œå“ˆå¸Œè¡¨ï¼ˆhash tableï¼‰ï¼Œæœ‰é”®åˆ—è¡¨ï¼ˆkeyed listï¼‰ï¼Œæˆ–è€…å…³è”æ•°ç»„ ï¼ˆassociative arrayï¼‰ã€‚ å€¼çš„æœ‰åºåˆ—è¡¨ï¼ˆAn ordered list of valuesï¼‰ã€‚åœ¨å¤§éƒ¨åˆ†è¯­è¨€ä¸­ï¼Œå®ƒè¢«ç†è§£ä¸ºæ•°ç»„ï¼ˆarrayï¼‰ã€‚ JSONå¯ä»¥æœ‰ä»¥ä¸‹æ ¼å¼ï¼š 1.å¯¹è±¡æ˜¯ä¸€ä¸ªæ— åºçš„â€œ â€˜åç§°/å€¼â€™ å¯¹â€é›†åˆã€‚ä¸€ä¸ªå¯¹è±¡ä»¥â€œ{â€ï¼ˆå·¦æ‹¬å·ï¼‰å¼€å§‹ï¼Œâ€œ}â€ï¼ˆå³æ‹¬å·ï¼‰ç»“æŸã€‚æ¯ä¸ªâ€œåç§°â€åè·Ÿä¸€ä¸ªâ€œ:â€ï¼ˆå†’å·ï¼‰ï¼›â€œâ€˜åç§°/å€¼â€™ å¯¹â€ä¹‹é—´ä½¿ç”¨â€œ,â€ï¼ˆé€—å·ï¼‰åˆ†éš”ã€‚ 2.æ•°ç»„æ˜¯å€¼ï¼ˆvalueï¼‰çš„æœ‰åºé›†åˆã€‚ä¸€ä¸ªæ•°ç»„ä»¥â€œ[â€ï¼ˆå·¦ä¸­æ‹¬å·ï¼‰å¼€å§‹ï¼Œâ€œ]â€ï¼ˆå³ä¸­æ‹¬å·ï¼‰ç»“æŸã€‚å€¼ä¹‹é—´ä½¿ç”¨â€œ,â€ï¼ˆé€—å·ï¼‰åˆ†éš”ã€‚ ä»¥ä¸Šæ˜¯æœ€åŸºæœ¬çš„jsonçŸ¥è¯†ï¼Œæƒ³æ·±å…¥äº†è§£çš„ï¼Œè¯·ç§»æ­¥å®˜ç½‘ã€‚ ä¸‹é¢ä¸¾ä¸ªæ —å­ç»™å¤§å®¶å°å°ï¼š123456789101112131415161718192021&#123; \"type\": \"forecast1d\", \"weatherinfo\": [ &#123; \"city\": \"åŒ—äº¬\", \"cityid\": \"1\", \"temp1\": \"22â„ƒ\", \"temp2\": \"10â„ƒ\", \"weather\": \"æ™´\", \"ptime\": \"11:00\" &#125;, &#123; \"city\": \"ä¸Šæµ·\", \"cityid\": \"2\", \"temp1\": \"24â„ƒ\", \"temp2\": \"12â„ƒ\", \"weather\": \"æ™´\", \"ptime\": \"11:00\" &#125; ]&#125; æ —å­å¥½éš¾çœ‹ï¼Œä¸Šæˆªå›¾(æˆªå›¾å¤ªå°çœ‹ä¸æ¸…â€¦æˆ³è¿™é‡Œçœ‹å¤§å›¾)ï¼š NOTEï¼šå·¦ä¾§ä¸ºJSONå­—ç¬¦ä¸²ï¼Œå³ä¾§ä¸ºè§£æç»“æ„ï¼Œæ–¹ä¾¿æŸ¥çœ‹ã€‚ç¦åˆ©ï¼šæˆªå›¾æ˜¯æˆ‘åœ¨ä¸€ä¸ªåœ¨çº¿JSON Editorä¸Šæˆªçš„ï¼Œä½“éªŒä¸€ä¸‹â€“&gt;JSON Editorï¼Œå¾ˆå¥½ç”¨æ¨èç»™å¤§å®¶ã€‚ äºŒã€ä½¿ç”¨Gsonåœ¨Androidä¸­è§£æJsonè®¤æ¸…äº†JSONï¼Œå°±è¦è§£æå®ƒã€‚ ä½ å¯ä»¥ä½¿ç”¨çš„JSONåº“ï¼š JSONObject(æºè‡ªAndroidå®˜æ–¹)ã€Gson(æºè‡ªGoogle)ã€Jackson(ç¬¬ä¸‰æ–¹å¼€æºåº“)ã€FastJSON(ç¬¬ä¸‰æ–¹å¼€æºåº“)ã€ç­‰ã€‚ã€‚ã€‚ æœ¬ç¯‡æ–‡ç« ä½¿ç”¨Gsonè§£æJSONï¼ŒGsonåœ°å€ï¼šhttp://code.google.com/p/google-gson/ æ— æ³•ä¸‹è½½ï¼Ÿç™¾åº¦äº‘åˆ†äº«ä¸€ä¸‹http://pan.baidu.com/s/1kTur5xd,æå–å¯†ç :5oae æ ¹æ®JSONä¸²çš„ç»“æ„å®šä¹‰ä¸€ä¸ªç±»(è¿™é‡Œæˆ‘ä»¬æŠŠè¿™ä¸ªç±»å«Result)ï¼Œæˆ‘ä»¬ç›´æ¥æŠŠå¾—åˆ°çš„JSONä¸²è§£ææˆè¿™ä¸ªç±»ã€‚class Resultå®šä¹‰å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425import java.util.List;public class Result &#123; public String type; public List&lt;Info&gt; weatherinfo; public static class Info &#123; public String city; public String cityid; public String temp1; public String temp2; public String weather; public String ptime; &#125;&#125; å®šä¹‰å¥½äº†å¾…è§£ææˆçš„classä¹‹åï¼Œæ¥ä¸‹æ¥ä½¿ç”¨Gsonè§£æJSONä¸²å°±å¯ä»¥äº†ï¼š Gson gson = new Gson();Result r = gson.fromJson(jsonData, Result.class); So easy!éš¾ç‚¹ï¼šå¦‚æœæ˜¯Android Studioå¼€å‘çš„,ç”¨GsonFormatæ’ä»¶å¯ä»¥è‡ªåŠ¨ç”ŸæˆJavaBean å¦‚ä½•å®šä¹‰è¿™ä¸ªå¾…è§£ææˆçš„ç±»ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œçœ‹åˆ°JSONç»“æ„é‡Œé¢æœ‰{ }ä½ å°±å®šä¹‰ä¸€ä¸ªç±»ï¼Œçœ‹åˆ°[ ]ä½ å°±å®šä¹‰ä¸€ä¸ªListå³å¯ï¼Œæœ€ååªå‰©ä¸‹æœ€ç®€å•çš„å¦‚Stringã€intç­‰åŸºæœ¬ç±»å‹ç›´æ¥å®šä¹‰å°±å¥½ã€‚ å†…éƒ¨åµŒå¥—çš„ç±»ï¼Œè¯·ä½¿ç”¨public static class className { }ã€‚ ç±»å†…éƒ¨çš„å±æ€§åï¼Œå¿…é¡»ä¸JSONä¸²é‡Œé¢çš„Keyåç§°ä¿æŒä¸€è‡´ã€‚è¿™ä¸‰ç‚¹è¯·è‡ªè¡Œå¯¹ç…§æˆ‘ä»¬ä¸Šé¢ä¸¾çš„Resultçš„æ —å­ï¼Œéƒ½æœ‰å¯¹åº”ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"Json","slug":"Json","permalink":"https://yangxiaoge.github.io/tags/Json/"}]},{"title":"Androidå¸¸ç”¨æ–¹æ³•æ‘˜è®°ä»¥åŠæ”¶é›†","slug":"Android-å¸¸ç”¨æ–¹æ³•æ‘˜è®°","date":"2016-01-08T02:50:55.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2016/01/08/Android-å¸¸ç”¨æ–¹æ³•æ‘˜è®°/","link":"","permalink":"https://yangxiaoge.github.io/2016/01/08/Android-å¸¸ç”¨æ–¹æ³•æ‘˜è®°/","excerpt":"è·å–å½“å‰é¡µé¢ activity å®ä¾‹ ï¼ˆéšä¾¿ä»€ä¹ˆåœ°æ–¹éƒ½å¯ä»¥è·å–ï¼‰123456789101112131415161718192021222324//è·å–å½“å‰é¡µé¢ activity å®ä¾‹ public static Activity getGlobleActivity() &#123; try &#123; Class activityThreadClass = Class.forName(\"android.app.ActivityThread\"); Object activityThread = activityThreadClass.getMethod(\"currentActivityThread\").invoke(null); Field activitiesField = activityThreadClass.getDeclaredField(\"mActivities\"); activitiesField.setAccessible(true); Map activities = (Map) activitiesField.get(activityThread); for (Object activityRecord : activities.values()) &#123; Class activityRecordClass = activityRecord.getClass(); Field pausedField = activityRecordClass.getDeclaredField(\"paused\"); pausedField.setAccessible(true); if (!pausedField.getBoolean(activityRecord)) &#123; Field activityField = activityRecordClass.getDeclaredField(\"activity\"); activityField.setAccessible(true); Activity activity = (Activity) activityField.get(activityRecord); return activity; &#125; &#125; &#125; catch (Exception e) &#123; &#125; return null; &#125; è¿”å›é”® appåˆ‡æ¢è‡³åå°12345678910111213@Override public boolean onKeyDown(int keyCode, KeyEvent event) &#123; if (keyCode == KeyEvent.KEYCODE_BACK) &#123; if (mBinding.drawerLayout.isDrawerOpen(GravityCompat.START)) &#123; mBinding.drawerLayout.closeDrawer(GravityCompat.START); &#125; else &#123; // ä¸é€€å‡ºç¨‹åºï¼Œè¿›å…¥åå° moveTaskToBack(true); &#125; return true; &#125; return super.onKeyDown(keyCode, event); &#125; è°ƒç”¨ç³»ç»Ÿæ–¹æ³•å¼¹å‡º, åˆ†äº«æ–‡æœ¬å›¾ç‰‡ç­‰(2016-12-06 19:16:43)1234567891011121314151617181920212223242526272829303132/** * Created by _SOLID * Date:2016/4/22 * Time:12:45 * https://github.com/burgessjp/GanHuoIO/blob/master/app/src/main/java/ren/solid/ganhuoio/utils/ShakePictureUtils.java */public class SystemShareUtils &#123; public static void shareText(Context ctx, String text) &#123; Intent sendIntent = new Intent(); sendIntent.setAction(Intent.ACTION_SEND); sendIntent.putExtra(Intent.EXTRA_TEXT, text); sendIntent.setType(\"text/plain\"); ctx.startActivity(Intent.createChooser(sendIntent, \"åˆ†äº«è‡³\")); &#125; public static void shareImage(Context ctx, Uri uri) &#123; Intent sendIntent = new Intent(); sendIntent.setAction(Intent.ACTION_SEND); sendIntent.putExtra(Intent.EXTRA_STREAM, uri); sendIntent.setType(\"image/jpeg\"); ctx.startActivity(Intent.createChooser(sendIntent, \"åˆ†äº«è‡³\")); &#125; public static void shareImageList(Context ctx, ArrayList&lt;Uri&gt; uris) &#123; Intent sendIntent = new Intent(); sendIntent.setAction(Intent.ACTION_SEND_MULTIPLE); sendIntent.putExtra(Intent.EXTRA_STREAM, uris); sendIntent.setType(\"image/*\"); ctx.startActivity(Intent.createChooser(sendIntent, \"åˆ†äº«è‡³\")); &#125;&#125;","text":"è·å–å½“å‰é¡µé¢ activity å®ä¾‹ ï¼ˆéšä¾¿ä»€ä¹ˆåœ°æ–¹éƒ½å¯ä»¥è·å–ï¼‰123456789101112131415161718192021222324//è·å–å½“å‰é¡µé¢ activity å®ä¾‹ public static Activity getGlobleActivity() &#123; try &#123; Class activityThreadClass = Class.forName(\"android.app.ActivityThread\"); Object activityThread = activityThreadClass.getMethod(\"currentActivityThread\").invoke(null); Field activitiesField = activityThreadClass.getDeclaredField(\"mActivities\"); activitiesField.setAccessible(true); Map activities = (Map) activitiesField.get(activityThread); for (Object activityRecord : activities.values()) &#123; Class activityRecordClass = activityRecord.getClass(); Field pausedField = activityRecordClass.getDeclaredField(\"paused\"); pausedField.setAccessible(true); if (!pausedField.getBoolean(activityRecord)) &#123; Field activityField = activityRecordClass.getDeclaredField(\"activity\"); activityField.setAccessible(true); Activity activity = (Activity) activityField.get(activityRecord); return activity; &#125; &#125; &#125; catch (Exception e) &#123; &#125; return null; &#125; è¿”å›é”® appåˆ‡æ¢è‡³åå°12345678910111213@Override public boolean onKeyDown(int keyCode, KeyEvent event) &#123; if (keyCode == KeyEvent.KEYCODE_BACK) &#123; if (mBinding.drawerLayout.isDrawerOpen(GravityCompat.START)) &#123; mBinding.drawerLayout.closeDrawer(GravityCompat.START); &#125; else &#123; // ä¸é€€å‡ºç¨‹åºï¼Œè¿›å…¥åå° moveTaskToBack(true); &#125; return true; &#125; return super.onKeyDown(keyCode, event); &#125; è°ƒç”¨ç³»ç»Ÿæ–¹æ³•å¼¹å‡º, åˆ†äº«æ–‡æœ¬å›¾ç‰‡ç­‰(2016-12-06 19:16:43)1234567891011121314151617181920212223242526272829303132/** * Created by _SOLID * Date:2016/4/22 * Time:12:45 * https://github.com/burgessjp/GanHuoIO/blob/master/app/src/main/java/ren/solid/ganhuoio/utils/ShakePictureUtils.java */public class SystemShareUtils &#123; public static void shareText(Context ctx, String text) &#123; Intent sendIntent = new Intent(); sendIntent.setAction(Intent.ACTION_SEND); sendIntent.putExtra(Intent.EXTRA_TEXT, text); sendIntent.setType(\"text/plain\"); ctx.startActivity(Intent.createChooser(sendIntent, \"åˆ†äº«è‡³\")); &#125; public static void shareImage(Context ctx, Uri uri) &#123; Intent sendIntent = new Intent(); sendIntent.setAction(Intent.ACTION_SEND); sendIntent.putExtra(Intent.EXTRA_STREAM, uri); sendIntent.setType(\"image/jpeg\"); ctx.startActivity(Intent.createChooser(sendIntent, \"åˆ†äº«è‡³\")); &#125; public static void shareImageList(Context ctx, ArrayList&lt;Uri&gt; uris) &#123; Intent sendIntent = new Intent(); sendIntent.setAction(Intent.ACTION_SEND_MULTIPLE); sendIntent.putExtra(Intent.EXTRA_STREAM, uris); sendIntent.setType(\"image/*\"); ctx.startActivity(Intent.createChooser(sendIntent, \"åˆ†äº«è‡³\")); &#125;&#125; Androidè°ƒç”¨å¾®ä¿¡æ‰«ä¸€æ‰«å’Œæ”¯ä»˜å®æ‰«ä¸€æ‰«(2016-9-20 19:01:47)æ‘˜è‡ª:ä¹ æƒ¯æ²‰é»˜çš„Blog ç°åœ¨å¾®ä¿¡ä¸èƒ½ç›´æ¥è·³è½¬åˆ°å¾®ä¿¡æ‰«ä¸€æ‰«:è¯¦è§ Androidè°ƒç”¨å¾®ä¿¡æ‰«ä¸€æ‰«_CSDN Gsonæ„é€ JsonArray(2016-8-23 16:11:25)æœ€è¿‘é¡¹ç›®ä¸­è¯·æ±‚å‚æ•°ä¼ å‚ç”¨åˆ°äº† JsonArrayå¯¹è±¡æ„é€ æ–¹æ³•å¦‚ä¸‹: 123456789Object[] object = new Object[]&#123;\"111\", \"222\", \"24G\"&#125;;JsonArray jsonArr = new JsonArray();for (Object anObject : object) &#123; JsonObject jo = new JsonObject(); //æ„é€ json jo.addProperty(\"offerCode\", (String) anObject); jsonArr.add(jo);&#125;Toast.makeText(this, \"jsonArr: \" + jsonArr.toString(), Toast.LENGTH_SHORT).show();System.out.println(\"jsonArr: \" + jsonArr.toString()); è®¿é—®æˆ–è€…ä¸‹è½½å•ä¸ªgithubæ–‡ä»¶(2016-9-20 18:43:37)ç”¨é€”:å¯ä»¥ç”¨æ¥å­˜ä¸€äº›é…ç½®æ–‡ä»¶,å›¾ç‰‡ç­‰.urlå›ºå®šæ ¼å¼: https://raw.githubusercontent.com/username/repository/branch/filenameä¾‹å¦‚: https://raw.githubusercontent.com/yangxiaoge/MumuXi/master/README.md å‚è€ƒstackoverflow:Download single files from GitHub LICEcapå½•åˆ¶Gifå·¥å…·(2016-8-2 18:57:50)å®˜ç½‘åœ°å€ è¯»å–Assets( ä¸‹é¢ cityIdæŸ¥è¯¢å¤©æ°” ä¸­çš„æ˜¯å¦ä¸€ç§è¯»å–æ–¹æ³•)ç›®å½•ä¸‹æ–‡ä»¶(2016-06-12)ä¾‹å¦‚: ç®€ä¹¦:http://www.jianshu.com/p/b87fee2f7a23 1234567InputStreamReader isr = new InputStreamReader(this.getClass() .getClassLoader() .getResourceAsStream(\"assets/\" + \"student.json\") ,\"utf-8\" );//ä»assetsè·å–jsonæ–‡ä»¶BufferedReader bfr = new BufferedReader(isr); cityIdæŸ¥è¯¢å¤©æ°”(2016-6-20 19:00:35) citycode.txtæ˜¯cityidæ–‡ä»¶(æ•°æ® 101190101=å—äº¬ ) ä¸‹é¢ä»£ç æ˜¯ é€è¡Œæ ¹æ®â€=â€åˆ†éš”ç¬¦,è¯»å†™åŸå¸‚idè·Ÿname,å¯ä»¥å†™åˆ°æ–‡ä»¶ä¸­ 123456789101112131415161718192021222324252627/** * æ ¹æ®åŸå¸‚åæ‰¾åˆ°å¯¹åº”çš„idå¦‚æœæ²¡æœ‰åˆ™è¯´æ˜åœ¨ä¸­å›½æ°”è±¡ç½‘ä¸å­˜åœ¨è¯¥åŸå¸‚ * * @param cityname * @return */ private String findId(String cityname) &#123; if (null == cityname || \"\".equals(cityname)) return null; try &#123; InputStreamReader inputReader = new InputStreamReader(getResources().getAssets().open(\"citycode.txt\")); BufferedReader bufReader = new BufferedReader(inputReader); String line = \"\"; String[] str = new String[2]; while ((line = bufReader.readLine()) != null) &#123; str = line.split(\"=\"); if (str.length == 2 &amp;&amp; null != str[1] &amp;&amp; !\"\".equals(str[1]) &amp;&amp; cityname.equals(str[1])) &#123; //è¿”å›å¯¹åº”cityç¼–å· return str[0]; &#125; &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); return null; &#125; return null; &#125; åŒå‡»ä¸¤æ¬¡è¿”å›é”®é€€å‡º (2ç§’å†…é€€å‡º)1234567891011121314151617181920212223private long exitTime = 0; // è¿”å›é”® é€€å‡ºæ—¶é—´ /** * è¿”å›é”® (2ç§’å†…é€€å‡º) * @param keyCode è¿”å›é”®code * @param event keyEvent * @return true */ @Override public boolean onKeyDown(int keyCode, KeyEvent event) &#123; if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; event.getAction() == KeyEvent.ACTION_DOWN) &#123; //ä¸¤ç§’ä¹‹å†…æŒ‰è¿”å›é”®å°±ä¼šé€€å‡º if (System.currentTimeMillis() - exitTime &gt; 2000) &#123; Toast.makeText(this, \"å†æŒ‰ä¸€æ¬¡é€€å‡º\", Toast.LENGTH_SHORT).show(); exitTime = System.currentTimeMillis(); &#125; else &#123; finish(); &#125; return true; // ä¸è¦å¿˜è®° return true &#125; return super.onKeyDown(keyCode, event);&#125; ä¸‹é¢æ˜¯ç‚¹å‡»è¿”å›é”® å…³é—­DrawerLayoutç­‰ç­‰12345678910111213141516171819202122232425262728293031323334/** * ç³»ç»Ÿè¿”å›é”®ç›‘å¬,äº‹ä»¶å¤„ç† * @return */ @Override public void onBackPressed() &#123; HomeViewPagerFragment homeFragment = null; boolean isDrawerOpen = false; boolean isPopFragment = false; String currentTabTag = mTabHost.getCurrentTabTag(); String homeName = getResources().getString(MainTab.HOME.getResName()); String bundleName = getResources().getString(MainTab.BUNDLES.getResName()); String billName = getResources().getString(MainTab.BILL.getResName()); if (currentTabTag.equals(bundleName)) &#123; isPopFragment = ((BaseContainerFragment)getSupportFragmentManager().findFragmentByTag(bundleName)).popFragment(); &#125; else if (currentTabTag.equals(billName)) &#123; isPopFragment = ((BaseContainerFragment)getSupportFragmentManager().findFragmentByTag(billName)).popFragment(); &#125; if(currentTabTag.equals(homeName))&#123; homeFragment= ((HomeViewPagerFragment)getSupportFragmentManager().findFragmentByTag(homeName)); isDrawerOpen = homeFragment.isDrawerOpen(); &#125; if(isDrawerOpen)&#123; homeFragment.closeDrawer(); &#125;else if(!isPopFragment)&#123; finish(); &#125;&#125; RadioButton ç‚¹å‡»äº‹ä»¶ (2016-06-08) å€ŸåŠ©ButterKnifeå¿«é€Ÿå®ç° 123456@OnCheckedChanged(&#123;R.id.searchRb1, R.id.searchRb2, R.id.searchRb3, R.id.searchRb4&#125;)void onTagChecked(RadioButton searchRb, boolean checked) &#123; if (checked) &#123; //å®ç°ä»£ç ... &#125;&#125; å¤œç¥ æ¨¡æ‹Ÿå™¨è¿æ¥(2016-6-22 13:44:46)æµç•…åº¦æ æ†çš„!1adb connect 127.0.0.1:62001 FiddleræŠ“åŒ…è®¾ç½®: å…·ä½“å‚è€ƒğŸ‘‰trineaåˆ†äº«1)2)(å®éªŒè¯æ˜å·²ç»ä¸éœ€è¦è¿™ä¸€æ­¥äº†,åªè¦è®¾ç½®å¥½ä»£ç†æœåŠ¡å™¨ä¸»æœºåå°±è¡Œäº†!! add 2016-8-16 16:09:01) æ¨¡æ‹Ÿå™¨æµè§ˆå™¨æ‰“å¼€: http://10.45.16.34:8888/(10.45.16.34å°±æ˜¯æœ¬æœºåœ°å€, æ‰€æœ‰æ¨¡æ‹Ÿå™¨éƒ½æ˜¯è¿™ä¹ˆè®¿é—®) æµ·é©¬ç© æ¨¡æ‹Ÿå™¨è¿æ¥(2016-06-14) http://www.jianshu.com/p/c2e6a4e7e9c4/comments/2742091#comment-27420911adb connect 127.0.0.1:26944 æŠ“åŒ…è®¾ç½®: ä»£ç†æœåŠ¡å™¨ä¸»æœºå: 10.0.3.2 (genymotionä¹Ÿæ˜¯è¿™ä¸ª), å¤œç¥çš„æ˜¯ç”µè„‘ip appå¯åŠ¨é¡µé¢(AlphaAnimationæ¸å˜) (2016-06-14)æ•ˆæœå›¾: å®Œæ•´ä»£ç å¦‚ä¸‹â†“â†“â†“â†“â†“â†“ 1234567891011121314151617181920212223242526272829303132333435public class StartActivity extends AppCompatActivity &#123; @Override protected void onCreate(@Nullable Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); final View view = View.inflate(this, R.layout.activity_start, null); setContentView(view); // æ¸å˜å±•ç¤ºå¯åŠ¨å± , 0.0-1.0 é€æ˜åˆ°ä¸é€æ˜ AlphaAnimation aa = new AlphaAnimation(0.1f, 1.0f); aa.setDuration(3000); view.startAnimation(aa); aa.setAnimationListener(new Animation.AnimationListener() &#123; @Override public void onAnimationEnd(Animation animation) &#123; // åŠ¨ç”»ç»“æŸè·³è½¬ç™»é™†ç•Œé¢ redirectTo(); &#125; @Override public void onAnimationRepeat(Animation animation) &#123; &#125; @Override public void onAnimationStart(Animation animation) &#123; &#125; &#125;); &#125; private void redirectTo() &#123; Intent intent = new Intent(this, LoginActivity.class); startActivity(intent); finish(); &#125;&#125; adapterä¸­setTag()çš„ä½¿ç”¨å¯ä»¥ç”¨æ¥å½“å‰æ–¹æ³•ä¸­ä¼ æ•°æ® 1234567891011121314151617181920@Override public View getView(final int position, View convertView, ViewGroup parent) &#123; final ViewHolder holder; if (convertView == null) &#123; holder = new ViewHolder(); convertView = LayoutInflater.from(context).inflate(R.layout.temp, parent, false); holder.nameTv = (TextView) convertView.findViewById(R.id.name); holder.group = (RadioGroup) convertView.findViewById(R.id.group); convertView.setTag(holder); &#125; else &#123; holder = (ViewHolder) convertView.getTag(); &#125; HashMap&lt;String, Object&gt; map = getItem(position); map.put(\"position\", position);---&gt; holder.group.setTag(map); // é€šè¿‡groupè§†å›¾è®¾ç½®setTag(map) ... ... ...---&gt; HashMap&lt;String, Object&gt; radioMap = (HashMap&lt;String, Object&gt;) group.getTag(); // getTag() GsonæŠŠJsonArrayçš„å­—ç¬¦ä¸²è½¬æˆbeanå®ä½“ç±»123456String offerItemGroupStr;JsonArray array = (JsonArray) new JsonParser().parse(offerItemGroupStr); List&lt;OfferItemGroup&gt; offerDepGroupsList = new Gson().fromJson(array.toString(), new TypeToken&lt;List&lt;OfferItemGroup&gt;&gt;() &#123; &#125;.getType()); åœ†å½¢è¿›åº¦æ¡(2016-7-1 13:20:24) weekå¼€æºå•¦!! alibaba-weekå…¥å£ ä¿å­˜å›¾ç‰‡åˆ°æœ¬åœ°æ–‡ä»¶(2016-7-11 12:35:51)å‚è€ƒ: Mumuxiä»£ç  123456789101112131415161718192021222324252627282930313233343536373839/** * Created by allen on 2016/6/19. * * Here reference is https://github.com/gaolonglong/GankGirl/blob/master/app/src/main/java/com/app/gaolonglong/gankgirl/util/ImageUtil.java */public class ImgSaveUtil &#123; public static Uri saveImage(Context context, String url, Bitmap bitmap, ImageView imageView, String tag)&#123; //å¦¹çº¸ä¿å­˜è·¯å¾„ String imgDir = Environment.getExternalStorageDirectory().getPath() + \"/GankGirl\"; //å›¾ç‰‡åç§°å¤„ç† String[] fileNameArr = url.substring(url.lastIndexOf(\"/\") + 1).split(\"\\\\.\"); String fileName = fileNameArr[0] + \".png\"; //åˆ›å»ºæ–‡ä»¶è·¯å¾„ File fileDir = new File(imgDir); if (!fileDir.exists())&#123; fileDir.mkdir(); &#125; //åˆ›å»ºæ–‡ä»¶ File imageFile = new File(fileDir,fileName); try &#123; FileOutputStream fos = new FileOutputStream(imageFile); boolean compress = bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos); Snackbar.make(imageView,\"å¦¹çº¸å·²ç»èººåœ¨ä½ çš„å›¾åº“é‡Œå•¦.. ( ï¼Ï‰ï¼œ)\", Snackbar.LENGTH_SHORT).show(); fos.flush(); fos.close(); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; Uri uri = Uri.fromFile(imageFile); //å‘é€å¹¿æ’­ï¼Œé€šçŸ¥å›¾åº“æ›´æ–° context.sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE,uri)); return uri; &#125;&#125; æ ·å¼ç»Ÿä¸€è®¾ç½® (2016-7-12 15:06:40) ä¾‹å¦‚: 123456789101112131415&lt;!--å…¨è¾¹æ¡† è¾“å…¥æ¡†æ ·å¼--&gt; &lt;style name=\"edittext_style\"&gt; &lt;item name=\"android:layout_width\"&gt;match_parent&lt;/item&gt; &lt;item name=\"android:layout_height\"&gt;wrap_content&lt;/item&gt; &lt;item name=\"android:layout_marginLeft\"&gt;@dimen/space_20&lt;/item&gt; &lt;item name=\"android:layout_marginRight\"&gt;@dimen/space_20&lt;/item&gt; &lt;item name=\"android:layout_marginTop\"&gt;@dimen/space_10&lt;/item&gt; &lt;item name=\"android:background\"&gt;@drawable/input_bg&lt;/item&gt; &lt;item name=\"android:singleLine\"&gt;true&lt;/item&gt; &lt;/style&gt; &lt;!--åªæœ‰åº•è¾¹è¾¹æ¡† è¾“å…¥æ¡†æ ·å¼--&gt; &lt;style name=\"edittext_style1\" parent=\"edittext_style\"&gt; &lt;item name=\"android:background\"&gt;?attr/editTextBackground&lt;/item&gt; &lt;/style&gt; touchäº‹ä»¶ç›‘å¬ä¹‹tabé¡µå†æ¬¡ç‚¹å‡»åˆ·æ–°æ•°æ® (2016-7-15 14:23:06) å…·ä½“å¯ä»¥çœ‹ å¼€æºä¸­å›½æºç : MainActivityä¸­ 1234567891011121314151617181920@Override public boolean onTouch(View v, MotionEvent event) &#123; super.onTouchEvent(event); boolean consumed = false; // use getTabHost().getCurrentTabView to decide if the current tab is // touched again if (event.getAction() == MotionEvent.ACTION_DOWN &amp;&amp; v.equals(mTabHost.getCurrentTabView())) &#123; // use getTabHost().getCurrentView() to get a handle to the view // which is displayed in the tab - and to get this views context Fragment currentFragment = getCurrentFragment(); if (currentFragment != null &amp;&amp; currentFragment instanceof OnTabReselectListener) &#123; OnTabReselectListener listener = (OnTabReselectListener) currentFragment; listener.onTabReselect(); consumed = true; &#125; &#125; return consumed; &#125; ProgressDialogä½¿ç”¨:ä¾‹å¦‚ç™»å½•ç­‰å¾…æ—¶ (2016-7-15 14:55:24)ä¸‹é¢çš„ä»£ç å¯ä»¥å‚è€ƒ Afrimaxæˆ–è€…MPTçš„[BaseActivity](https://coding.net/u/yangxiaoge/p/AfrimaxMI/git/blob/master/app/src/main/java/com/ztesoft/zsmart/datamall/app/base/BaseActivity.java) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// =======================DIALOG_CONTROL_INTERFACE START======================== // dialog æ˜¯å¦å¤„äºå¯è§çŠ¶æ€ private boolean _isVisible; private ProgressDialog _waitDialog; @Override public void hideWaitDialog() &#123; if (_isVisible &amp;&amp; _waitDialog != null) &#123; try &#123; _waitDialog.dismiss(); _waitDialog = null; &#125; catch (Exception ex) &#123; ex.printStackTrace(); &#125; &#125; &#125; @Override public ProgressDialog showWaitDialog() &#123; return showWaitDialog(R.string.loading); &#125; @Override public ProgressDialog showWaitDialog(int resid) &#123; return showWaitDialog(getString(resid)); &#125; /** * æ˜¾ç¤ºè€—æ—¶æ“ä½œç­‰å¾…å¼¹å‡ºæ¡† * * @param message æç¤ºæ¶ˆæ¯ * @return ProgressDialog */ @Override public ProgressDialog showWaitDialog(String message) &#123; if (_isVisible) &#123; if (_waitDialog == null) &#123; _waitDialog = DialogHelp.getWaitDialog(this, message); &#125; else if (_waitDialog != null) &#123; _waitDialog.setMessage(message); &#125; _waitDialog.show(); return _waitDialog; &#125; return null; &#125; // =======================DIALOG_CONTROL_INTERFACE END========================== è¿œç¨‹è°ƒè¯•Appæˆ–è€…WiFiè°ƒè¯•(2016-7-19 19:34:09) http://www.jianshu.com/p/e9c243b5060b ScrollViewåˆå§‹åŒ–æ•°æ®æ—¶ä¸ç½®é¡¶(2016-7-20 16:36:01) ScrollViewå¸ƒå±€è®¾ç½®ä¸€ä¸ªå±æ€§å³å¯!å¦‚æœä¸è®¾ç½®,é‚£ä¹ˆé»˜è®¤æ˜¾ç¤ºä½ç½®åœ¨ListView(ç­‰ç­‰..)åº•éƒ¨å…·ä½“å¯ä»¥å‚è€ƒ: ScrollViewåµŒå¥—ListViewä¸ç½®é¡¶æ˜¾ç¤º1mScrollView.smoothScrollTo(0, 0); ä½¿ç”¨BroadCastå‘é€å¹¿æ’­,é€šçŸ¥homeé¡µåˆ·æ–°æ•°æ®(2016-7-29 13:05:32)1234567891011121314151617181920212223242526272829 //----------------å‘é€å¹¿æ’­ , intentä¼ å€¼--------------// private void sendRefreshAccountBroadcast() &#123; Intent intent = new Intent(Constants.REFRESH_HOME_ACCOUNT_LIST); intent.putExtra(Constants.REFRESH_HOME_ACCOUNT_LIST, true); getBaseContext().sendBroadcast(intent); &#125; //----------------------æ¥æ”¶å¹¿æ’­ start------------------// private final BroadcastReceiver mReceiver = new BroadcastReceiver() &#123; @Override public void onReceive(Context context, Intent intent) &#123; if (intent.getBooleanExtra(Constants.REFRESH_HOME_ACCOUNT_LIST, false)) &#123; // åˆ·æ–°æ•°æ® initExpendListViewData(); &#125; &#125; &#125;; @Overridepublic void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); // æ³¨å†Œå¹¿æ’­ç›‘å¬ IntentFilter filter = new IntentFilter(Constants.REFRESH_HOME_ACCOUNT_LIST); getActivity().registerReceiver(mReceiver, filter); &#125;//-------------------æ¥æ”¶å¹¿æ’­ end------------------------// EditTextæ•°æ®ç›‘å¬!ç™»å½•æ¨¡å—,åŠ¨æ€æœç´¢æ¨¡å—ç­‰(2016-7-30 14:29:58)12345678910111213141516171819202122232425262728293031323334353637etUsertel.addTextChangedListener(new TextChange()); etPassword.addTextChangedListener(new TextChange());// EditTextç›‘å¬å™¨ class TextChange implements TextWatcher &#123; @Override public void afterTextChanged(Editable arg0) &#123; &#125; @Override public void beforeTextChanged(CharSequence arg0, int arg1, int arg2, int arg3) &#123; &#125; @Override public void onTextChanged(CharSequence cs, int start, int before, int count) &#123; boolean Sign2 = et_usertel.getText().length() &gt; 0; boolean Sign3 = et_password.getText().length() &gt; 0; // è®¾ç½®ç™»å½•æŒ‰é’®çš„é¢œè‰²,ä»¥åŠæ˜¯å¦å¯ç‚¹å‡»! if (Sign2 &amp; Sign3) &#123; btnLogin.setTextColor(0xFFFFFFFF); btnLogin.setEnabled(true); &#125; // åœ¨layoutæ–‡ä»¶ä¸­ï¼Œå¯¹Buttonçš„textå±æ€§åº”é¢„å…ˆè®¾ç½®é»˜è®¤å€¼ï¼Œå¦åˆ™åˆšæ‰“å¼€ç¨‹åºçš„æ—¶å€™Buttonæ˜¯æ— æ˜¾ç¤ºçš„ else &#123; btnLogin.setTextColor(0xFFD0EFC6); btnLogin.setEnabled(false); &#125; &#125; &#125; ASå¿«æ·é”®(2016-8-2 18:58:02)","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"}]},{"title":"Birtçº§è”å‚æ•°è®¾ç½®","slug":"Birtçº§è”å‚æ•°è®¾ç½®","date":"2015-09-06T08:05:45.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2015/09/06/Birtçº§è”å‚æ•°è®¾ç½®/","link":"","permalink":"https://yangxiaoge.github.io/2015/09/06/Birtçº§è”å‚æ•°è®¾ç½®/","excerpt":"çº§è”æŸ¥è¯¢æ­¥éª¤: 1, åˆ›å»ºçº§è”å‚æ•° 2, è®¾ç½®ç›¸å…³è”çš„å‚æ•°","text":"çº§è”æŸ¥è¯¢æ­¥éª¤: 1, åˆ›å»ºçº§è”å‚æ•° 2, è®¾ç½®ç›¸å…³è”çš„å‚æ•° 3, æ¯ä¸€ä¸ªå‚æ•°éƒ½è¦å•ç‹¬è®¾ç½® display type 4, æ•°æ®é›†è®¾è®¡ __è¯¦æƒ…æœ‰é“äº‘ç¬”è®°","categories":[{"name":"Birt","slug":"Birt","permalink":"https://yangxiaoge.github.io/categories/Birt/"}],"tags":[{"name":"Birt","slug":"Birt","permalink":"https://yangxiaoge.github.io/tags/Birt/"}]},{"title":"Birtå¤šé€‰å‚æ•°è®¾ç½®","slug":"Birtå¤šé€‰å‚æ•°è®¾ç½®","date":"2015-09-06T07:38:39.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2015/09/06/Birtå¤šé€‰å‚æ•°è®¾ç½®/","link":"","permalink":"https://yangxiaoge.github.io/2015/09/06/Birtå¤šé€‰å‚æ•°è®¾ç½®/","excerpt":"ç½‘ä¸Šç›¸å…³çš„èµ„æ–™å°‘ä¹‹åˆå°‘,æŸåº¦æœçš„åšå®¢æ›´æ˜¯ä¸èƒ½ä¿¡(äº’ç›¸æŠ„)!ä¸æ‰¯äº†,ç›´æ¥çœ‹å¤šé€‰å‚æ•°è®¾ç½® æ•ˆæœå›¾: å…·ä½“å®ç°æ­¥éª¤:","text":"ç½‘ä¸Šç›¸å…³çš„èµ„æ–™å°‘ä¹‹åˆå°‘,æŸåº¦æœçš„åšå®¢æ›´æ˜¯ä¸èƒ½ä¿¡(äº’ç›¸æŠ„)!ä¸æ‰¯äº†,ç›´æ¥çœ‹å¤šé€‰å‚æ•°è®¾ç½® æ•ˆæœå›¾: å…·ä½“å®ç°æ­¥éª¤: 1. å‹¾é€‰ Allow Multiple Values å¹¶è®¾ç½®é»˜è®¤å€¼ 2. è„šæœ¬ä¸­æ³¨æ„è¦åˆ¤æ–­å–å€¼( toString() ä¹‹å)æ›´å¤šBirtæŠ¥è¡¨çŸ¥è¯†ç‚¹è¯¦è§ä¸ªäººç¬”è®°: æœ‰é“äº‘ç¬”è®°Birtæ€»ç»“æ–‡æ¡£","categories":[{"name":"Birt","slug":"Birt","permalink":"https://yangxiaoge.github.io/categories/Birt/"}],"tags":[{"name":"Birt","slug":"Birt","permalink":"https://yangxiaoge.github.io/tags/Birt/"}]},{"title":"Gitä½¿ç”¨","slug":"Gitä½¿ç”¨","date":"2015-06-24T05:12:52.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2015/06/24/Gitä½¿ç”¨/","link":"","permalink":"https://yangxiaoge.github.io/2015/06/24/Gitä½¿ç”¨/","excerpt":"gitå›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬æ–¹æ³•(2016-01-08 14:55:44)1234git reset --hard &lt;commit IDå·&gt;ä¾‹å¦‚: git reset --hard dc972ecç‰ˆæœ¬å·æŸ¥çœ‹æ–¹æ³•: æ‰“å¼€githubé¡¹ç›®ï¼Œç‚¹å‡»commitså°±èƒ½çœ‹åˆ°æäº¤è®°å½•ä»¥åŠç‰ˆæœ¬å·","text":"gitå›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬æ–¹æ³•(2016-01-08 14:55:44)1234git reset --hard &lt;commit IDå·&gt;ä¾‹å¦‚: git reset --hard dc972ecç‰ˆæœ¬å·æŸ¥çœ‹æ–¹æ³•: æ‰“å¼€githubé¡¹ç›®ï¼Œç‚¹å‡»commitså°±èƒ½çœ‹åˆ°æäº¤è®°å½•ä»¥åŠç‰ˆæœ¬å· æäº¤æœ¬åœ°é¡¹ç›®(æœªå—æ§)åˆ°è¿œç¨‹Gitä»“åº“12345git initgit add .git commit -m \"first commit\"git remote add origin https://git.coding.net/yangxiaoge/Gank.gitgit push -u origin master git add .: addåé¢æœ‰ç©ºæ ¼","categories":[{"name":"Git","slug":"Git","permalink":"https://yangxiaoge.github.io/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://yangxiaoge.github.io/tags/Git/"}]},{"title":"MumuXiå®‰å“ç‰ˆå¼€å‘","slug":"MumuXiå®‰å“ç‰ˆå¼€å‘","date":"2015-05-23T03:37:37.000Z","updated":"2017-09-20T01:41:45.600Z","comments":true,"path":"2015/05/23/MumuXiå®‰å“ç‰ˆå¼€å‘/","link":"","permalink":"https://yangxiaoge.github.io/2015/05/23/MumuXiå®‰å“ç‰ˆå¼€å‘/","excerpt":"è¿™ä¹Ÿæ˜¯è‡ªå·±ç¬¬ä¸€ä¸ªç®—æ˜¯æ­£å¼çš„ç»ƒæ‰‹Appé¡¹ç›® MumuXi ç›®çš„: ç£ä¿ƒè‡ªå·±ä¸æ–­ç§¯ç´¯çŸ¥è¯†ç»éªŒã€‚ä¸‹é¢è¿›å…¥æ­£æ–‡ å‡†å¤‡å·¥ä½œ Android Studio Gank Api (gank.io/api ç”± ä»£ç å®¶ç»´æŠ¤çš„å¼€æºApi) Nå¤šä¾èµ–jaråŒ… å­¦ä¹ CaMnter/EasyGankå®Œæˆçš„é¡¹ç›® å¼€å‘å‡†å¤‡ æ¡†æ¶æ­å»º ç•Œé¢åŸå‹è®¾è®¡ ä¸»è¦åŠŸèƒ½","text":"è¿™ä¹Ÿæ˜¯è‡ªå·±ç¬¬ä¸€ä¸ªç®—æ˜¯æ­£å¼çš„ç»ƒæ‰‹Appé¡¹ç›® MumuXi ç›®çš„: ç£ä¿ƒè‡ªå·±ä¸æ–­ç§¯ç´¯çŸ¥è¯†ç»éªŒã€‚ä¸‹é¢è¿›å…¥æ­£æ–‡ å‡†å¤‡å·¥ä½œ Android Studio Gank Api (gank.io/api ç”± ä»£ç å®¶ç»´æŠ¤çš„å¼€æºApi) Nå¤šä¾èµ–jaråŒ… å­¦ä¹ CaMnter/EasyGankå®Œæˆçš„é¡¹ç›® å¼€å‘å‡†å¤‡ æ¡†æ¶æ­å»º ç•Œé¢åŸå‹è®¾è®¡ ä¸»è¦åŠŸèƒ½ å®ŒæˆåŠŸèƒ½: çŸ¥ä¹ä¸“æ -ä½œè€…æ–‡ç« -æ–‡ç« detail å¦¹å­ç¦åˆ© about_me-æ¢å¤´åƒ about_app-appå¼€å‘ç›®çš„,ä»¥åŠä½¿ç”¨çš„æ¡†æ¶ for_what-æ˜¯ç›®æ ‡åŠŸèƒ½(æœ‰çš„è¿˜æ²¡å®ç°) æ‰€æœ‰çš„loadingåŠ¨ç”»ç”¨çš„æ˜¯å¼€æºæ¡†æ¶- å¸ƒå±€æ”¾åœ¨äº†EasyRecyclerViewçš„ layout_empty ,layout_progress,errorä¸­,å…·ä½“æ ¹æ®å®é™…æ¥æ”¾ ä¸Šæ‹‰,ä¸‹æ‹‰åˆ·æ–°ç”¨çš„å¼€æºæ¡†æ¶EasyRecyclerView-ä¾§æ»‘DraweråŠŸèƒ½è¿˜æ²¡åŠ ,åé¢è€ƒè™‘åŠ äº›å…¶ä»–åŠŸèƒ½~~~ é¡¹ç›®è¯¦ç»† æ³¨è§£ ä»¥åŠåŠŸèƒ½åœ¨githubæäº¤çš„messageå’Œä»£ç æ³¨è§£ä¸­ ç»è¿‡ä¸€ä¸ªæ˜ŸæœŸçš„æŠ˜è…¾,ç»ˆäºå®Œæˆäº†ç¬¬ä¸€ä¸ªç‰ˆæœ¬,å¹¶ä¸”è¯•ç€ä¸Šæ¶äº†åº”ç”¨å•†åŸ! O(âˆ©_âˆ©)O~~ ä¸‹è½½ add google analyticsè°·æ­Œåˆ†æ ( 2016-9-5 11:58:26 ) google-services.jsonæ–‡ä»¶ä¸‹è½½ å®˜æ–¹é›†æˆæ–‡æ¡£: https://developers.google.com/analytics/devguides/collection/android/v4/app?configured=true åˆ†æç”¨æˆ·ä½¿ç”¨æƒ…å†µçš„å¹³å°: https://analytics.google.com/analytics/web/#realtime/rt-app-overview/a83624565w124744507p129062318/ è¯´æ˜ä¸‹:(add in 2016-9-28 14:08:13 ) ä»¥ä¸‹è¯´æ˜æ‘˜è‡ªå°ç±³å¼€æ”¾å¹³å°Googleä¸ºAPKå®šä¹‰äº†ä¸¤ä¸ªå±æ€§ï¼šVersionCodeå’ŒVersionNameï¼Œä»–ä»¬æœ‰ä¸åŒçš„ç”¨é€”ã€‚VersionCodeï¼šå¯¹æ¶ˆè´¹è€…ä¸å¯è§ï¼Œä»…ç”¨äºåº”ç”¨å¸‚åœºã€ç¨‹åºå†…éƒ¨è¯†åˆ«ç‰ˆæœ¬ï¼Œåˆ¤æ–­æ–°æ—§ç­‰ç”¨é€”ã€‚VersionNameï¼šå±•ç¤ºç»™æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…ä¼šé€šè¿‡å®ƒè®¤çŸ¥è‡ªå·±å®‰è£…çš„ç‰ˆæœ¬ã€‚","categories":[{"name":"APPå¼€å‘è®°","slug":"APPå¼€å‘è®°","permalink":"https://yangxiaoge.github.io/categories/APPå¼€å‘è®°/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"Gank","slug":"Gank","permalink":"https://yangxiaoge.github.io/tags/Gank/"}]},{"title":"Android Studioå¸¸ç”¨çš„å¼•ç”¨jaræ•´ç† for è‡ªç”¨","slug":"Android-studioå¸¸ç”¨çš„å¼•ç”¨jaræ•´ç†-for-è‡ªç”¨","date":"2015-05-10T07:29:50.000Z","updated":"2017-09-20T01:41:45.592Z","comments":true,"path":"2015/05/10/Android-studioå¸¸ç”¨çš„å¼•ç”¨jaræ•´ç†-for-è‡ªç”¨/","link":"","permalink":"https://yangxiaoge.github.io/2015/05/10/Android-studioå¸¸ç”¨çš„å¼•ç”¨jaræ•´ç†-for-è‡ªç”¨/","excerpt":"1. orhanobut/logger123456789101112allprojects &#123; repositories &#123; jcenter() // é¡¹ç›®gradleä¸­æ·»åŠ  jitpackä»“åº“ maven &#123; url \"https://jitpack.io\" &#125; &#125;&#125;dependencies &#123; // moudle/gradleä¸­æ·»åŠ  compile 'com.github.orhanobut:logger:1.12'&#125;","text":"1. orhanobut/logger123456789101112allprojects &#123; repositories &#123; jcenter() // é¡¹ç›®gradleä¸­æ·»åŠ  jitpackä»“åº“ maven &#123; url \"https://jitpack.io\" &#125; &#125;&#125;dependencies &#123; // moudle/gradleä¸­æ·»åŠ  compile 'com.github.orhanobut:logger:1.12'&#125; æ³¨æ„: Logger.init(YOUR_TAG)ä¸ºåˆå§‹åŒ–å…¥å£ 2. orhanobut/dialogplus1compile 'com.orhanobut:dialogplus:1.11@aar' ä¾‹å¦‚: 123456789101112131415161718 private DialogPlus generateDialog(String tag) &#123; View contentView = this.getActivity().getLayoutInflater().inflate(R.layout.bundle_filelter_pop, null); bundleFilterList = (ListView) contentView.findViewById(R.id.bundle_filter_list); cancelBundleFilterBtn = (TextView) contentView.findViewById(R.id.bundle_selfilter_cancel_btn); if (catalogs != null &amp;&amp; !catalogs.isEmpty()) &#123; ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this.getActivity(), R.layout.simple_list_item_1_center, catalogs); bundleFilterList.setAdapter(adapter); &#125; DialogPlus dialog = DialogPlus.newDialog(this.getActivity()) .setContentHolder(new ViewHolder(contentView)) .create(); return dialog;&#125; æ•ˆæœå›¾å¦‚ä¸‹: 3. æ‡’äººæ¡†æ¶ 1compile 'com.jakewharton:butterknife:7.0.0' 4. httpå°è£…-hongyang1compile 'com.zhy:okhttputils:2.4.1' 5. Gson1compile 'com.google.code.gson:gson:2.2.4'","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android Studio","slug":"Android-Studio","permalink":"https://yangxiaoge.github.io/tags/Android-Studio/"},{"name":"Gradle","slug":"Gradle","permalink":"https://yangxiaoge.github.io/tags/Gradle/"}]},{"title":"Androidæ²‰æµ¸å¼çŠ¶æ€æ ","slug":"Androidæ²‰æµ¸å¼çŠ¶æ€æ -md","date":"2015-05-03T01:43:30.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2015/05/03/Androidæ²‰æµ¸å¼çŠ¶æ€æ -md/","link":"","permalink":"https://yangxiaoge.github.io/2015/05/03/Androidæ²‰æµ¸å¼çŠ¶æ€æ -md/","excerpt":"GitHubDemo æºç  1. é¦–å…ˆçœ‹ä¸‹çŠ¶æ€æ ä¸å¯¼èˆªæ ç»“æ„å›¾ ä¸»è¦è®¾ç½®ä»¥ä¸‹ä¸¤ä¸ªé¢œè‰²ä¸€è‡´ colorPrimary colorPrimaryDark","text":"GitHubDemo æºç  1. é¦–å…ˆçœ‹ä¸‹çŠ¶æ€æ ä¸å¯¼èˆªæ ç»“æ„å›¾ ä¸»è¦è®¾ç½®ä»¥ä¸‹ä¸¤ä¸ªé¢œè‰²ä¸€è‡´ colorPrimary colorPrimaryDark 2. å¼•ç”¨åº“ SystemBarTint, å¹¶åœ¨module / build.gradleé‡Œæ·»åŠ ä»¥ä¸‹ä¾èµ–: compile â€˜com.readystatesoftware.systembartint:systembartint:1.0.3â€™ 3. å†™ä¸€ä¸ªå…¬å…±çš„BaseActivity, åªè¦ç»§æ‰¿BaseActivityå³å¯å®ç°æ²‰æµ¸å¼æ•ˆæœ1234567891011121314151617181920212223242526272829303132333435363738package androidautolayout.yjn.com.statusbar;import android.annotation.TargetApi;import android.os.Build;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.view.Window;import android.view.WindowManager;import com.readystatesoftware.systembartint.SystemBarTintManager;public class BaseActivity extends AppCompatActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123; setTranslucentStatus(true); &#125; SystemBarTintManager tintManager = new SystemBarTintManager(this); tintManager.setStatusBarTintEnabled(true); tintManager.setStatusBarTintResource(R.color.colorPrimary); &#125; @TargetApi(Build.VERSION_CODES.KITKAT) private void setTranslucentStatus(boolean on) &#123; Window win = getWindow(); WindowManager.LayoutParams winParams = win.getAttributes(); final int bits = WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS; if (on) &#123; winParams.flags |= bits; &#125; else &#123; winParams.flags &amp;= ~bits; &#125; win.setAttributes(winParams); &#125;&#125; Avtivityç›´æ¥ extends BaseActivity 123456789public class MainActivity extends BaseActivity &#123; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); &#125;&#125; 4.æ³¨å†Œæ¸…å•è®¾ç½® AndroidManifest.xml","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"}]},{"title":"é…·ç‚«çš„android dialogå¼¹å‡ºæ¡†","slug":"é…·ç‚«çš„android-dialogå¼¹å‡ºæ¡†","date":"2015-04-29T05:52:49.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2015/04/29/é…·ç‚«çš„android-dialogå¼¹å‡ºæ¡†/","link":"","permalink":"https://yangxiaoge.github.io/2015/04/29/é…·ç‚«çš„android-dialogå¼¹å‡ºæ¡†/","excerpt":"åŸºäºgithubå¼€æºæ¡†æ¶åŸºç¡€ä¸Šè¿ç”¨åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­,æ•ˆæœå¦‚ä¸‹:","text":"åŸºäºgithubå¼€æºæ¡†æ¶åŸºç¡€ä¸Šè¿ç”¨åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­,æ•ˆæœå¦‚ä¸‹:æœ¬æ¼”ç¤ºé¡¹ç›® åŸºäºAndroid Studioå¼€å‘,åœ¨å¯¹åº”moudleä¸‹çš„gradle.buildä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–12compile 'com.nineoldandroids:library:2.4.0' compile 'com.github.sd6352051.niftydialogeffects:niftydialogeffects:1.0.0@aar' æ ¸å¿ƒä»£ç åˆ—å‡º: effectæ˜¯æ ·å¼(å…·ä½“è¦æ ¹æ®éœ€æ±‚æ¥) 12345678910111213141516171819String []type = &#123;\"Fadein\", \"Slideleft\", \"Slidetop\", \"SlideBottom\", \"Slideright\", \"Fall\", \"Newspager\", \"Fliph\", \"Flipv\", \"RotateBottom\", \"RotateLeft\", \"Slit\", \"Shake\", \"Sidefill\"&#125;; int i= (int) (type.length*Math.random()); Effectstype effect = null; switch (i)&#123; case 0:effect=Effectstype.Fadein;break; case 1:effect=Effectstype.Slideright;break; case 2:effect=Effectstype.Slideleft;break; case 3:effect=Effectstype.Slidetop;break; case 4:effect=Effectstype.SlideBottom;break; case 5:effect=Effectstype.Newspager;break; case 6:effect=Effectstype.Fall;break; case 7:effect=Effectstype.Sidefill;break; case 8:effect=Effectstype.Fliph;break; case 9:effect=Effectstype.Flipv;break; case 10:effect=Effectstype.RotateBottom;break; case 11:effect=Effectstype.RotateLeft;break; case 12:effect=Effectstype.Slit;break; case 13:effect=Effectstype.Shake;break; &#125; å¼¹å‡ºæ¡†æ ¸å¿ƒå¦‚ä¸‹ 12345678910111213141516171819202122232425262728293031323334353637final NiftyDialogBuilder dialogBuilder = NiftyDialogBuilder.getInstance(this); dialogBuilder // é‡ç‚¹è®¾ç½® .withEffect(effect) //è®¾ç½®å¯¹è¯æ¡†å¼¹å‡ºæ ·å¼ //.setCustomView(R.layout.custom, MainActivity.this) // è®¾ç½®è‡ªå®šä¹‰å¯¹è¯æ¡†çš„å¸ƒå±€ .withDuration(700) //åŠ¨ç”»æ˜¾ç°çš„æ—¶é—´ï¼ˆæ—¶é—´é•¿å°±ç±»ä¼¼æ”¾æ…¢åŠ¨ä½œï¼‰ // åŸºæœ¬è®¾ç½® .withTitle(\"Info\") //è®¾ç½®å¯¹è¯æ¡†æ ‡é¢˜ .withTitleColor(\"#FFFFFF\") //è®¾ç½®æ ‡é¢˜å­—ä½“é¢œè‰² .withDividerColor(\"#11000000\") //è®¾ç½®åˆ†éš”çº¿çš„é¢œè‰² .withMessage(\"Are you sure logout?\")//è®¾ç½®å¯¹è¯æ¡†æ˜¾ç¤ºå†…å®¹ .withMessageColor(\"#FFFFFFFF\") //è®¾ç½®æ¶ˆæ¯å­—ä½“çš„é¢œè‰² .withDialogColor(\"#FFE74C3C\") //è®¾ç½®å¯¹è¯æ¡†èƒŒæ™¯çš„é¢œè‰² //.withIcon(getResources().getDrawable(R.drawable.logo)) //è®¾ç½®æ ‡é¢˜çš„å›¾æ ‡ // è®¾ç½®æ˜¯å¦æ¨¡æ€ï¼Œé»˜è®¤falseï¼Œè¡¨ç¤ºæ¨¡æ€ï¼Œ //è¦æ±‚å¿…é¡»é‡‡å–è¡ŒåŠ¨æ‰èƒ½ç»§ç»­è¿›è¡Œå‰©ä¸‹çš„æ“ä½œ | isCancelable(true) .isCancelableOnTouchOutside(true) .withButton1Text(\"Yes\") //è®¾ç½®æŒ‰é’®1çš„æ–‡æœ¬ .withButton2Text(\"No\") //è®¾ç½®æŒ‰é’®2çš„æ–‡æœ¬ .setButton1Click(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Toast.makeText(v.getContext(), \"I am btnYes\", Toast.LENGTH_SHORT).show(); dialogBuilder.dismiss(); &#125; &#125;) .setButton2Click(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Toast.makeText(v.getContext(), \"I am btnNo\", Toast.LENGTH_SHORT).show(); dialogBuilder.dismiss(); &#125; &#125;) .show(); app demoä¸‹è½½åœ°å€: http://fir.im/NiftyDialog","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"Gradle","slug":"Gradle","permalink":"https://yangxiaoge.github.io/tags/Gradle/"}]},{"title":"è‡ªå®šä¹‰Button(å›¾æ–‡å±…ä¸­)","slug":"è‡ªå®šä¹‰Button(å›¾æ–‡å±…ä¸­)","date":"2015-04-29T05:39:56.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2015/04/29/è‡ªå®šä¹‰Button(å›¾æ–‡å±…ä¸­)/","link":"","permalink":"https://yangxiaoge.github.io/2015/04/29/è‡ªå®šä¹‰Button(å›¾æ–‡å±…ä¸­)/","excerpt":"é¦–å…ˆçœ‹ä¸‹ æ•ˆæœ æ ¸å¿ƒä»£ç :","text":"é¦–å…ˆçœ‹ä¸‹ æ•ˆæœ æ ¸å¿ƒä»£ç :12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849package com.ztesoft.zsmart.datamall.app.widget;import android.content.Context;import android.graphics.Canvas;import android.graphics.drawable.Drawable;import android.util.AttributeSet;import android.widget.Button;/** * Description: è‡ªå®šä¹‰Button(å›¾æ–‡å±…ä¸­) * Author: 0027008122 [yang.jianan@zte.com.cn] * Time: 2016/1/26 14:21 * Version: 1.0 */public class DrawableCenterButton extends Button&#123; public DrawableCenterButton(Context context) &#123; super(context); // TODO Auto-generated constructor stub &#125; public DrawableCenterButton(Context context, AttributeSet attrs, int defStyle) &#123; super(context, attrs, defStyle); &#125; public DrawableCenterButton(Context context, AttributeSet attrs) &#123; super(context, attrs); &#125; @Override protected void onDraw(Canvas canvas) &#123; Drawable[] drawables = getCompoundDrawables(); if (drawables != null) &#123; Drawable drawableLeft = drawables[2]; if (drawableLeft != null) &#123; float textWidth = getPaint().measureText(getText().toString()); int drawablePadding = getCompoundDrawablePadding(); int drawableWidth = 0; drawableWidth = drawableLeft.getIntrinsicWidth(); // 20 æ˜¯åç§»é‡,ä¸åŠ ,é•¿æ–‡æœ¬ä¼šæŠ˜è¡Œ float bodyWidth = textWidth + 20 + drawableWidth + drawablePadding; setPadding(0, 0, (int)(getWidth() - bodyWidth), 0); canvas.translate((getWidth() - bodyWidth) / 2, 0); &#125; &#125; super.onDraw(canvas); &#125;&#125;","categories":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/categories/Android/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://yangxiaoge.github.io/tags/Android/"},{"name":"è‡ªå®šä¹‰View","slug":"è‡ªå®šä¹‰View","permalink":"https://yangxiaoge.github.io/tags/è‡ªå®šä¹‰View/"}]},{"title":"æŠ€æœ¯æ–‡æ¡£æ”¶é›†","slug":"æŠ€æœ¯æ–‡æ¡£æ”¶é›†","date":"2015-04-15T04:39:08.000Z","updated":"2017-09-20T01:41:45.604Z","comments":true,"path":"2015/04/15/æŠ€æœ¯æ–‡æ¡£æ”¶é›†/","link":"","permalink":"https://yangxiaoge.github.io/2015/04/15/æŠ€æœ¯æ–‡æ¡£æ”¶é›†/","excerpt":"","text":"ç»™ Android å¼€å‘è€…çš„ RxJava è¯¦è§£ by æ‰”ç‰©çº¿ å°è±¡ç¬”è®° collectingâ€¦ å‹æƒ…é“¾æ¥ä¹Ÿæœ‰è®¸å¤šå¤§ç¥ ä½¿ç”¨CheckStyleæ£€æŸ¥ä»£ç (http://gudong.name/2016/04/07/checkstyle.html) Android åä¼é¢è¯•é¢˜åŠæ¶‰åŠçŸ¥è¯†ç‚¹æ•´ç† Androidè¿›é˜¶-å¹ç‰›ä¸“ç”¨_stormzhangå¤§ç¥æ‰€å†™,å“ˆå“ˆ Androidå®˜æ–¹åŸ¹è®­è¯¾ç¨‹ä¸­æ–‡ç‰ˆ","categories":[{"name":"æŠ€æœ¯æ–‡æ¡£","slug":"æŠ€æœ¯æ–‡æ¡£","permalink":"https://yangxiaoge.github.io/categories/æŠ€æœ¯æ–‡æ¡£/"}],"tags":[{"name":"æ–‡æ¡£","slug":"æ–‡æ¡£","permalink":"https://yangxiaoge.github.io/tags/æ–‡æ¡£/"}]},{"title":"Hexoä¸ªäººåšå®¢æ­å»º","slug":"Hexoä¸ªäººåšå®¢æ­å»º","date":"2015-04-12T02:39:08.000Z","updated":"2017-09-20T01:41:45.596Z","comments":true,"path":"2015/04/12/Hexoä¸ªäººåšå®¢æ­å»º/","link":"","permalink":"https://yangxiaoge.github.io/2015/04/12/Hexoä¸ªäººåšå®¢æ­å»º/","excerpt":"å‰è¨€ä¸€ç›´æƒ³è¦ä¸€ä¸ªè‡ªå·±çš„ç‹¬ç«‹åšå®¢ï¼Œä»Šå¤©å¶ç„¶å‘ç°Hexoè¿™ä¸ªä¼˜ç§€çš„é™æ€åšå®¢æ¡†æ¶ï¼Œäºæ˜¯ä¹ï¼Œä¾¿å¼€å§‹ç€æ‰‹æ­å»ºä¸ªäººåšå®¢ã€‚å½“ç„¶è¦æ­é…ç°åœ¨æµè¡Œçš„gitHub(å›½å†…çš„codingä¹Ÿæ˜¯ç›¸å½“ä¸é”™çš„)ï¼Œç®€ç›´æ˜¯å®Œç¾å†™åšå®¢çš„é»„é‡‘æ­æ¡£ï¼ˆå…è´¹+æ–¹ä¾¿ï¼‰ï¼Œæ¯•ç«Ÿå’±å°±æ˜¯ä½“éªŒä¸‹è€Œå·²ï¼Œå¹¶ä¸éœ€è¦å»ä¹°åŸŸå(å½“ç„¶,é˜¿é‡Œäº‘æœ‰çš„åŸŸåå¾ˆä¾¿å®œ,æˆ‘ä¹°äº†ä¸ªç¬¬ä¸€å¹´4å…ƒçš„,ç»­è´¹å°±ä¹Ÿå°±å‡ åå—,ä¸éœ€è¦å°±ç”¨githubé»˜è®¤åŸŸåå°±OK)ï¼æ­å»ºè¿‡ç¨‹ä¹Ÿæ˜¯ç£•ç£•ç¢°ç¢°ï¼Œä¸»è¦å‚è€ƒå¦‚ä¸‹ï¼ä¾›éœ€è¦çš„å°ä¼™ä¼´å€Ÿé‰´ï¼ ä¸»è¦å‚è€ƒå¦‚ä¸‹ä¸¤ä¸ªåšå®¢:å˜Ÿå˜Ÿç‹¬ç«‹åšå®¢CrazyMilkLogin926 - Materialä¸»é¢˜çš„ä¼˜åŒ–","text":"å‰è¨€ä¸€ç›´æƒ³è¦ä¸€ä¸ªè‡ªå·±çš„ç‹¬ç«‹åšå®¢ï¼Œä»Šå¤©å¶ç„¶å‘ç°Hexoè¿™ä¸ªä¼˜ç§€çš„é™æ€åšå®¢æ¡†æ¶ï¼Œäºæ˜¯ä¹ï¼Œä¾¿å¼€å§‹ç€æ‰‹æ­å»ºä¸ªäººåšå®¢ã€‚å½“ç„¶è¦æ­é…ç°åœ¨æµè¡Œçš„gitHub(å›½å†…çš„codingä¹Ÿæ˜¯ç›¸å½“ä¸é”™çš„)ï¼Œç®€ç›´æ˜¯å®Œç¾å†™åšå®¢çš„é»„é‡‘æ­æ¡£ï¼ˆå…è´¹+æ–¹ä¾¿ï¼‰ï¼Œæ¯•ç«Ÿå’±å°±æ˜¯ä½“éªŒä¸‹è€Œå·²ï¼Œå¹¶ä¸éœ€è¦å»ä¹°åŸŸå(å½“ç„¶,é˜¿é‡Œäº‘æœ‰çš„åŸŸåå¾ˆä¾¿å®œ,æˆ‘ä¹°äº†ä¸ªç¬¬ä¸€å¹´4å…ƒçš„,ç»­è´¹å°±ä¹Ÿå°±å‡ åå—,ä¸éœ€è¦å°±ç”¨githubé»˜è®¤åŸŸåå°±OK)ï¼æ­å»ºè¿‡ç¨‹ä¹Ÿæ˜¯ç£•ç£•ç¢°ç¢°ï¼Œä¸»è¦å‚è€ƒå¦‚ä¸‹ï¼ä¾›éœ€è¦çš„å°ä¼™ä¼´å€Ÿé‰´ï¼ ä¸»è¦å‚è€ƒå¦‚ä¸‹ä¸¤ä¸ªåšå®¢:å˜Ÿå˜Ÿç‹¬ç«‹åšå®¢CrazyMilkLogin926 - Materialä¸»é¢˜çš„ä¼˜åŒ– Nextä¸»é¢˜ç›¸å…³é…ç½®: è¯¦è§å®˜æ–¹æ–‡æ¡£ ä¸»è¦çš„é…ç½®é¡¹: ç›´æ¥è·³è½¬åšå®¢å†…é™æ€ html ç½‘ç«™,è¯¦æƒ…â†’åœ¨å¼€å¤´åŠ ä¸Š 12layout: false--- å³å¦‚ä¸‹å†™æ³•:123456789101112layout: false---&lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;title&gt;æˆ‘çš„æ¼”è¯´ - @æ¼”è¯´.io&lt;/title&gt; &lt;/head&gt; &lt;body&gt; ..... &lt;/body&gt;&lt;/html&gt; ç«™å†…æœç´¢ (add 2016-9-30 14:38:13) å®‰è£… hexo-generator-searchï¼Œåœ¨ç«™ç‚¹çš„æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1$ npm install hexo-generator-search --save ç¼–è¾‘ ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹åˆ°ä»»æ„ä½ç½®ï¼š 123search: path: search.xml field: post dashboardæŒç»­é›†æˆci-hexo-coding hexoæäº¤æœç´¢å¼•æ“ï¼ˆç™¾åº¦+è°·æ­Œï¼‰(ç™¾åº¦,è°·æ­Œå°±èƒ½æœç´¢åˆ°ä¸ªäººç½‘ç«™) å‚è€ƒ: http://tengj.top/2016/03/14/hexo6seo/æˆ‘çš„è®¿é—®è¿æ¥:http://yangxiaoge.coding.me/sitemap.xmlhttp://yangxiaoge.coding.me/baidusitemap.xmlæ³¨æ„: éœ€è¦ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶``_config.ymlä¸­urlè¿™ä¸ªå±æ€§å€¼ (è¿™ä¸ªurlå†³å®šäº†ç”Ÿæˆçš„sitemap.xlm,baidusitemap.xmlä¸­æ–‡ç« è·¯å¾„) å¦‚ä½•æ–°å¢å¯¼èˆªMenu? hexo new page &quot;link&quot; (åˆ›å»ºä¸€ä¸ªlinkç›®å½•,å¹¶ä¸”é»˜è®¤ç”Ÿæˆindex.md) ä¸»é¢˜é…ç½®æ–‡ä»¶_config.xmlä¸­ menuèŠ‚ç‚¹ä¸‹å¢åŠ  link: /link,menu_iconsèŠ‚ç‚¹(FontAwesomeå¤´åƒ)å¢åŠ  link: chain \\themes\\next\\languagesç›®å½•ä¸‹è¯­è¨€é…ç½®æ–‡ä»¶zh-Hans.ymlä¸­ menuèŠ‚ç‚¹å¢åŠ  link: é“¾æ¥ å¦‚ä½•å…³é—­æ–°å»ºé¡µé¢çš„è¯„è®ºåŠŸèƒ½ï¼Ÿ 12345---title: \"About\"layout: \"page\"comments: false--- æ·»åŠ èƒŒæ™¯ä»¥åŠç‚¹å‡»çˆ±å¿ƒæ•ˆæœ(2016-9-21 11:47:32)http://michaelxiang.me/2015/11/30/hexo-next-optimize/æ³¨æ„: ç›®å‰åªæœ‰å°†ä¸»é¢˜ä¸‹_config.xmlé…ç½®æ–‡ä»¶ä¸­çš„Schemesè®¾ç½®æˆPisces (å¦‚æœè®¾ç½®æˆMist,é‚£ä¹ˆæ‰‹æœºç«¯çš„èƒŒæ™¯åŠ¨ç”»ä¼šå¸ƒæ»¡å±å¹•,å®åœ¨å¤ªéš¾çœ‹~~~) æ‰“èµ æ–‡ç« é˜…è¯»æ•°ä½¿ç”¨çš„æ˜¯leancloud(leancloudå¾ˆå¼ºå¤§,å¯ä»¥ä½œä¸ºåç«¯äº‘ä¾›ç­‰appè°ƒç”¨) ä»£ç é«˜äº®â†“â†“â†“ æ·»åŠ å¤šè¯´è¯„è®º å¯¼èˆªå›¾æ ‡â†“â†“â†“ è¯„è®ºå¤´åƒæ—‹è½¬â€“&gt;è®¾ç½®æ–¹æ³• æ·»åŠ Fork me on Github ribbonè¯¦è§ ç«™ç‚¹è®¿é—®é‡ä¸è’œå­ : åªéœ€ä¸¤è¡Œä»£ç å°±å¯ä»¥å®Œæˆ ç½®é¡¶åŠŸèƒ½,è·Ÿå°ä¼™ä¼´LittleFishå­¦ä¹ çš„è¯·æˆ³ ğŸ‘‰ LittleFish æ–‡æœ¬ã€å›¾ç‰‡å±…ä¸­å‚è€ƒ: http://theme-next.iissnan.com/tag-plugins.html ç™¾åº¦ç»Ÿè®¡ç½‘ç«™ç»Ÿè®¡ ï¼ˆè´¦å·ï¼šyangxiaoge å¯†ç ï¼š**ï¼‰https://tongji.baidu.com/web","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://yangxiaoge.github.io/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://yangxiaoge.github.io/tags/Hexo/"}]},{"title":"Markdownè¯­æ³•","slug":"Markdownè¯­æ³•","date":"2015-04-11T06:06:10.000Z","updated":"2017-09-20T01:41:45.600Z","comments":true,"path":"2015/04/11/Markdownè¯­æ³•/","link":"","permalink":"https://yangxiaoge.github.io/2015/04/11/Markdownè¯­æ³•/","excerpt":"","text":"æ¬¢è¿ä½¿ç”¨é©¬å…‹é£è±¡@(ç¤ºä¾‹ç¬”è®°æœ¬)[é©¬å…‹é£è±¡|å¸®åŠ©|Markdown] é©¬å…‹é£è±¡æ˜¯ä¸€æ¬¾ä¸“ä¸ºå°è±¡ç¬”è®°ï¼ˆEvernoteï¼‰æ‰“é€ çš„Markdownç¼–è¾‘å™¨ï¼Œé€šè¿‡ç²¾å¿ƒçš„è®¾è®¡ä¸æŠ€æœ¯å®ç°ï¼Œé…åˆå°è±¡ç¬”è®°å¼ºå¤§çš„å­˜å‚¨å’ŒåŒæ­¥åŠŸèƒ½ï¼Œå¸¦æ¥å‰æ‰€æœªæœ‰çš„ä¹¦å†™ä½“éªŒã€‚ç‰¹ç‚¹æ¦‚è¿°ï¼š åŠŸèƒ½ä¸°å¯Œ ï¼šæ”¯æŒé«˜äº®ä»£ç å—ã€LaTeX å…¬å¼ã€æµç¨‹å›¾ï¼Œæœ¬åœ°å›¾ç‰‡ä»¥åŠé™„ä»¶ä¸Šä¼ ï¼Œç”šè‡³æˆªå›¾ç²˜è´´ï¼Œå·¥ä½œå­¦ä¹ å¥½å¸®æ‰‹ï¼› å¾—å¿ƒåº”æ‰‹ ï¼šç®€æ´é«˜æ•ˆçš„ç¼–è¾‘å™¨ï¼Œæä¾›æ¡Œé¢å®¢æˆ·ç«¯ä»¥åŠç¦»çº¿Chrome Appï¼Œæ”¯æŒç§»åŠ¨ç«¯ Webï¼› æ·±åº¦æ•´åˆ ï¼šæ”¯æŒé€‰æ‹©ç¬”è®°æœ¬å’Œæ·»åŠ æ ‡ç­¾ï¼Œæ”¯æŒä»å°è±¡ç¬”è®°è·³è½¬ç¼–è¾‘ï¼Œè½»æ¾ç®¡ç†ã€‚ [TOC] Markdownç®€ä»‹ Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæ ¼å¼ä¸°å¯Œçš„HTMLé¡µé¢ã€‚ â€”â€” ç»´åŸºç™¾ç§‘ æ­£å¦‚æ‚¨åœ¨é˜…è¯»çš„è¿™ä»½æ–‡æ¡£ï¼Œå®ƒä½¿ç”¨ç®€å•çš„ç¬¦å·æ ‡è¯†ä¸åŒçš„æ ‡é¢˜ï¼Œå°†æŸäº›æ–‡å­—æ ‡è®°ä¸ºç²—ä½“æˆ–è€…æ–œä½“ï¼Œåˆ›å»ºä¸€ä¸ªé“¾æ¥æˆ–ä¸€ä¸ªè„šæ³¨[^demo]ã€‚ä¸‹é¢åˆ—ä¸¾äº†å‡ ä¸ªé«˜çº§åŠŸèƒ½ï¼Œæ›´å¤šè¯­æ³•è¯·æŒ‰Ctrl + /æŸ¥çœ‹å¸®åŠ©ã€‚ ä»£ç å—12345678910@requires_authorizationdef somefunc(param1='', param2=0): '''A docstring''' if param1 &gt; param2: # interesting print 'Greater' return (param2 - param1 + 1) or Noneclass SomeClass: pass&gt;&gt;&gt; message = '''interpreter... prompt''' LaTeX å…¬å¼(æœ‰çš„ç¼–è¾‘å™¨æœ‰ç”¨,æœ‰çš„æ— æ•ˆ!)å¯ä»¥åˆ›å»ºè¡Œå†…å…¬å¼ï¼Œä¾‹å¦‚ $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$ã€‚æˆ–è€…å—çº§å…¬å¼ï¼š $$ x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $$ è¡¨æ ¼ Item Value Qty Computer 1600 USD 5 Phone 12 USD 12 Pipe 1 USD 234 æµç¨‹å›¾12345678st=&gt;start: Starte=&gt;endop=&gt;operation: My Operationcond=&gt;condition: Yes or No?st-&gt;op-&gt;condcond(yes)-&gt;econd(no)-&gt;op ä»¥åŠæ—¶åºå›¾: 123Alice-&gt;Bob: Hello Bob, how are you?Note right of Bob: Bob thinksBob--&gt;Alice: I am good thanks! æç¤ºï¼šæƒ³äº†è§£æ›´å¤šï¼Œè¯·æŸ¥çœ‹æµç¨‹å›¾è¯­æ³•ä»¥åŠæ—¶åºå›¾è¯­æ³•ã€‚ å¤é€‰æ¡†ä½¿ç”¨ - [ ] å’Œ - [x] è¯­æ³•å¯ä»¥åˆ›å»ºå¤é€‰æ¡†ï¼Œå®ç° todo-list ç­‰åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š [x] å·²å®Œæˆäº‹é¡¹ [ ] å¾…åŠäº‹é¡¹1 [ ] å¾…åŠäº‹é¡¹2 æ³¨æ„ï¼šç›®å‰æ”¯æŒå°šä¸å®Œå…¨ï¼Œåœ¨å°è±¡ç¬”è®°ä¸­å‹¾é€‰å¤é€‰æ¡†æ˜¯æ— æ•ˆã€ä¸èƒ½åŒæ­¥çš„ï¼Œæ‰€ä»¥å¿…é¡»åœ¨é©¬å…‹é£è±¡ä¸­ä¿®æ”¹ Markdown åŸæ–‡æ‰å¯ç”Ÿæ•ˆã€‚ä¸‹ä¸ªç‰ˆæœ¬å°†ä¼šå…¨é¢æ”¯æŒã€‚ å°è±¡ç¬”è®°ç›¸å…³ç¬”è®°æœ¬å’Œæ ‡ç­¾é©¬å…‹é£è±¡å¢åŠ äº†@(ç¬”è®°æœ¬)[æ ‡ç­¾A|æ ‡ç­¾B]è¯­æ³•, ä»¥é€‰æ‹©ç¬”è®°æœ¬å’Œæ·»åŠ æ ‡ç­¾ã€‚ ç»‘å®šè´¦å·åï¼Œ è¾“å…¥(è‡ªåŠ¨ä¼šå‡ºç°ç¬”è®°æœ¬åˆ—è¡¨ï¼Œè¯·ä»ä¸­é€‰æ‹©ã€‚ ç¬”è®°æ ‡é¢˜é©¬å…‹é£è±¡ä¼šè‡ªåŠ¨ä½¿ç”¨æ–‡æ¡£å†…å‡ºç°çš„ç¬¬ä¸€ä¸ªæ ‡é¢˜ä½œä¸ºç¬”è®°æ ‡é¢˜ã€‚ä¾‹å¦‚æœ¬æ–‡ï¼Œå°±æ˜¯ç¬¬ä¸€è¡Œçš„ æ¬¢è¿ä½¿ç”¨é©¬å…‹é£è±¡ã€‚ å¿«æ·ç¼–è¾‘ä¿å­˜åœ¨å°è±¡ç¬”è®°ä¸­çš„ç¬”è®°ï¼Œå³ä¸Šè§’ä¼šæœ‰ä¸€ä¸ªçº¢è‰²çš„ç¼–è¾‘æŒ‰é’®ï¼Œç‚¹å‡»åä¼šå›åˆ°é©¬å…‹é£è±¡ä¸­æ‰“å¼€å¹¶ç¼–è¾‘è¯¥ç¬”è®°ã€‚ æ³¨æ„ï¼šç›®å‰ç”¨æˆ·åœ¨å°è±¡ç¬”è®°ä¸­å•æ–¹é¢åšçš„ä»»ä½•ä¿®æ”¹ï¼Œé©¬å…‹é£è±¡æ˜¯æ— æ³•è‡ªåŠ¨æ„ŸçŸ¥å’Œæ›´æ–°çš„ã€‚æ‰€ä»¥è¯·åŠ¡å¿…å›åˆ°é©¬å…‹é£è±¡ç¼–è¾‘ã€‚ æ•°æ®åŒæ­¥é©¬å…‹é£è±¡é€šè¿‡å°†MarkdownåŸæ–‡ä»¥éšè—å†…å®¹ä¿å­˜åœ¨ç¬”è®°ä¸­çš„ç²¾å¦™è®¾è®¡ï¼Œå®ç°äº†å¯¹Markdownçš„å­˜å‚¨å’Œå†æ¬¡ç¼–è¾‘ã€‚æ—¢è§£å†³äº†å…¶ä»–äº§å“åªæ˜¯å•å‘å¯¼å‡ºHTMLçš„å•è–„ï¼Œåˆè§„é¿äº†æœåŠ¡ç«¯å­˜å‚¨Markdownå¸¦æ¥çš„éšç§å®‰å…¨é—®é¢˜ã€‚è¿™æ ·ï¼ŒæœåŠ¡ç«¯ä»…ä½œä¸ºå¯¹å°è±¡ç¬”è®° APIè°ƒç”¨å’Œæ•°æ®è½¬æ¢ä¹‹ç”¨ã€‚ éšç§å£°æ˜ï¼šç”¨æˆ·æ‰€æœ‰çš„ç¬”è®°æ•°æ®ï¼Œå‡ä¿å­˜åœ¨å°è±¡ç¬”è®°ä¸­ã€‚é©¬å…‹é£è±¡ä¸å­˜å‚¨ç”¨æˆ·çš„ä»»ä½•ç¬”è®°æ•°æ®ã€‚ ç¦»çº¿å­˜å‚¨é©¬å…‹é£è±¡ä½¿ç”¨æµè§ˆå™¨ç¦»çº¿å­˜å‚¨å°†å†…å®¹å®æ—¶ä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸å¿…æ‹…å¿ƒç½‘ç»œæ–­æ‰æˆ–æµè§ˆå™¨å´©æºƒã€‚ä¸ºäº†èŠ‚çœç©ºé—´å’Œé¿å…å†²çªï¼Œå·²åŒæ­¥è‡³å°è±¡ç¬”è®°å¹¶ä¸”ä¸å†ä¿®æ”¹çš„ç¬”è®°å°†åˆ é™¤éƒ¨åˆ†æœ¬åœ°ç¼“å­˜ï¼Œä¸è¿‡ä¾ç„¶å¯ä»¥éšæ—¶é€šè¿‡æ–‡æ¡£ç®¡ç†æ‰“å¼€ã€‚ æ³¨æ„ï¼šè™½ç„¶æµè§ˆå™¨å­˜å‚¨å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ¯”è¾ƒå¯é ï¼Œä½†å°è±¡ç¬”è®°ä½œä¸ºä¸“ä¸šäº‘å­˜å‚¨ï¼Œæ›´å€¼å¾—ä¿¡èµ–ã€‚ä»¥é˜²ä¸‡ä¸€ï¼Œè¯·åŠ¡å¿…ç»å¸¸åŠæ—¶åŒæ­¥åˆ°å°è±¡ç¬”è®°ã€‚ ç¼–è¾‘å™¨ç›¸å…³è®¾ç½®å³ä¾§ç³»ç»Ÿèœå•ï¼ˆå¿«æ·é”®Ctrl + Mï¼‰çš„è®¾ç½®ä¸­ï¼Œæä¾›äº†ç•Œé¢å­—ä½“ã€å­—å·ã€è‡ªå®šä¹‰CSSã€vim/emacs é”®ç›˜æ¨¡å¼ç­‰é«˜çº§é€‰é¡¹ã€‚ å¿«æ·é”®å¸®åŠ© Ctrl + /åŒæ­¥æ–‡æ¡£ Ctrl + Såˆ›å»ºæ–‡æ¡£ Ctrl + Alt + Næœ€å¤§åŒ–ç¼–è¾‘å™¨ Ctrl + Enteré¢„è§ˆæ–‡æ¡£ Ctrl + Alt + Enteræ–‡æ¡£ç®¡ç† Ctrl + Oç³»ç»Ÿèœå• Ctrl + M åŠ ç²— Ctrl + Bæ’å…¥å›¾ç‰‡ Ctrl + Gæ’å…¥é“¾æ¥ Ctrl + Læå‡æ ‡é¢˜ Ctrl + H å…³äºæ”¶è´¹é©¬å…‹é£è±¡ä¸ºæ–°ç”¨æˆ·æä¾› 10 å¤©çš„è¯•ç”¨æœŸï¼Œè¯•ç”¨æœŸè¿‡åéœ€è¦ç»­è´¹æ‰èƒ½ç»§ç»­ä½¿ç”¨ã€‚æœªè´­ä¹°æˆ–è€…æœªåŠæ—¶ç»­è´¹ï¼Œå°†ä¸èƒ½åŒæ­¥æ–°çš„ç¬”è®°ã€‚ä¹‹å‰ä¿å­˜è¿‡çš„ç¬”è®°ä¾ç„¶å¯ä»¥ç¼–è¾‘ã€‚ åé¦ˆä¸å»ºè®® å¾®åšï¼š@é©¬å…‹é£è±¡ï¼Œ@GGock é‚®ç®±ï¼š&#104;&#x75;&#115;&#x74;&#x67;&#x6f;&#x63;&#x6b;&#x40;&#x67;&#109;&#x61;&#105;&#108;&#x2e;&#99;&#x6f;&#x6d; æ„Ÿè°¢é˜…è¯»è¿™ä»½å¸®åŠ©æ–‡æ¡£ã€‚è¯·ç‚¹å‡»å³ä¸Šè§’ï¼Œç»‘å®šå°è±¡ç¬”è®°è´¦å·ï¼Œå¼€å¯å…¨æ–°çš„è®°å½•ä¸åˆ†äº«ä½“éªŒå§ã€‚ [^demo]: è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹è„šæ³¨ã€‚è¯·æŸ¥é˜… MultiMarkdown æ–‡æ¡£ å…³äºè„šæ³¨çš„è¯´æ˜ã€‚ é™åˆ¶ï¼š å°è±¡ç¬”è®°çš„ç¬”è®°å†…å®¹ä½¿ç”¨ ENML æ ¼å¼ï¼ŒåŸºäº HTMLï¼Œä½†æ˜¯ä¸æ”¯æŒæŸäº›æ ‡ç­¾å’Œå±æ€§ï¼Œä¾‹å¦‚idï¼Œè¿™å°±å¯¼è‡´è„šæ³¨å’ŒTOCæ— æ³•æ­£å¸¸ç‚¹å‡»ã€‚","categories":[{"name":"Markdownè¯­æ³•","slug":"Markdownè¯­æ³•","permalink":"https://yangxiaoge.github.io/categories/Markdownè¯­æ³•/"}],"tags":[{"name":"Markdown","slug":"Markdown","permalink":"https://yangxiaoge.github.io/tags/Markdown/"}]}]}