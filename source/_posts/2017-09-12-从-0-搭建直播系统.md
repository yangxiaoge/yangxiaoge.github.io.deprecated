---
title: 从 0 搭建直播系统
date: 2017-09-12 15:45:18
updated: 2017-10-12 15:45:59
tags: [直播]
thumbnail: "https://ooo.0o0.ooo/2017/09/19/59c0df395d438.gif"
---

一直想搞个直播的 Demo，今天正好看到[鸿洋公众号：轻松入门 Android 直播相关技术 从 0 搭建直播系统](http://blog.csdn.net/lmj623565791/article/details/77937483)，索性就把我自己的搭(折)建(腾)过程做一个记录。
<!--more-->
搭建流程：

> 服务器系统：Ubuntu 16.10 系统
推流，拉流系统：Win 7, Android

一个简易的直播系统，大致可以由三部分组成（详情见[鸿洋博客](http://blog.csdn.net/lmj623565791/article/details/77937483)）：

- 搭建一个 rtmp 媒体服务器：这里使用 srs，链接为：https://github.com/ossrs/srs
- 推流端：这里使用 obs，链接为：https://obsproject.com/
- 拉流端：这里使用播放器 vlc，链接为：http://www.videolan.org/vlc/

### 使用第三方 SDK 推流
这里以百度云的直播 SDK 为例，下载地址： 
https://cloud.baidu.com/doc/Downloadcenter/Push.html#.E7.89.88.E6.9C.AC.E6.9B.B4.E6.96.B0.E8.AF.B4.E6.98.8E

修改推流地址之后上传到了我的 [PushFlowLive](https://github.com/yangxiaoge/PushFlowLive)

[apk 下载](https://github.com/yangxiaoge/Zz_Application/raw/master/gif_public/%E4%BB%8E%200%20%E6%90%AD%E5%BB%BA%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/apk/baidu-livecamera-%E6%8E%A8%E6%B5%81.apk)

### 使用开源项目推流

使用一个开源项目：

> https://github.com/begeekmyfriend/yasea

> [apk 下载](https://github.com/yangxiaoge/Zz_Application/raw/master/gif_public/%E4%BB%8E%200%20%E6%90%AD%E5%BB%BA%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/apk/yasea-推流.apk)

### 利用 ffmpeg 推流
> 详情见鸿洋博客

大家可以自己下载 ffmepg 的源码，然后按照网上的方式去编成 so，简单的一点而且比较实用的，就是编出可以执行 ffmpeg 命令的 so，这样就能干很多事情了。

这里，由于篇幅，我们就直接使用别人编好的项目了。

https://github.com/WritingMinds/ffmpeg-android-java



***搭建过程截图***：
直播步骤：1，开启rtmp 媒体服务器 2，推流（推流客户端，apk等） 3，拉流（vlc等）
![](https://raw.githubusercontent.com/yangxiaoge/Zz_Application/fc9482b0e15cf82aa60e0a7b943e41d22cac09c9/gif_public/%E4%BB%8E%200%20%E6%90%AD%E5%BB%BA%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/photo_2017-09-12_14-43-43.jpg)

![利用手机端推流，电脑端通过 VLC 拉流](https://raw.githubusercontent.com/yangxiaoge/Zz_Application/fc9482b0e15cf82aa60e0a7b943e41d22cac09c9/gif_public/%E4%BB%8E%200%20%E6%90%AD%E5%BB%BA%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/photo_2017-09-12_14-43-51.jpg)

![利用手机端推流，电脑端通过 VLC 拉流](https://raw.githubusercontent.com/yangxiaoge/Zz_Application/fc9482b0e15cf82aa60e0a7b943e41d22cac09c9/gif_public/%E4%BB%8E%200%20%E6%90%AD%E5%BB%BA%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/photo_2017-09-12_14-43-57.jpg)

![利用手机端推流，电脑端通过 VLC 拉流](https://raw.githubusercontent.com/yangxiaoge/Zz_Application/fc9482b0e15cf82aa60e0a7b943e41d22cac09c9/gif_public/%E4%BB%8E%200%20%E6%90%AD%E5%BB%BA%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/photo_2017-09-12_14-44-02.jpg)

![](https://raw.githubusercontent.com/yangxiaoge/Zz_Application/fc9482b0e15cf82aa60e0a7b943e41d22cac09c9/gif_public/%E4%BB%8E%200%20%E6%90%AD%E5%BB%BA%E7%9B%B4%E6%92%AD%E7%B3%BB%E7%BB%9F/photo_2017-09-12_14-44-04.jpg)


> 封面小黄人动图来自 [giphy](https://giphy.com/search/new-follower)
